{"version":3,"file":"static/js/67.b2be8dec.chunk.js","mappings":"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","sources":["../node_modules/@fluentui/react-hooks/src/useUnmount.ts","../node_modules/@fluentui/react/lib/components/src/components/OverflowSet/OverflowButton.tsx","../node_modules/@fluentui/react/lib/components/src/components/OverflowSet/OverflowSet.base.tsx","../node_modules/@fluentui/react/lib/components/src/components/OverflowSet/OverflowSet.styles.ts","../node_modules/@fluentui/react/lib/components/src/components/ResizeGroup/ResizeGroup.types.ts","../node_modules/@fluentui/react/lib/components/src/components/OverflowSet/OverflowSet.ts","../node_modules/@fluentui/react/lib/components/src/components/ResizeGroup/ResizeGroup.base.tsx","../node_modules/@fluentui/react/lib/components/src/components/ResizeGroup/ResizeGroup.tsx","../node_modules/@fluentui/react/lib/components/Button/src/components/Button/CommandBarButton/CommandBarButton.styles.ts","../node_modules/@fluentui/react/lib/components/Button/src/components/Button/CommandBarButton/CommandBarButton.tsx","../node_modules/@fluentui/react/lib/components/src/components/CommandBar/CommandBar.styles.ts","../node_modules/@fluentui/react/lib/components/src/components/CommandBar/CommandBar.base.tsx","../node_modules/@fluentui/react/lib/components/src/components/CommandBar/CommandBar.tsx","../node_modules/@fluentui/react/lib/components/src/components/FocusTrapZone/FocusTrapZone.tsx","../node_modules/@fluentui/react/lib/components/src/components/Link/useLink.ts","../node_modules/@fluentui/react/lib/components/src/components/Link/Link.base.tsx","../node_modules/@fluentui/react/lib/components/src/components/Link/Link.styles.ts","../node_modules/@fluentui/react/lib/components/src/components/Link/Link.tsx","../node_modules/@fluentui/react/lib/components/src/components/List/List.types.ts","../node_modules/@fluentui/react/lib/components/src/components/List/List.tsx","../node_modules/@fluentui/react/lib/components/src/components/Modal/Modal.styles.ts","../node_modules/@fluentui/react/lib/utilities/src/utilities/DraggableZone/DraggableZone.styles.ts","../node_modules/@fluentui/react/lib/utilities/src/utilities/DraggableZone/DraggableZone.tsx","../node_modules/@fluentui/react-hooks/src/useSetTimeout.ts","../node_modules/@fluentui/react/lib/components/src/components/Modal/Modal.base.tsx","../node_modules/@fluentui/react/lib/components/src/components/Modal/Modal.ts","../node_modules/@fluentui/react/lib/components/src/components/Overlay/Overlay.base.tsx","../node_modules/@fluentui/react/lib/components/src/components/Overlay/Overlay.styles.ts","../node_modules/@fluentui/react/lib/components/src/components/Overlay/Overlay.tsx","../node_modules/@fluentui/react/lib/components/src/components/Panel/Panel.types.ts","../node_modules/@fluentui/react/lib/components/src/components/Panel/Panel.base.tsx","../node_modules/@fluentui/react/lib/components/src/components/Panel/Panel.styles.ts","../node_modules/@fluentui/react/lib/components/src/components/Panel/Panel.ts","../node_modules/@fluentui/utilities/src/initials.ts","../node_modules/@fluentui/react/lib/components/src/components/Persona/PersonaConsts.tsx","../node_modules/@fluentui/react/lib/components/Persona/src/components/Persona/PersonaPresence/PersonaPresence.base.tsx","../node_modules/@fluentui/react/lib/components/Persona/src/components/Persona/PersonaPresence/PersonaPresence.styles.ts","../node_modules/@fluentui/react/lib/components/Persona/src/components/Persona/PersonaPresence/PersonaPresence.tsx","../node_modules/@fluentui/react/lib/components/src/components/Persona/PersonaInitialsColor.ts","../node_modules/@fluentui/react/lib/components/Persona/src/components/Persona/PersonaCoin/PersonaCoin.base.tsx","../node_modules/@fluentui/react/lib/components/Persona/src/components/Persona/PersonaCoin/PersonaCoin.styles.ts","../node_modules/@fluentui/react/lib/components/Persona/src/components/Persona/PersonaCoin/PersonaCoin.tsx","../node_modules/@fluentui/react/lib/components/src/components/Persona/Persona.base.tsx","../node_modules/@fluentui/react/lib/components/src/components/Persona/Persona.styles.ts","../node_modules/@fluentui/react/lib/components/src/components/Persona/Persona.tsx","../node_modules/@fluentui/react/lib/components/src/components/Persona/Persona.types.ts","../node_modules/@fluentui/react/lib/components/src/components/Tooltip/Tooltip.types.ts","../node_modules/@fluentui/react/lib/components/src/components/Tooltip/Tooltip.base.tsx","../node_modules/@fluentui/react/lib/components/src/components/Tooltip/Tooltip.tsx","../node_modules/@fluentui/react/lib/components/src/components/Tooltip/Tooltip.styles.ts","../node_modules/@fluentui/react/lib/components/src/components/Tooltip/TooltipHost.base.tsx","../node_modules/@fluentui/utilities/src/overflow.ts","../node_modules/@fluentui/react/lib/components/src/components/Tooltip/TooltipHost.styles.ts","../node_modules/@fluentui/react/lib/components/src/components/Tooltip/TooltipHost.ts","../node_modules/@fluentui/react/lib/components/src/components/Tooltip/TooltipHost.types.ts","../node_modules/@fluentui/theme/lib/src/colors/FluentColors.ts","../node_modules/base64-js/index.js","../node_modules/buffer/index.js","../node_modules/err-code/index.js","../node_modules/events/events.js","../node_modules/get-browser-rtc/index.js","../node_modules/ieee754/index.js","../node_modules/inherits/inherits_browser.js","../node_modules/queue-microtask/index.js","../node_modules/randombytes/browser.js","../node_modules/readable-stream/errors-browser.js","../node_modules/readable-stream/lib/_stream_duplex.js","../node_modules/readable-stream/lib/_stream_passthrough.js","../node_modules/readable-stream/lib/_stream_readable.js","../node_modules/readable-stream/lib/_stream_transform.js","../node_modules/readable-stream/lib/_stream_writable.js","../node_modules/readable-stream/lib/internal/streams/async_iterator.js","../node_modules/readable-stream/lib/internal/streams/buffer_list.js","../node_modules/readable-stream/lib/internal/streams/destroy.js","../node_modules/readable-stream/lib/internal/streams/end-of-stream.js","../node_modules/readable-stream/lib/internal/streams/from-browser.js","../node_modules/readable-stream/lib/internal/streams/pipeline.js","../node_modules/readable-stream/lib/internal/streams/state.js","../node_modules/readable-stream/lib/internal/streams/stream-browser.js","../node_modules/readable-stream/readable-browser.js","../node_modules/safe-buffer/index.js","../node_modules/simple-peer/index.js","../node_modules/string_decoder/lib/string_decoder.js","../node_modules/util-deprecate/browser.js"],"sourcesContent":["import * as React from 'react';\n\n/**\n * Hook which synchronously executes a callback when the component is about to unmount.\n *\n * @param callback - Function to call during unmount.\n */\nexport const useUnmount = (callback: () => void) => {\n  const unmountRef = React.useRef(callback);\n  unmountRef.current = callback;\n  React.useEffect(\n    () => () => {\n      unmountRef.current?.();\n    },\n    [],\n  );\n};\n","import * as React from 'react';\nimport { KeytipManager } from '../../utilities/keytips/KeytipManager';\nimport { useConst, usePrevious } from '@fluentui/react-hooks';\nimport type { IKeytipProps } from '../../Keytip';\nimport type { IOverflowSetItemProps, IOverflowSetProps } from './OverflowSet.types';\n\nconst registerPersistedKeytips = (\n  keytipsToRegister: IKeytipProps[],\n  keytipManager: KeytipManager,\n  registeredPersistedKeytips: { [uniqueID: string]: IKeytipProps },\n) => {\n  for (const keytip of keytipsToRegister) {\n    const uniqueID = keytipManager.register(keytip, true);\n    // Update map\n    registeredPersistedKeytips[uniqueID] = keytip;\n  }\n};\n\nconst unregisterPersistedKeytips = (\n  keytipManager: KeytipManager,\n  registeredPersistedKeytips: { [uniqueID: string]: IKeytipProps },\n) => {\n  for (const uniqueID of Object.keys(registeredPersistedKeytips)) {\n    keytipManager.unregister(registeredPersistedKeytips[uniqueID], uniqueID, true);\n    delete registeredPersistedKeytips[uniqueID];\n  }\n};\n\nconst useKeytipRegistrations = (\n  registeredPersistedKeytips: { [uniqueID: string]: IKeytipProps },\n  keytipsToRegister: IKeytipProps[],\n  keytipManager: KeytipManager,\n) => {\n  const prevPersistedKeytips = usePrevious(registeredPersistedKeytips);\n\n  // Update\n  React.useEffect(() => {\n    if (prevPersistedKeytips) {\n      // Unregister old keytips\n      unregisterPersistedKeytips(keytipManager, prevPersistedKeytips);\n      // Register new keytips\n      registerPersistedKeytips(keytipsToRegister, keytipManager, registeredPersistedKeytips);\n    }\n  });\n\n  // Mount/Unmount\n  React.useEffect(() => {\n    // Register on mount\n    registerPersistedKeytips(keytipsToRegister, keytipManager, registeredPersistedKeytips);\n    return () => {\n      // Unregister on unmount\n      unregisterPersistedKeytips(keytipManager, registeredPersistedKeytips);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n};\n\nexport const OverflowButton = (props: IOverflowSetProps) => {\n  const keytipManager: KeytipManager = KeytipManager.getInstance();\n  const { className, overflowItems, keytipSequences, itemSubMenuProvider, onRenderOverflowButton } = props;\n\n  const persistedKeytips = useConst<{ [uniqueID: string]: IKeytipProps }>({});\n\n  // Gets the subMenu for an overflow item\n  const getSubMenuForItem = React.useCallback(\n    (item: IOverflowSetItemProps) => {\n      // Checks if itemSubMenuProvider has been defined, if not defaults to subMenuProps\n      if (itemSubMenuProvider) {\n        return itemSubMenuProvider(item);\n      }\n      if (item.subMenuProps) {\n        return item.subMenuProps.items;\n      }\n      return undefined;\n    },\n    [itemSubMenuProvider],\n  );\n\n  const { modifiedOverflowItems, keytipsToRegister } = React.useMemo(() => {\n    const newKeytipsToRegister: IKeytipProps[] = [];\n    let newOverflowItems: IOverflowSetItemProps[] | undefined = [];\n\n    if (keytipSequences) {\n      overflowItems?.forEach(overflowItem => {\n        const keytip = (overflowItem as IOverflowSetItemProps).keytipProps;\n\n        if (keytip) {\n          // Create persisted keytip\n          const persistedKeytip: IKeytipProps = {\n            content: keytip.content,\n            keySequences: keytip.keySequences,\n            disabled: keytip.disabled || !!(overflowItem.disabled || overflowItem.isDisabled),\n            hasDynamicChildren: keytip.hasDynamicChildren,\n            hasMenu: keytip.hasMenu,\n          };\n\n          if (keytip.hasDynamicChildren || getSubMenuForItem(overflowItem)) {\n            // If the keytip has a submenu or children nodes, change onExecute to persistedKeytipExecute\n            persistedKeytip.onExecute = keytipManager.menuExecute.bind(\n              keytipManager,\n              keytipSequences,\n              overflowItem?.keytipProps?.keySequences,\n            );\n            persistedKeytip.hasOverflowSubMenu = true;\n          } else {\n            // If the keytip doesn't have a submenu, just execute the original function\n            persistedKeytip.onExecute = keytip.onExecute;\n          }\n\n          newKeytipsToRegister.push(persistedKeytip);\n\n          // Add the overflow sequence to this item\n          const newOverflowItem = {\n            ...overflowItem,\n            keytipProps: {\n              ...keytip,\n              overflowSetSequence: keytipSequences,\n            },\n          };\n          newOverflowItems?.push(newOverflowItem);\n        } else {\n          // Nothing to change, add overflowItem to list\n          newOverflowItems?.push(overflowItem);\n        }\n      });\n    } else {\n      newOverflowItems = overflowItems;\n    }\n    return { modifiedOverflowItems: newOverflowItems, keytipsToRegister: newKeytipsToRegister };\n  }, [overflowItems, getSubMenuForItem, keytipManager, keytipSequences]);\n\n  useKeytipRegistrations(persistedKeytips, keytipsToRegister, keytipManager);\n\n  return <div className={className}>{onRenderOverflowButton(modifiedOverflowItems)}</div>;\n};\n","import * as React from 'react';\nimport { useMergedRefs } from '@fluentui/react-hooks';\nimport { classNamesFunction, divProperties, elementContains, getNativeProps, focusFirstChild } from '../../Utilities';\nimport { OverflowButton } from './OverflowButton';\nimport type { IProcessedStyleSet } from '../../Styling';\nimport type { IOverflowSetProps, IOverflowSetStyles, IOverflowSetStyleProps, IOverflowSet } from './OverflowSet.types';\n\nconst getClassNames = classNamesFunction<IOverflowSetStyleProps, IOverflowSetStyles>();\nconst COMPONENT_NAME = 'OverflowSet';\n\nconst useComponentRef = (props: IOverflowSetProps, divContainer: React.RefObject<HTMLDivElement>) => {\n  React.useImperativeHandle(\n    props.componentRef,\n    (): IOverflowSet => ({\n      focus: (): boolean => {\n        let focusSucceeded = false;\n        if (divContainer.current) {\n          focusSucceeded = focusFirstChild(divContainer.current);\n        }\n        return focusSucceeded;\n      },\n      focusElement: (childElement?: HTMLElement) => {\n        let focusSucceeded = false;\n        if (!childElement) {\n          return false;\n        }\n        if (divContainer.current && elementContains(divContainer.current, childElement)) {\n          childElement.focus();\n          focusSucceeded = document.activeElement === childElement;\n        }\n        return focusSucceeded;\n      },\n    }),\n    [divContainer],\n  );\n};\n\nexport const OverflowSetBase: React.FunctionComponent<IOverflowSetProps> = React.forwardRef<\n  HTMLDivElement,\n  IOverflowSetProps\n>((props, forwardedRef) => {\n  const divContainer = React.useRef<HTMLDivElement>(null);\n  const mergedRef = useMergedRefs(divContainer, forwardedRef);\n  useComponentRef(props, divContainer);\n\n  const { items, overflowItems, className, styles, vertical, role, overflowSide = 'end', onRenderItem } = props;\n\n  const classNames: IProcessedStyleSet<IOverflowSetStyles> = getClassNames(styles, { className, vertical });\n\n  const showOverflow = !!overflowItems && overflowItems.length > 0;\n\n  return (\n    <div\n      {...getNativeProps<React.HTMLAttributes<HTMLDivElement>>(props, divProperties)}\n      role={role || 'group'}\n      aria-orientation={role === 'menubar' ? (vertical === true ? 'vertical' : 'horizontal') : undefined}\n      className={classNames.root}\n      ref={mergedRef}\n    >\n      {overflowSide === 'start' && showOverflow && <OverflowButton {...props} className={classNames.overflowButton} />}\n      {items &&\n        items.map((item, i) => (\n          <div className={classNames.item} key={item.key} role=\"none\">\n            {onRenderItem(item)}\n          </div>\n        ))}\n      {overflowSide === 'end' && showOverflow && <OverflowButton {...props} className={classNames.overflowButton} />}\n    </div>\n  );\n});\nOverflowSetBase.displayName = COMPONENT_NAME;\n","import type { IOverflowSetStyles, IOverflowSetStyleProps } from './OverflowSet.types';\nimport type { IStyleFunction } from '../../Utilities';\nimport type { IStyle } from '../../Styling';\n\nconst overflowItemStyle: IStyle = {\n  flexShrink: 0,\n  display: 'inherit',\n};\n\nexport const getStyles: IStyleFunction<IOverflowSetStyleProps, IOverflowSetStyles> = props => {\n  const { className, vertical } = props;\n  return {\n    root: [\n      'ms-OverflowSet',\n      {\n        position: 'relative',\n        display: 'flex',\n        flexWrap: 'nowrap',\n      },\n      vertical && { flexDirection: 'column' },\n      className,\n    ],\n    item: ['ms-OverflowSet-item', overflowItemStyle],\n    overflowButton: ['ms-OverflowSet-overflowButton', overflowItemStyle],\n  };\n};\n","import * as React from 'react';\nimport type { IStyle, ITheme } from '../../Styling';\nimport type { IRefObject, IStyleFunctionOrObject } from '../../Utilities';\n\n/**\n * {@docCategory ResizeGroup}\n */\nexport enum ResizeGroupDirection {\n  horizontal = 0,\n  vertical = 1,\n}\n\n/**\n * {@docCategory ResizeGroup}\n */\nexport interface IResizeGroup {\n  /**\n   * Remeasures the available space.\n   */\n  remeasure(): void;\n}\n\n/**\n * {@docCategory ResizeGroup}\n */\nexport interface IResizeGroupProps extends React.HTMLAttributes<HTMLDivElement>, React.RefAttributes<HTMLDivElement> {\n  /**\n   * Optional callback to access the IResizeGroup interface. Use this instead of ref for accessing\n   * the public methods and properties of the component.\n   */\n  componentRef?: IRefObject<IResizeGroup>;\n\n  /**\n   * Call to provide customized styling that will layer on top of the variant rules\n   * @deprecated Removed to reduce bundle size.  Please use `className` and add css rules to `className` instead.\n   */\n  styles?: IStyleFunctionOrObject<IResizeGroupStyleProps, IResizeGroupStyles>;\n\n  /**\n   * Theme provided by HOC.\n   */\n  theme?: ITheme;\n\n  /**\n   * Additional css class to apply to the Component\n   * @defaultvalue undefined\n   */\n  className?: string;\n\n  /**\n   * Direction of this resize group, vertical or horizontal\n   * @defaultvalue ResizeGroupDirection.horizontal\n   */\n  direction?: ResizeGroupDirection;\n\n  /**\n   * Initial data to be passed to the `onRenderData` function. When there is no `onGrowData` provided, this data should\n   * represent what should be passed to the render function when the parent container of the ResizeGroup is at its\n   * maximum supported width. A `cacheKey` property may optionally be included as part of the data. Two data objects\n   * with the same `cacheKey` will be assumed to take up the same width and will prevent measurements.\n   * The type of `cacheKey` is a string.\n   */\n  data: any;\n\n  /**\n   * Function to render the data. Called when rendering the contents to the screen and when\n   * rendering in a hidden div to measure the size of the contents.\n   */\n  onRenderData: (data: any) => JSX.Element;\n\n  /**\n   * Function to be performed on the data in order to reduce its width and make it fit into the given space.\n   * If there are no more scaling steps to apply, it should return undefined to prevent\n   * an infinite render loop.\n   */\n  onReduceData: (prevData: any) => any;\n\n  /**\n   * Function to be performed on the data in order to increase its width. It is called in scenarios where the\n   * container has more room than the previous render and we may be able to fit more content. If there are no more\n   * scaling operations to perform on teh data, it should return undefined to prevent an infinite render loop.\n   */\n  onGrowData?: (prevData: any) => any;\n\n  /**\n   * Function to be called every time data is rendered. It provides the data that was actually rendered.\n   * A use case would be adding telemetry when a particular control is shown in an overflow well or\n   * dropped as a result of onReduceData or to count the number of renders that an implementation of\n   * onReduceData triggers.\n   */\n  dataDidRender?: (renderedData: any) => void;\n}\n\n/**\n * {@docCategory ResizeGroup}\n */\nexport interface IResizeGroupStyleProps {\n  /**\n   * Accept theme prop.\n   */\n  theme: ITheme;\n\n  /**\n   * Accept custom classNames\n   */\n  className?: string;\n}\n\n/**\n * {@docCategory ResizeGroup}\n */\nexport interface IResizeGroupStyles {\n  /**\n   * Style for the root element.\n   */\n  root: IStyle;\n}\n","import * as React from 'react';\nimport { styled } from '../../Utilities';\nimport { OverflowSetBase } from './OverflowSet.base';\nimport { getStyles } from './OverflowSet.styles';\nimport type { IOverflowSetProps } from './OverflowSet.types';\n\nexport const OverflowSet: React.FunctionComponent<IOverflowSetProps> = styled(OverflowSetBase, getStyles, undefined, {\n  scope: 'OverflowSet',\n});\n","import * as React from 'react';\nimport { Async, divProperties, getNativeProps } from '../../Utilities';\nimport { ResizeGroupDirection } from './ResizeGroup.types';\nimport { useConst, useMergedRefs, useAsync, useOnEvent, useWarnings } from '@fluentui/react-hooks';\nimport { useWindow } from '../../WindowProvider';\nimport type { IResizeGroupProps } from './ResizeGroup.types';\n\nconst RESIZE_DELAY = 16;\n\nexport interface IResizeGroupState {\n  /**\n   * Final data used to render proper sized component\n   */\n  renderedData?: any;\n\n  /**\n   * Data to render in a hidden div for measurement\n   */\n  dataToMeasure?: any;\n\n  /**\n   * Set to true when the content container might have new dimensions and should\n   * be remeasured.\n   */\n  measureContainer?: boolean;\n\n  /**\n   * Are we resizing to accommodate having more or less available space?\n   * The 'grow' direction is when the container may have more room than the last render,\n   * such as when a window resize occurs. This means we will try to fit more content in the window.\n   * The 'shrink' direction is when the contents don't fit in the container and we need\n   * to find a transformation of the data that makes everything fit.\n   */\n  resizeDirection?: 'grow' | 'shrink';\n}\n\n/**\n * Returns a simple object is able to store measurements with a given key.\n */\nexport const getMeasurementCache = () => {\n  const measurementsCache: { [key: string]: number } = {};\n\n  return {\n    /**\n     * Checks if the provided data has a cacheKey. If it has a cacheKey and there is a\n     * corresponding entry in the measurementsCache, then it will return that value.\n     * Returns undefined otherwise.\n     */\n    getCachedMeasurement: (data: any): number | undefined => {\n      if (data && data.cacheKey && measurementsCache.hasOwnProperty(data.cacheKey)) {\n        return measurementsCache[data.cacheKey];\n      }\n\n      return undefined;\n    },\n    /**\n     * Should be called whenever there is a new measurement associated with a given data object.\n     * If the data has a cacheKey, store that measurement in the measurementsCache.\n     */\n    addMeasurementToCache: (data: any, measurement: number): void => {\n      if (data.cacheKey) {\n        measurementsCache[data.cacheKey] = measurement;\n      }\n    },\n  };\n};\n\n/**\n * Returns a function that is able to compute the next state for the ResizeGroup given the current\n * state and any measurement updates.\n */\nexport const getNextResizeGroupStateProvider = (measurementCache = getMeasurementCache()) => {\n  const _measurementCache = measurementCache;\n  let _containerDimension: number | undefined;\n\n  /**\n   * Gets the width/height of the data rendered in a hidden div.\n   * @param measuredData - The data corresponding to the measurement we wish to take.\n   * @param getElementToMeasureDimension - A function that returns the measurement of the rendered data.\n   * Only called when the measurement is not in the cache.\n   */\n  function _getMeasuredDimension(measuredData: any, getElementToMeasureDimension: () => number): number {\n    const cachedDimension = _measurementCache.getCachedMeasurement(measuredData);\n    if (cachedDimension !== undefined) {\n      return cachedDimension;\n    }\n\n    const measuredDimension = getElementToMeasureDimension();\n    _measurementCache.addMeasurementToCache(measuredData, measuredDimension);\n    return measuredDimension;\n  }\n\n  /**\n   * Will get the next IResizeGroupState based on the current data while trying to shrink contents\n   * to fit in the container.\n   * @param data - The initial data point to start measuring.\n   * @param onReduceData - Function that transforms the data into something that should render with less width/height.\n   * @param getElementToMeasureDimension - A function that returns the measurement of the rendered data.\n   * Only called when the measurement is not in the cache.\n   */\n  function _shrinkContentsUntilTheyFit(\n    data: any,\n    onReduceData: (prevData: any) => any,\n    getElementToMeasureDimension: () => number,\n  ): IResizeGroupState {\n    let dataToMeasure = data;\n    let measuredDimension: number | undefined = _getMeasuredDimension(data, getElementToMeasureDimension);\n\n    while (measuredDimension > _containerDimension!) {\n      const nextMeasuredData = onReduceData(dataToMeasure);\n\n      // We don't want to get stuck in an infinite render loop when there are no more\n      // scaling steps, so implementations of onReduceData should return undefined when\n      // there are no more scaling states to apply.\n      if (nextMeasuredData === undefined) {\n        return {\n          renderedData: dataToMeasure,\n          resizeDirection: undefined,\n          dataToMeasure: undefined,\n        };\n      }\n\n      measuredDimension = _measurementCache.getCachedMeasurement(nextMeasuredData);\n\n      // If the measurement isn't in the cache, we need to re-render with some data in a hidden div\n      if (measuredDimension === undefined) {\n        return {\n          dataToMeasure: nextMeasuredData,\n          resizeDirection: 'shrink',\n        };\n      }\n\n      dataToMeasure = nextMeasuredData;\n    }\n\n    return {\n      renderedData: dataToMeasure,\n      resizeDirection: undefined,\n      dataToMeasure: undefined,\n    };\n  }\n\n  /**\n   * This function should be called when the state changes in a manner that might allow for more content to fit\n   * on the screen, such as the window width/height growing.\n   * @param data - The initial data point to start measuring.\n   * @param onGrowData - Function that transforms the data into something that may take up more space when rendering.\n   * @param getElementToMeasureDimension - A function that returns the measurement of the rendered data.\n   * Only called when the measurement is not in the cache.\n   */\n  function _growDataUntilItDoesNotFit(\n    data: any,\n    onGrowData: (prevData: any) => any,\n    getElementToMeasureDimension: () => number,\n    onReduceData: (prevData: any) => any,\n  ): IResizeGroupState {\n    let dataToMeasure = data;\n    let measuredDimension: number | undefined = _getMeasuredDimension(data, getElementToMeasureDimension);\n\n    while (measuredDimension < _containerDimension!) {\n      const nextMeasuredData = onGrowData(dataToMeasure);\n\n      // We don't want to get stuck in an infinite render loop when there are no more\n      // scaling steps, so implementations of onGrowData should return undefined when\n      // there are no more scaling states to apply.\n      if (nextMeasuredData === undefined) {\n        return {\n          renderedData: dataToMeasure,\n          resizeDirection: undefined,\n          dataToMeasure: undefined,\n        };\n      }\n\n      measuredDimension = _measurementCache.getCachedMeasurement(nextMeasuredData);\n      // If the measurement isn't in the cache, we need to re-render with some data in a hidden div\n      if (measuredDimension === undefined) {\n        return {\n          dataToMeasure: nextMeasuredData,\n        };\n      }\n\n      dataToMeasure = nextMeasuredData;\n    }\n\n    // Once the loop is done, we should now shrink until the contents fit.\n    return {\n      resizeDirection: 'shrink',\n      ..._shrinkContentsUntilTheyFit(dataToMeasure, onReduceData, getElementToMeasureDimension),\n    };\n  }\n\n  /**\n   * Handles an update to the container width/height.\n   * Should only be called when we knew the previous container width/height.\n   * @param newDimension - The new width/height of the container.\n   * @param fullDimensionData - The initial data passed in as a prop to resizeGroup.\n   * @param renderedData - The data that was rendered prior to the container size changing.\n   * @param onGrowData - Set to true if the Resize group has an onGrowData function.\n   */\n  function _updateContainerDimension(\n    newDimension: number,\n    fullDimensionData: any,\n    renderedData: any,\n    onGrowData?: (prevData: any) => any,\n  ): IResizeGroupState {\n    let nextState: IResizeGroupState;\n    if (newDimension > _containerDimension!) {\n      if (onGrowData) {\n        nextState = {\n          resizeDirection: 'grow',\n          dataToMeasure: onGrowData(renderedData),\n        };\n      } else {\n        nextState = {\n          resizeDirection: 'shrink',\n          dataToMeasure: fullDimensionData,\n        };\n      }\n    } else {\n      nextState = {\n        resizeDirection: 'shrink',\n        dataToMeasure: renderedData,\n      };\n    }\n    _containerDimension = newDimension;\n    return { ...nextState, measureContainer: false };\n  }\n\n  function getNextState(\n    props: IResizeGroupProps,\n    currentState: IResizeGroupState,\n    getElementToMeasureDimension: () => number,\n    newContainerDimension?: number,\n  ): IResizeGroupState | undefined {\n    // If there is no new container width/height or data to measure, there is no need for a new state update\n    if (newContainerDimension === undefined && currentState.dataToMeasure === undefined) {\n      return undefined;\n    }\n\n    if (newContainerDimension) {\n      // If we know the last container size and we rendered data at that width/height, we can do an optimized render\n      if (_containerDimension && currentState.renderedData && !currentState.dataToMeasure) {\n        return {\n          ...currentState,\n          ..._updateContainerDimension(newContainerDimension, props.data, currentState.renderedData, props.onGrowData),\n        };\n      }\n\n      // If we are just setting the container width/height for the first time, we can't do any optimizations\n      _containerDimension = newContainerDimension;\n    }\n\n    let nextState: IResizeGroupState = {\n      ...currentState,\n      measureContainer: false,\n    };\n\n    if (currentState.dataToMeasure) {\n      if (currentState.resizeDirection === 'grow' && props.onGrowData) {\n        nextState = {\n          ...nextState,\n          ..._growDataUntilItDoesNotFit(\n            currentState.dataToMeasure,\n            props.onGrowData,\n            getElementToMeasureDimension,\n            props.onReduceData,\n          ),\n        };\n      } else {\n        nextState = {\n          ...nextState,\n          ..._shrinkContentsUntilTheyFit(currentState.dataToMeasure, props.onReduceData, getElementToMeasureDimension),\n        };\n      }\n    }\n\n    return nextState;\n  }\n\n  /** Function that determines if we need to render content for measurement based on the measurement cache contents. */\n  function shouldRenderDataForMeasurement(dataToMeasure: any | undefined): boolean {\n    if (!dataToMeasure || _measurementCache.getCachedMeasurement(dataToMeasure) !== undefined) {\n      return false;\n    }\n\n    return true;\n  }\n\n  function getInitialResizeGroupState(data: any): IResizeGroupState {\n    return {\n      dataToMeasure: { ...data },\n      resizeDirection: 'grow',\n      measureContainer: true,\n    };\n  }\n\n  return {\n    getNextState,\n    shouldRenderDataForMeasurement,\n    getInitialResizeGroupState,\n  };\n};\n\n// Provides a context property that (if true) tells any child components that\n// they are only being used for measurement purposes and will not be visible.\nexport const MeasuredContext = React.createContext({ isMeasured: false });\n\n// Styles for the hidden div used for measurement\nconst hiddenDivStyles: React.CSSProperties = { position: 'fixed', visibility: 'hidden' };\nconst hiddenParentStyles: React.CSSProperties = { position: 'relative' };\nconst COMPONENT_NAME = 'ResizeGroup';\n\ntype ResizeDataAction = {\n  type: 'resizeData' | keyof IResizeGroupState;\n  value: IResizeGroupState[keyof IResizeGroupState] | IResizeGroupState;\n};\n\n/**\n * Use useReducer instead of userState because React is not batching the state updates\n * when state is set in callbacks of setTimeout or requestAnimationFrame.\n * See issue: https://github.com/facebook/react/issues/14259\n */\nfunction resizeDataReducer(state: IResizeGroupState, action: ResizeDataAction): IResizeGroupState {\n  switch (action.type) {\n    case 'resizeData':\n      return { ...action.value };\n    case 'dataToMeasure':\n      return { ...state, dataToMeasure: action.value, resizeDirection: 'grow', measureContainer: true };\n    default:\n      return { ...state, [action.type]: action.value };\n  }\n}\n\nfunction useResizeState(\n  props: IResizeGroupProps,\n  nextResizeGroupStateProvider: ReturnType<typeof getNextResizeGroupStateProvider>,\n  rootRef: React.RefObject<HTMLDivElement | null>,\n) {\n  const initialStateData = useConst(() => nextResizeGroupStateProvider.getInitialResizeGroupState(props.data));\n  const [resizeData, dispatchResizeDataAction] = React.useReducer(resizeDataReducer, initialStateData);\n\n  // Reset state when new data is provided\n  React.useEffect(() => {\n    dispatchResizeDataAction({\n      type: 'dataToMeasure',\n      value: props.data,\n    });\n  }, [props.data]);\n\n  // Because it's possible that we may force more than one re-render per animation frame, we\n  // want to make sure that the RAF request is using the most recent data.\n  const stateRef = React.useRef<IResizeGroupState>(initialStateData);\n  stateRef.current = { ...resizeData };\n\n  const updateResizeState = React.useCallback((nextState?: IResizeGroupState) => {\n    if (nextState) {\n      dispatchResizeDataAction({\n        type: 'resizeData',\n        value: nextState,\n      });\n    }\n  }, []);\n\n  const remeasure: () => void = React.useCallback(() => {\n    if (rootRef.current) {\n      dispatchResizeDataAction({\n        type: 'measureContainer',\n        value: true,\n      });\n    }\n  }, [rootRef]);\n\n  return [stateRef, updateResizeState, remeasure] as const;\n}\n\nfunction useResizingBehavior(props: IResizeGroupProps, rootRef: React.RefObject<HTMLDivElement | null>) {\n  const nextResizeGroupStateProvider = useConst(getNextResizeGroupStateProvider);\n\n  // A div that can be used for the initial measurement so that we can avoid mounting a second instance\n  // of the component being measured for the initial render.\n  const initialHiddenDiv = React.useRef<HTMLDivElement | null>(null);\n  // A hidden div that is used for mounting a new instance of the component for measurement in a hidden\n  // div without unmounting the currently visible content.\n  const updateHiddenDiv = React.useRef<HTMLDivElement | null>(null);\n\n  // Tracks if any content has been rendered to the user. This enables us to do some performance optimizations\n  // for the initial render.\n  const hasRenderedContent = React.useRef(false);\n\n  const async: Async = useAsync();\n\n  const [stateRef, updateResizeState, remeasure] = useResizeState(props, nextResizeGroupStateProvider, rootRef);\n\n  React.useEffect(() => {\n    if (stateRef.current.renderedData) {\n      hasRenderedContent.current = true;\n      props.dataDidRender?.(stateRef.current.renderedData);\n    }\n  });\n\n  React.useEffect((): void => {\n    async.requestAnimationFrame(() => {\n      let containerDimension = undefined;\n      if (stateRef.current.measureContainer && rootRef.current) {\n        const boundingRect = rootRef.current.getBoundingClientRect();\n        containerDimension =\n          props.direction === ResizeGroupDirection.vertical ? boundingRect.height : boundingRect.width;\n      }\n      const nextState = nextResizeGroupStateProvider.getNextState(\n        props,\n        stateRef.current,\n        () => {\n          const refToMeasure = !hasRenderedContent.current ? initialHiddenDiv : updateHiddenDiv;\n          if (!refToMeasure.current) {\n            return 0;\n          }\n          const measuredBoundingRect = refToMeasure.current.getBoundingClientRect();\n          return props.direction === ResizeGroupDirection.vertical\n            ? measuredBoundingRect.height\n            : measuredBoundingRect.width;\n        },\n        containerDimension,\n      );\n\n      updateResizeState(nextState);\n    }, rootRef.current);\n  });\n\n  const win = useWindow();\n  useOnEvent(win, 'resize', async.debounce(remeasure, RESIZE_DELAY, { leading: true }));\n\n  const dataNeedsMeasuring = nextResizeGroupStateProvider.shouldRenderDataForMeasurement(\n    stateRef.current.dataToMeasure,\n  );\n\n  const isInitialMeasure = !hasRenderedContent.current && dataNeedsMeasuring;\n\n  return [\n    stateRef.current.dataToMeasure,\n    stateRef.current.renderedData,\n    remeasure,\n    initialHiddenDiv,\n    updateHiddenDiv,\n    dataNeedsMeasuring,\n    isInitialMeasure,\n  ] as const;\n}\n\nfunction useDebugWarnings(props: IResizeGroupProps) {\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks -- build-time conditional\n    useWarnings({\n      name: COMPONENT_NAME,\n      props,\n      deprecations: { styles: 'className' },\n    });\n  }\n}\n\nconst measuredContextValue = { isMeasured: true };\n\nexport const ResizeGroupBase: React.FunctionComponent<IResizeGroupProps> = React.forwardRef<\n  HTMLDivElement,\n  IResizeGroupProps\n>((props, forwardedRef) => {\n  const rootRef = React.useRef<HTMLDivElement | null>(null);\n  // The root div which is the container inside of which we are trying to fit content.\n  const mergedRootRef = useMergedRefs(rootRef, forwardedRef);\n\n  const [\n    dataToMeasure,\n    renderedData,\n    remeasure,\n    initialHiddenDiv,\n    updateHiddenDiv,\n    dataNeedsMeasuring,\n    isInitialMeasure,\n  ] = useResizingBehavior(props, rootRef);\n\n  React.useImperativeHandle(props.componentRef, () => ({ remeasure }), [remeasure]);\n\n  useDebugWarnings(props);\n\n  const { className, onRenderData } = props;\n  const divProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(props, divProperties, ['data']);\n\n  // We only ever render the final content to the user. All measurements are done in a hidden div.\n  // For the initial render, we want this to be as fast as possible, so we need to make sure that we only mount one\n  // version of the component for measurement and the final render. For renders that update what is on screen, we\n  // want to make sure that there are no jarring effects such as the screen flashing as we apply scaling steps for\n  // measurement. In the update case, we mount a second version of the component just for measurement purposes and\n  // leave the rendered content untouched until we know the next state to show to the user.\n  return (\n    <div {...divProps} className={className} ref={mergedRootRef}>\n      <div style={hiddenParentStyles}>\n        {dataNeedsMeasuring && !isInitialMeasure && (\n          <div style={hiddenDivStyles} ref={updateHiddenDiv}>\n            <MeasuredContext.Provider value={measuredContextValue}>\n              {onRenderData(dataToMeasure)}\n            </MeasuredContext.Provider>\n          </div>\n        )}\n\n        <div\n          ref={initialHiddenDiv}\n          style={isInitialMeasure ? hiddenDivStyles : undefined}\n          data-automation-id=\"visibleContent\"\n        >\n          {isInitialMeasure ? onRenderData(dataToMeasure) : renderedData && onRenderData(renderedData)}\n        </div>\n      </div>\n    </div>\n  );\n});\nResizeGroupBase.displayName = 'ResizeGroupBase';\n","import * as React from 'react';\nimport { ResizeGroupBase } from './ResizeGroup.base';\nimport type { IResizeGroupProps } from './ResizeGroup.types';\n\nexport const ResizeGroup: React.FunctionComponent<IResizeGroupProps> = ResizeGroupBase;\n","import { concatStyleSets, getFocusStyle, HighContrastSelector, getHighContrastNoAdjustStyle } from '../../../Styling';\nimport { memoizeFunction } from '../../../Utilities';\nimport { getStyles as getBaseButtonStyles } from '../BaseButton.styles';\nimport { getStyles as getSplitButtonStyles } from '../SplitButton/SplitButton.styles';\nimport { ButtonGlobalClassNames } from '../BaseButton.classNames';\nimport type { IButtonStyles } from '../Button.types';\nimport type { ITheme } from '../../../Styling';\n\nexport const getStyles = memoizeFunction(\n  (theme: ITheme, customStyles?: IButtonStyles, focusInset?: string, focusColor?: string): IButtonStyles => {\n    const baseButtonStyles: IButtonStyles = getBaseButtonStyles(theme);\n    const baseSplitButtonStyles: IButtonStyles = getSplitButtonStyles(theme);\n\n    const { palette: p, semanticColors } = theme;\n\n    const commandButtonHighContrastFocus = {\n      left: 4,\n      top: 4,\n      bottom: 4,\n      right: 4,\n      border: 'none',\n    };\n\n    const commandButtonStyles: IButtonStyles = {\n      root: [\n        getFocusStyle(theme, {\n          inset: 2,\n          highContrastStyle: commandButtonHighContrastFocus,\n          borderColor: 'transparent',\n        }),\n        theme.fonts.medium,\n        {\n          minWidth: '40px',\n          backgroundColor: p.white,\n          color: p.neutralPrimary,\n          padding: '0 4px',\n          border: 'none',\n          borderRadius: 0,\n          selectors: {\n            [HighContrastSelector]: {\n              border: 'none',\n            },\n          },\n        },\n      ],\n\n      rootHovered: {\n        backgroundColor: p.neutralLighter,\n        color: p.neutralDark,\n        selectors: {\n          [HighContrastSelector]: {\n            color: 'Highlight',\n          },\n          [`.${ButtonGlobalClassNames.msButtonIcon}`]: {\n            color: p.themeDarkAlt,\n          },\n          [`.${ButtonGlobalClassNames.msButtonMenuIcon}`]: {\n            color: p.neutralPrimary,\n          },\n        },\n      },\n\n      rootPressed: {\n        backgroundColor: p.neutralLight,\n        color: p.neutralDark,\n        selectors: {\n          [`.${ButtonGlobalClassNames.msButtonIcon}`]: {\n            color: p.themeDark,\n          },\n          [`.${ButtonGlobalClassNames.msButtonMenuIcon}`]: {\n            color: p.neutralPrimary,\n          },\n        },\n      },\n\n      rootChecked: {\n        backgroundColor: p.neutralLight,\n        color: p.neutralDark,\n        selectors: {\n          [`.${ButtonGlobalClassNames.msButtonIcon}`]: {\n            color: p.themeDark,\n          },\n          [`.${ButtonGlobalClassNames.msButtonMenuIcon}`]: {\n            color: p.neutralPrimary,\n          },\n        },\n      },\n\n      rootCheckedHovered: {\n        backgroundColor: p.neutralQuaternaryAlt,\n        selectors: {\n          [`.${ButtonGlobalClassNames.msButtonIcon}`]: {\n            color: p.themeDark,\n          },\n          [`.${ButtonGlobalClassNames.msButtonMenuIcon}`]: {\n            color: p.neutralPrimary,\n          },\n        },\n      },\n\n      rootExpanded: {\n        backgroundColor: p.neutralLight,\n        color: p.neutralDark,\n        selectors: {\n          [`.${ButtonGlobalClassNames.msButtonIcon}`]: {\n            color: p.themeDark,\n          },\n          [`.${ButtonGlobalClassNames.msButtonMenuIcon}`]: {\n            color: p.neutralPrimary,\n          },\n        },\n      },\n\n      rootExpandedHovered: {\n        backgroundColor: p.neutralQuaternaryAlt,\n      },\n\n      rootDisabled: {\n        backgroundColor: p.white,\n        selectors: {\n          [`.${ButtonGlobalClassNames.msButtonIcon}`]: {\n            color: semanticColors.disabledBodySubtext,\n            selectors: {\n              [HighContrastSelector]: {\n                color: 'GrayText',\n                ...getHighContrastNoAdjustStyle(),\n              },\n            },\n          },\n          [HighContrastSelector]: {\n            color: 'GrayText',\n            backgroundColor: 'Window',\n            ...getHighContrastNoAdjustStyle(),\n          },\n        },\n      },\n\n      // Split button styles\n      splitButtonContainer: {\n        height: '100%',\n        selectors: {\n          [HighContrastSelector]: {\n            border: 'none',\n          },\n        },\n      },\n\n      splitButtonDividerDisabled: {\n        selectors: {\n          [HighContrastSelector]: {\n            backgroundColor: 'Window',\n          },\n        },\n      },\n\n      splitButtonDivider: {\n        backgroundColor: p.neutralTertiaryAlt,\n      },\n\n      splitButtonMenuButton: {\n        backgroundColor: p.white,\n        border: 'none',\n        borderTopRightRadius: '0',\n        borderBottomRightRadius: '0',\n        color: p.neutralSecondary,\n        selectors: {\n          ':hover': {\n            backgroundColor: p.neutralLighter,\n            color: p.neutralDark,\n            selectors: {\n              [HighContrastSelector]: {\n                color: 'Highlight',\n              },\n              [`.${ButtonGlobalClassNames.msButtonIcon}`]: {\n                color: p.neutralPrimary,\n              },\n            },\n          },\n          ':active': {\n            backgroundColor: p.neutralLight,\n            selectors: {\n              [`.${ButtonGlobalClassNames.msButtonIcon}`]: {\n                color: p.neutralPrimary,\n              },\n            },\n          },\n        },\n      },\n\n      splitButtonMenuButtonDisabled: {\n        backgroundColor: p.white,\n        selectors: {\n          [HighContrastSelector]: {\n            color: 'GrayText',\n            border: 'none',\n            backgroundColor: 'Window',\n            ...getHighContrastNoAdjustStyle(),\n          },\n        },\n      },\n\n      splitButtonMenuButtonChecked: {\n        backgroundColor: p.neutralLight,\n        color: p.neutralDark,\n        selectors: {\n          ':hover': {\n            backgroundColor: p.neutralQuaternaryAlt,\n          },\n        },\n      },\n\n      splitButtonMenuButtonExpanded: {\n        backgroundColor: p.neutralLight,\n        color: p.black,\n        selectors: {\n          ':hover': {\n            backgroundColor: p.neutralQuaternaryAlt,\n          },\n        },\n      },\n\n      splitButtonMenuIcon: {\n        color: p.neutralPrimary,\n      },\n\n      splitButtonMenuIconDisabled: {\n        color: p.neutralTertiary,\n      },\n\n      label: {\n        fontWeight: 'normal', // theme.fontWeights.semibold,\n      },\n\n      icon: {\n        color: p.themePrimary,\n      },\n\n      menuIcon: {\n        color: p.neutralSecondary,\n        [HighContrastSelector]: {\n          color: 'GrayText',\n        },\n      },\n    };\n\n    return concatStyleSets(baseButtonStyles, baseSplitButtonStyles, commandButtonStyles, customStyles)!;\n  },\n);\n","import * as React from 'react';\nimport { BaseButton } from '../BaseButton';\nimport { customizable, nullRender } from '../../../Utilities';\nimport { getStyles } from './CommandBarButton.styles';\nimport type { IButtonProps } from '../Button.types';\n\n/**\n * {@docCategory Button}\n */\n@customizable('CommandBarButton', ['theme', 'styles'], true)\nexport class CommandBarButton extends React.Component<IButtonProps, {}> {\n  public render(): JSX.Element {\n    const { styles, theme } = this.props;\n\n    return (\n      <BaseButton\n        {...this.props}\n        variantClassName=\"ms-Button--commandBar\"\n        styles={getStyles(theme!, styles)}\n        onRenderDescription={nullRender}\n      />\n    );\n  }\n}\n","import { memoizeFunction } from '../../Utilities';\nimport type { ICommandBarStyleProps, ICommandBarStyles } from './CommandBar.types';\nimport type { IButtonStyles } from '../../Button';\nimport type { IStyle } from '../../Styling';\n\nconst COMMAND_BAR_HEIGHT = 44;\n\nexport const getStyles = (props: ICommandBarStyleProps): ICommandBarStyles => {\n  const { className, theme } = props;\n  const { semanticColors } = theme;\n\n  return {\n    root: [\n      theme.fonts.medium,\n      'ms-CommandBar',\n      {\n        display: 'flex',\n        backgroundColor: semanticColors.bodyBackground,\n        padding: '0 14px 0 24px',\n        height: COMMAND_BAR_HEIGHT,\n      },\n      className,\n    ],\n    primarySet: [\n      'ms-CommandBar-primaryCommand',\n      {\n        flexGrow: '1',\n        display: 'flex',\n        alignItems: 'stretch',\n      },\n    ],\n    secondarySet: [\n      'ms-CommandBar-secondaryCommand',\n      {\n        flexShrink: '0',\n        display: 'flex',\n        alignItems: 'stretch',\n      },\n    ],\n  };\n};\n\nexport const getCommandButtonStyles = memoizeFunction(\n  (customStyles: IButtonStyles | undefined): IButtonStyles => {\n    const rootStyles: IStyle = {\n      height: '100%',\n    };\n    const labelStyles: IStyle = {\n      whiteSpace: 'nowrap',\n    };\n\n    const { root, label, ...restCustomStyles } = customStyles || {};\n\n    return {\n      ...restCustomStyles,\n      root: root ? [rootStyles, root] : rootStyles,\n      label: label ? [labelStyles, label] : labelStyles,\n    };\n  },\n);\n","import * as React from 'react';\nimport {\n  classNamesFunction,\n  css,\n  nullRender,\n  getNativeProps,\n  divProperties,\n  composeComponentAs,\n  initializeComponentRef,\n} from '../../Utilities';\nimport { OverflowSet } from '../../OverflowSet';\nimport { ResizeGroup } from '../../ResizeGroup';\nimport { FocusZone, FocusZoneDirection } from '../../FocusZone';\nimport { CommandBarButton } from '../../Button';\nimport { TooltipHost } from '../../Tooltip';\nimport { getCommandButtonStyles } from './CommandBar.styles';\nimport type { IComponentAs } from '../../Utilities';\nimport type {\n  ICommandBar,\n  ICommandBarItemProps,\n  ICommandBarProps,\n  ICommandBarStyleProps,\n  ICommandBarStyles,\n} from './CommandBar.types';\nimport type { IOverflowSet } from '../../OverflowSet';\nimport type { IResizeGroup } from '../../ResizeGroup';\nimport type { IButtonProps } from '../../Button';\n\nconst getClassNames = classNamesFunction<ICommandBarStyleProps, ICommandBarStyles>();\n\nexport interface ICommandBarData {\n  /**\n   * Items being rendered in the primary region\n   */\n  primaryItems: ICommandBarItemProps[];\n  /**\n   * Items being rendered in the overflow\n   */\n  overflowItems: ICommandBarItemProps[];\n  /**\n   * Items being rendered on the far side\n   */\n  farItems: ICommandBarItemProps[] | undefined;\n  /**\n   * Length of original overflowItems to ensure that they are not moved into primary region on resize\n   */\n  minimumOverflowItems: number;\n  /**\n   * Unique string used to cache the width of the command bar\n   */\n  cacheKey: string;\n}\n\nexport class CommandBarBase extends React.Component<ICommandBarProps, {}> implements ICommandBar {\n  public static defaultProps: ICommandBarProps = {\n    items: [],\n    overflowItems: [],\n  };\n\n  private _overflowSet = React.createRef<IOverflowSet>();\n  private _resizeGroup = React.createRef<IResizeGroup>();\n  private _classNames: { [key in keyof ICommandBarStyles]: string };\n\n  constructor(props: ICommandBarProps) {\n    super(props);\n\n    initializeComponentRef(this);\n  }\n\n  public render(): JSX.Element {\n    const {\n      items,\n      overflowItems,\n      farItems,\n      styles,\n      theme,\n      dataDidRender,\n      onReduceData = this._onReduceData,\n      onGrowData = this._onGrowData,\n      resizeGroupAs: ResizeGroupAs = ResizeGroup,\n    } = this.props;\n\n    const commandBarData: ICommandBarData = {\n      primaryItems: [...items],\n      overflowItems: [...overflowItems!],\n      minimumOverflowItems: [...overflowItems!].length, // for tracking\n      farItems,\n      cacheKey: this._computeCacheKey({\n        primaryItems: [...items],\n        overflow: overflowItems && overflowItems.length > 0,\n      }),\n    };\n\n    this._classNames = getClassNames(styles!, { theme: theme! });\n\n    // ResizeGroup will render these attributes to the root <div>.\n    // TODO We may need to elevate classNames from <FocusZone> into <ResizeGroup> ?\n    const nativeProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(this.props, divProperties);\n\n    return (\n      <ResizeGroupAs\n        {...nativeProps}\n        componentRef={this._resizeGroup}\n        data={commandBarData}\n        onReduceData={onReduceData}\n        onGrowData={onGrowData}\n        onRenderData={this._onRenderData}\n        dataDidRender={dataDidRender}\n      />\n    );\n  }\n\n  public focus(): void {\n    const { current: overflowSet } = this._overflowSet;\n\n    overflowSet && overflowSet.focus();\n  }\n\n  public remeasure(): void {\n    this._resizeGroup.current && this._resizeGroup.current.remeasure();\n  }\n\n  private _onRenderData = (data: ICommandBarData): JSX.Element => {\n    const { ariaLabel, primaryGroupAriaLabel, farItemsGroupAriaLabel } = this.props;\n    const hasSecondSet = data.farItems && data.farItems.length > 0;\n\n    return (\n      <FocusZone\n        className={css(this._classNames.root)}\n        direction={FocusZoneDirection.horizontal}\n        role={'menubar'}\n        aria-label={ariaLabel}\n      >\n        {/*Primary Items*/}\n        <OverflowSet\n          role={hasSecondSet ? 'group' : 'none'}\n          aria-label={hasSecondSet ? primaryGroupAriaLabel : undefined}\n          componentRef={this._overflowSet}\n          className={css(this._classNames.primarySet)}\n          items={data.primaryItems}\n          overflowItems={data.overflowItems.length ? data.overflowItems : undefined}\n          onRenderItem={this._onRenderItem}\n          onRenderOverflowButton={this._onRenderOverflowButton}\n        />\n\n        {/*Secondary Items*/}\n        {hasSecondSet && (\n          <OverflowSet\n            role=\"group\"\n            aria-label={farItemsGroupAriaLabel}\n            className={css(this._classNames.secondarySet)}\n            items={data.farItems}\n            onRenderItem={this._onRenderItem}\n            onRenderOverflowButton={nullRender}\n          />\n        )}\n      </FocusZone>\n    );\n  };\n\n  private _onRenderItem = (item: ICommandBarItemProps): JSX.Element | React.ReactNode => {\n    if (item.onRender) {\n      // These are the top level items, there is no relevant menu dismissing function to\n      // provide for the IContextualMenuItem onRender function. Pass in a no op function instead.\n      return item.onRender(item, () => undefined);\n    }\n\n    // eslint-disable-next-line deprecation/deprecation\n    const itemText = item.text || item.name;\n    const commandButtonProps: ICommandBarItemProps = {\n      allowDisabledFocus: true,\n      role: 'menuitem',\n      ...item,\n      styles: getCommandButtonStyles(item.buttonStyles),\n      className: css('ms-CommandBarItem-link', item.className),\n      text: !item.iconOnly ? itemText : undefined,\n      menuProps: item.subMenuProps,\n      onClick: this._onButtonClick(item),\n    };\n\n    if (item.iconOnly && (itemText !== undefined || item.tooltipHostProps)) {\n      return (\n        <TooltipHost role=\"none\" content={itemText} setAriaDescribedBy={false} {...item.tooltipHostProps}>\n          {this._commandButton(item, commandButtonProps)}\n        </TooltipHost>\n      );\n    }\n\n    return this._commandButton(item, commandButtonProps);\n  };\n\n  private _commandButton = (item: ICommandBarItemProps, props: ICommandBarItemProps): JSX.Element => {\n    const ButtonAs = this.props.buttonAs as IComponentAs<ICommandBarItemProps> | undefined;\n    const CommandBarButtonAs = item.commandBarButtonAs as IComponentAs<ICommandBarItemProps> | undefined;\n    const DefaultButtonAs = (CommandBarButton as {}) as IComponentAs<ICommandBarItemProps>;\n\n    // The prop types between these three possible implementations overlap enough that a force-cast is safe.\n    let Type = DefaultButtonAs;\n\n    if (CommandBarButtonAs) {\n      Type = composeComponentAs(CommandBarButtonAs, Type);\n    }\n\n    if (ButtonAs) {\n      Type = composeComponentAs(ButtonAs, Type);\n    }\n\n    // Always pass the default implementation to the override so it may be composed.\n    return <Type {...(props as ICommandBarItemProps)} />;\n  };\n\n  private _onButtonClick(item: ICommandBarItemProps): (ev: React.MouseEvent<HTMLButtonElement>) => void {\n    return ev => {\n      // inactive is deprecated. remove check in 7.0\n      // eslint-disable-next-line deprecation/deprecation\n      if (item.inactive) {\n        return;\n      }\n      if (item.onClick) {\n        item.onClick(ev, item);\n      }\n    };\n  }\n\n  private _onRenderOverflowButton = (overflowItems: ICommandBarItemProps[]): JSX.Element => {\n    const {\n      overflowButtonProps = {}, // assure that props is not empty\n    } = this.props;\n\n    const combinedOverflowItems: ICommandBarItemProps[] = [\n      ...(overflowButtonProps.menuProps ? overflowButtonProps.menuProps.items : []),\n      ...overflowItems,\n    ];\n\n    const overflowProps: IButtonProps = {\n      role: 'menuitem',\n      ...overflowButtonProps,\n      styles: { menuIcon: { fontSize: '17px' }, ...overflowButtonProps.styles },\n      className: css('ms-CommandBar-overflowButton', overflowButtonProps.className),\n      menuProps: { ...overflowButtonProps.menuProps, items: combinedOverflowItems },\n      menuIconProps: { iconName: 'More', ...overflowButtonProps.menuIconProps },\n    };\n\n    const OverflowButtonType = this.props.overflowButtonAs\n      ? composeComponentAs(this.props.overflowButtonAs, CommandBarButton)\n      : CommandBarButton;\n\n    return <OverflowButtonType {...(overflowProps as IButtonProps)} />;\n  };\n\n  private _computeCacheKey(data: { primaryItems?: ICommandBarItemProps[]; overflow?: boolean }): string {\n    const { primaryItems, overflow } = data;\n    const returnKey = (acc: string, current: ICommandBarItemProps): string => {\n      const { cacheKey = current.key } = current;\n      return acc + cacheKey;\n    };\n\n    const primaryKey = primaryItems && primaryItems.reduce(returnKey, '');\n    const overflowKey = overflow ? 'overflow' : '';\n\n    return [primaryKey, overflowKey].join('');\n  }\n\n  private _onReduceData = (data: ICommandBarData): ICommandBarData | undefined => {\n    const { shiftOnReduce, onDataReduced } = this.props;\n    let { primaryItems, overflowItems, cacheKey } = data;\n\n    // Use first item if shiftOnReduce, otherwise use last item\n    const movedItem = primaryItems[shiftOnReduce ? 0 : primaryItems.length - 1];\n\n    if (movedItem !== undefined) {\n      movedItem.renderedInOverflow = true;\n\n      overflowItems = [movedItem, ...overflowItems];\n      primaryItems = shiftOnReduce ? primaryItems.slice(1) : primaryItems.slice(0, -1);\n\n      const newData = { ...data, primaryItems, overflowItems };\n      cacheKey = this._computeCacheKey({ primaryItems, overflow: overflowItems.length > 0 });\n\n      if (onDataReduced) {\n        onDataReduced(movedItem);\n      }\n\n      newData.cacheKey = cacheKey;\n      return newData;\n    }\n\n    return undefined;\n  };\n\n  private _onGrowData = (data: ICommandBarData): ICommandBarData | undefined => {\n    const { shiftOnReduce, onDataGrown } = this.props;\n    const { minimumOverflowItems } = data;\n    let { primaryItems, overflowItems, cacheKey } = data;\n    const movedItem = overflowItems[0];\n\n    // Make sure that moved item exists and is not one of the original overflow items\n    if (movedItem !== undefined && overflowItems.length > minimumOverflowItems) {\n      movedItem.renderedInOverflow = false;\n\n      overflowItems = overflowItems.slice(1);\n      // if shiftOnReduce, movedItem goes first, otherwise, last.\n      primaryItems = shiftOnReduce ? [movedItem, ...primaryItems] : [...primaryItems, movedItem];\n\n      const newData = { ...data, primaryItems, overflowItems };\n      cacheKey = this._computeCacheKey({ primaryItems, overflow: overflowItems.length > 0 });\n\n      if (onDataGrown) {\n        onDataGrown(movedItem);\n      }\n\n      newData.cacheKey = cacheKey;\n      return newData;\n    }\n\n    return undefined;\n  };\n}\n","import * as React from 'react';\nimport { styled } from '../../Utilities';\nimport { CommandBarBase } from './CommandBar.base';\nimport { getStyles } from './CommandBar.styles';\nimport type { ICommandBarProps, ICommandBarStyleProps, ICommandBarStyles } from './CommandBar.types';\n\n// Create a CommandBar variant which uses these default styles and this styled subcomponent.\nexport const CommandBar: React.FunctionComponent<ICommandBarProps> = styled<\n  ICommandBarProps,\n  ICommandBarStyleProps,\n  ICommandBarStyles\n>(CommandBarBase, getStyles, undefined, {\n  scope: 'CommandBar',\n});\n","import * as React from 'react';\nimport {\n  elementContains,\n  getNativeProps,\n  divProperties,\n  getFirstTabbable,\n  getLastTabbable,\n  getNextElement,\n  focusAsync,\n  modalize,\n  on,\n} from '../../Utilities';\nimport { useId, useConst, useMergedRefs, useUnmount } from '@fluentui/react-hooks';\nimport { useDocument } from '../../WindowProvider';\nimport type { IRefObject } from '../../Utilities';\nimport type { IFocusTrapZoneProps, IFocusTrapZone } from './FocusTrapZone.types';\n\ninterface IFocusTrapZoneInternalState {\n  disposeFocusHandler: (() => void) | undefined;\n  disposeClickHandler: (() => void) | undefined;\n  previouslyFocusedElementOutsideTrapZone: HTMLElement | undefined;\n  previouslyFocusedElementInTrapZone: HTMLElement | undefined;\n  hasFocus: boolean;\n  unmodalize: (() => void) | undefined;\n}\n\nconst COMPONENT_NAME = 'FocusTrapZone';\n\nconst useComponentRef = (\n  componentRef: IRefObject<IFocusTrapZone> | undefined,\n  previouslyFocusedElement: HTMLElement | undefined,\n  focus: () => void,\n) => {\n  React.useImperativeHandle(\n    componentRef,\n    () => ({\n      get previouslyFocusedElement() {\n        return previouslyFocusedElement;\n      },\n      focus,\n    }),\n    [previouslyFocusedElement, focus],\n  );\n};\n\nexport const FocusTrapZone: React.FunctionComponent<IFocusTrapZoneProps> & {\n  focusStack: string[];\n} = React.forwardRef<HTMLElement, IFocusTrapZoneProps>((props, ref) => {\n  const root = React.useRef<HTMLDivElement>(null);\n  const firstBumper = React.useRef<HTMLDivElement>(null);\n  const lastBumper = React.useRef<HTMLDivElement>(null);\n  const mergedRootRef = useMergedRefs(root, ref) as React.Ref<HTMLDivElement>;\n  const id = useId(undefined, props.id);\n  const doc = useDocument();\n  const divProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(props, divProperties);\n\n  const internalState = useConst<IFocusTrapZoneInternalState>(() => ({\n    previouslyFocusedElementOutsideTrapZone: undefined,\n    previouslyFocusedElementInTrapZone: undefined,\n    disposeFocusHandler: undefined,\n    disposeClickHandler: undefined,\n    hasFocus: false,\n    unmodalize: undefined,\n  }));\n\n  const {\n    ariaLabelledBy,\n    className,\n    children,\n    componentRef,\n    disabled,\n    disableFirstFocus = false,\n    disabled: currentDisabledValue = false,\n    elementToFocusOnDismiss,\n    forceFocusInsideTrap = true,\n    focusPreviouslyFocusedInnerElement,\n    // eslint-disable-next-line deprecation/deprecation\n    firstFocusableSelector,\n    firstFocusableTarget,\n    ignoreExternalFocusing,\n    isClickableOutsideFocusTrap = false,\n    onFocus,\n    onBlur,\n    onFocusCapture,\n    onBlurCapture,\n    enableAriaHiddenSiblings,\n  } = props;\n\n  const bumperProps = {\n    'aria-hidden': true,\n    style: {\n      pointerEvents: 'none',\n      position: 'fixed', // 'fixed' prevents browsers from scrolling to bumpers when viewport does not contain them\n    },\n    tabIndex: disabled ? -1 : 0, // make bumpers tabbable only when enabled\n    'data-is-visible': true,\n    'data-is-focus-trap-zone-bumper': true,\n  } as React.HTMLAttributes<HTMLDivElement>;\n\n  const focus = React.useCallback(() => {\n    if (\n      focusPreviouslyFocusedInnerElement &&\n      internalState.previouslyFocusedElementInTrapZone &&\n      elementContains(root.current, internalState.previouslyFocusedElementInTrapZone)\n    ) {\n      // focus on the last item that had focus in the zone before we left the zone\n      focusAsync(internalState.previouslyFocusedElementInTrapZone);\n      return;\n    }\n\n    const focusSelector =\n      typeof firstFocusableSelector === 'string'\n        ? firstFocusableSelector\n        : firstFocusableSelector && firstFocusableSelector();\n\n    let firstFocusableChild: HTMLElement | null = null;\n\n    if (root.current) {\n      if (typeof firstFocusableTarget === 'string') {\n        firstFocusableChild = root.current.querySelector(firstFocusableTarget);\n      } else if (firstFocusableTarget) {\n        firstFocusableChild = firstFocusableTarget(root.current);\n      } else if (focusSelector) {\n        firstFocusableChild = root.current.querySelector('.' + focusSelector);\n      }\n\n      // Fall back to first element if query selector did not match any elements.\n      if (!firstFocusableChild) {\n        firstFocusableChild = getNextElement(\n          root.current,\n          root.current.firstChild as HTMLElement,\n          false,\n          false,\n          false,\n          true,\n        );\n      }\n    }\n    if (firstFocusableChild) {\n      focusAsync(firstFocusableChild);\n    }\n  }, [firstFocusableSelector, firstFocusableTarget, focusPreviouslyFocusedInnerElement, internalState]);\n\n  const onBumperFocus = React.useCallback(\n    (isFirstBumper: boolean) => {\n      if (disabled) {\n        return;\n      }\n\n      const currentBumper = (isFirstBumper === internalState.hasFocus\n        ? lastBumper.current\n        : firstBumper.current) as HTMLElement;\n\n      if (root.current) {\n        const nextFocusable =\n          isFirstBumper === internalState.hasFocus\n            ? getLastTabbable(root.current, currentBumper, true, false)\n            : getFirstTabbable(root.current, currentBumper, true, false);\n\n        if (nextFocusable) {\n          if (nextFocusable === firstBumper.current || nextFocusable === lastBumper.current) {\n            // This can happen when FTZ contains no tabbable elements.\n            // focus will take care of finding a focusable element in FTZ.\n            focus();\n          } else {\n            nextFocusable.focus();\n          }\n        }\n      }\n    },\n    [disabled, focus, internalState],\n  );\n\n  const onRootBlurCapture = React.useCallback(\n    (ev: React.FocusEvent<HTMLDivElement>) => {\n      onBlurCapture?.(ev);\n      let relatedTarget = ev.relatedTarget;\n      if (ev.relatedTarget === null) {\n        // In IE11, due to lack of support, event.relatedTarget is always\n        // null making every onBlur call to be \"outside\" of the root\n        // even when it's not. Using document.activeElement is another way\n        // for us to be able to get what the relatedTarget without relying\n        // on the event\n        relatedTarget = doc!.activeElement as Element;\n      }\n      if (!elementContains(root.current, relatedTarget as HTMLElement)) {\n        internalState.hasFocus = false;\n      }\n    },\n    [doc, internalState, onBlurCapture],\n  );\n\n  const onRootFocusCapture = React.useCallback(\n    (ev: React.FocusEvent<HTMLDivElement>) => {\n      onFocusCapture?.(ev);\n\n      if (ev.target === firstBumper.current) {\n        onBumperFocus(true);\n      } else if (ev.target === lastBumper.current) {\n        onBumperFocus(false);\n      }\n\n      internalState.hasFocus = true;\n\n      if (ev.target !== ev.currentTarget && !(ev.target === firstBumper.current || ev.target === lastBumper.current)) {\n        // every time focus changes within the trap zone, remember the focused element so that\n        // it can be restored if focus leaves the pane and returns via keystroke (i.e. via a call to this.focus(true))\n        internalState.previouslyFocusedElementInTrapZone = ev.target as HTMLElement;\n      }\n    },\n    [onFocusCapture, internalState, onBumperFocus],\n  );\n\n  const returnFocusToInitiator = React.useCallback((): void => {\n    FocusTrapZone.focusStack = FocusTrapZone.focusStack.filter((value: any) => {\n      return id !== value;\n    });\n\n    if (doc) {\n      const activeElement = doc.activeElement as HTMLElement;\n      if (\n        !ignoreExternalFocusing &&\n        internalState.previouslyFocusedElementOutsideTrapZone &&\n        typeof internalState.previouslyFocusedElementOutsideTrapZone.focus === 'function' &&\n        (elementContains(root.current, activeElement) || activeElement === doc.body)\n      ) {\n        if (\n          !(\n            internalState.previouslyFocusedElementOutsideTrapZone === firstBumper.current ||\n            internalState.previouslyFocusedElementOutsideTrapZone === lastBumper.current\n          )\n        ) {\n          focusAsync(internalState.previouslyFocusedElementOutsideTrapZone);\n        }\n      }\n    }\n  }, [doc, id, ignoreExternalFocusing, internalState]);\n\n  const forceFocusInTrap = React.useCallback(\n    (ev: FocusEvent): void => {\n      if (disabled) {\n        return;\n      }\n      if (FocusTrapZone.focusStack.length && id === FocusTrapZone.focusStack[FocusTrapZone.focusStack.length - 1]) {\n        const focusedElement = ev.target as HTMLElement;\n        if (!elementContains(root.current, focusedElement)) {\n          focus();\n          internalState.hasFocus = true; // set focus here since we stop event propagation\n          ev.preventDefault();\n          ev.stopPropagation();\n        }\n      }\n    },\n    [disabled, id, focus, internalState],\n  );\n\n  const forceClickInTrap = React.useCallback(\n    (ev: MouseEvent): void => {\n      if (disabled) {\n        return;\n      }\n      if (FocusTrapZone.focusStack.length && id === FocusTrapZone.focusStack[FocusTrapZone.focusStack.length - 1]) {\n        const clickedElement = ev.target as HTMLElement;\n        if (clickedElement && !elementContains(root.current, clickedElement)) {\n          focus();\n          internalState.hasFocus = true; // set focus here since we stop event propagation\n          ev.preventDefault();\n          ev.stopPropagation();\n        }\n      }\n    },\n    [disabled, id, focus, internalState],\n  );\n\n  const updateEventHandlers = React.useCallback((): void => {\n    if (forceFocusInsideTrap && !internalState.disposeFocusHandler) {\n      internalState.disposeFocusHandler = on(window, 'focus', forceFocusInTrap, true);\n    } else if (!forceFocusInsideTrap && internalState.disposeFocusHandler) {\n      internalState.disposeFocusHandler();\n      internalState.disposeFocusHandler = undefined;\n    }\n\n    if (!isClickableOutsideFocusTrap && !internalState.disposeClickHandler) {\n      internalState.disposeClickHandler = on(window, 'click', forceClickInTrap, true);\n    } else if (isClickableOutsideFocusTrap && internalState.disposeClickHandler) {\n      internalState.disposeClickHandler();\n      internalState.disposeClickHandler = undefined;\n    }\n  }, [forceClickInTrap, forceFocusInTrap, forceFocusInsideTrap, isClickableOutsideFocusTrap, internalState]);\n\n  // Updates eventHandlers and cleans up focusStack when the component unmounts.\n  React.useEffect(() => {\n    const parentRoot = root.current;\n    updateEventHandlers();\n    return () => {\n      // don't handle return focus unless forceFocusInsideTrap is true or focus is still within FocusTrapZone\n      if (!disabled || forceFocusInsideTrap || !elementContains(parentRoot, doc?.activeElement as HTMLElement)) {\n        returnFocusToInitiator();\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps -- Should only run on mount.\n  }, [updateEventHandlers]);\n\n  // Updates focusStack and the previouslyFocusedElementOutsideTrapZone on prop change.\n  React.useEffect(() => {\n    const newForceFocusInsideTrap = forceFocusInsideTrap !== undefined ? forceFocusInsideTrap : true;\n    const newDisabled = disabled !== undefined ? disabled : false;\n\n    // Transition from forceFocusInsideTrap / FTZ disabled to enabled.\n    if (!newDisabled || newForceFocusInsideTrap) {\n      if (currentDisabledValue) {\n        return;\n      }\n\n      FocusTrapZone.focusStack.push(id);\n\n      internalState.previouslyFocusedElementOutsideTrapZone = elementToFocusOnDismiss\n        ? elementToFocusOnDismiss\n        : (doc!.activeElement as HTMLElement);\n      if (!disableFirstFocus && !elementContains(root.current, internalState.previouslyFocusedElementOutsideTrapZone)) {\n        focus();\n      }\n      if (!internalState.unmodalize && root.current && enableAriaHiddenSiblings) {\n        internalState.unmodalize = modalize(root.current);\n      }\n    } else if (!newForceFocusInsideTrap || newDisabled) {\n      // Transition from forceFocusInsideTrap / FTZ enabled to disabled.\n      returnFocusToInitiator();\n      if (internalState.unmodalize) {\n        internalState.unmodalize();\n      }\n    }\n\n    if (elementToFocusOnDismiss && internalState.previouslyFocusedElementOutsideTrapZone !== elementToFocusOnDismiss) {\n      internalState.previouslyFocusedElementOutsideTrapZone = elementToFocusOnDismiss;\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [elementToFocusOnDismiss, forceFocusInsideTrap, disabled]);\n\n  // Cleanup lifecyle method for internalState.\n  useUnmount(() => {\n    // Dispose of event handlers so their closures can be garbage-collected\n    if (internalState.disposeClickHandler) {\n      internalState.disposeClickHandler();\n      internalState.disposeClickHandler = undefined;\n    }\n    if (internalState.disposeFocusHandler) {\n      internalState.disposeFocusHandler();\n      internalState.disposeFocusHandler = undefined;\n    }\n    if (internalState.unmodalize) {\n      internalState.unmodalize();\n    }\n    // Dispose of element references so the DOM Nodes can be garbage-collected\n    delete internalState.previouslyFocusedElementInTrapZone;\n    delete internalState.previouslyFocusedElementOutsideTrapZone;\n  });\n\n  useComponentRef(componentRef, internalState.previouslyFocusedElementInTrapZone, focus);\n\n  return (\n    <div\n      {...divProps}\n      className={className}\n      ref={mergedRootRef}\n      aria-labelledby={ariaLabelledBy}\n      onFocusCapture={onRootFocusCapture}\n      onFocus={onFocus}\n      onBlur={onBlur}\n      onBlurCapture={onRootBlurCapture}\n    >\n      <div {...bumperProps} ref={firstBumper} />\n      {children}\n      <div {...bumperProps} ref={lastBumper} />\n    </div>\n  );\n}) as any;\n\nFocusTrapZone.displayName = COMPONENT_NAME;\nFocusTrapZone.focusStack = [];\n","import * as React from 'react';\nimport { useMergedRefs } from '@fluentui/react-hooks';\nimport { classNamesFunction, useFocusRects } from '@fluentui/utilities';\nimport type { ILink, ILinkProps, ILinkStyleProps, ILinkStyles } from './Link.types';\n\nconst getClassNames = classNamesFunction<ILinkStyleProps, ILinkStyles>();\n\n/**\n * The useLink hook processes the Link component props and returns\n * state, slots and slotProps for consumption by the component.\n */\nexport const useLink = (props: ILinkProps, forwardedRef: React.Ref<HTMLElement>): any => {\n  const { as, className, disabled, href, onClick, styles, theme, underline } = props;\n  const rootRef = React.useRef<HTMLDivElement | null>(null);\n  const mergedRootRefs: React.Ref<HTMLElement> = useMergedRefs(rootRef, forwardedRef);\n\n  useComponentRef(props, rootRef);\n  useFocusRects(rootRef);\n\n  const classNames = getClassNames(styles!, {\n    className,\n    isButton: !href,\n    isDisabled: disabled,\n    isUnderlined: underline,\n    theme: theme!,\n  });\n\n  const _onClick = (ev: React.MouseEvent<HTMLAnchorElement | HTMLButtonElement>) => {\n    if (disabled) {\n      ev.preventDefault();\n    } else if (onClick) {\n      onClick(ev);\n    }\n  };\n\n  const rootType = as ? as : href ? 'a' : 'button';\n\n  const state = {};\n  const slots = { root: rootType };\n  const slotProps = {\n    root: {\n      ...adjustPropsForRootType(rootType, props),\n      'aria-disabled': disabled,\n      className: classNames.root,\n      onClick: _onClick,\n      ref: mergedRootRefs,\n    },\n  };\n\n  return { state, slots, slotProps };\n};\n\nconst useComponentRef = (props: ILinkProps, link: React.RefObject<ILink>) => {\n  React.useImperativeHandle(\n    props.componentRef,\n    () => ({\n      focus() {\n        if (link.current) {\n          link.current.focus();\n        }\n      },\n    }),\n    [link],\n  );\n};\n\nconst adjustPropsForRootType = (\n  RootType: string | React.ComponentClass | React.FunctionComponent,\n  props: ILinkProps & { getStyles?: any },\n): Partial<ILinkProps> => {\n  // Deconstruct the props so we remove props like `as`, `theme` and `styles`\n  // as those will always be removed. We also take some props that are optional\n  // based on the RootType.\n  const { as, disabled, target, href, theme, getStyles, styles, componentRef, underline, ...restProps } = props;\n\n  // RootType will be a string if we're dealing with an html component\n  if (typeof RootType === 'string') {\n    // Remove the disabled prop for anchor elements\n    if (RootType === 'a') {\n      return {\n        target,\n        href: disabled ? undefined : href,\n        ...restProps,\n      };\n    }\n\n    // Add the type='button' prop for button elements\n    if (RootType === 'button') {\n      return {\n        type: 'button',\n        disabled,\n        ...restProps,\n      };\n    }\n\n    // Remove the target and href props for all other non anchor elements\n    return { ...restProps, disabled };\n  }\n\n  // Retain all props except 'as' for ReactComponents\n  return { target, href, disabled, ...restProps };\n};\n","import * as React from 'react';\nimport { useLink } from './useLink';\nimport type { ILinkProps } from './Link.types';\n\nexport const LinkBase: React.FunctionComponent<ILinkProps> = React.forwardRef<HTMLElement, ILinkProps>((props, ref) => {\n  const { slots, slotProps } = useLink(props, ref);\n\n  return <slots.root {...slotProps.root} />;\n});\n\nLinkBase.displayName = 'LinkBase';\n","import { getGlobalClassNames, HighContrastSelector } from '@fluentui/style-utilities';\nimport type { ILinkStyleProps, ILinkStyles } from './Link.types';\n\nexport const GlobalClassNames = {\n  root: 'ms-Link',\n};\n\nexport const getStyles = (props: ILinkStyleProps): ILinkStyles => {\n  const { className, isButton, isDisabled, isUnderlined, theme } = props;\n  const { semanticColors } = theme;\n\n  // Tokens\n  const linkColor = semanticColors.link;\n  const linkInteractedColor = semanticColors.linkHovered;\n  const linkDisabledColor = semanticColors.disabledText;\n  const focusBorderColor = semanticColors.focusBorder;\n\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n\n  return {\n    root: [\n      classNames.root,\n      theme.fonts.medium,\n      {\n        color: linkColor,\n        outline: 'none',\n        fontSize: 'inherit',\n        fontWeight: 'inherit',\n        textDecoration: isUnderlined ? 'underline' : 'none',\n\n        selectors: {\n          '.ms-Fabric--isFocusVisible &:focus': {\n            // Can't use getFocusStyle because it doesn't support wrapping links\n            // https://github.com/microsoft/fluentui/issues/4883#issuecomment-406743543\n            // Using box-shadow and outline allows the focus rect to wrap links that span multiple lines\n            // and helps the focus rect avoid getting clipped.\n            boxShadow: `0 0 0 1px ${focusBorderColor} inset`,\n            outline: `1px auto ${focusBorderColor}`,\n            selectors: {\n              [HighContrastSelector]: {\n                outline: '1px solid WindowText',\n              },\n            },\n          },\n          [HighContrastSelector]: {\n            // For IE high contrast mode\n            borderBottom: 'none',\n          },\n        },\n      },\n      isButton && {\n        background: 'none',\n        backgroundColor: 'transparent',\n        border: 'none',\n        cursor: 'pointer',\n        display: 'inline',\n        margin: 0,\n        overflow: 'inherit',\n        padding: 0,\n        textAlign: 'left',\n        textOverflow: 'inherit',\n        userSelect: 'text',\n        borderBottom: '1px solid transparent', // For Firefox high contrast mode\n        selectors: {\n          [HighContrastSelector]: {\n            color: 'LinkText',\n            forcedColorAdjust: 'none',\n          },\n        },\n      },\n      !isButton && {\n        selectors: {\n          [HighContrastSelector]: {\n            // This is mainly for MessageBar, which sets MsHighContrastAdjust: none by default\n            MsHighContrastAdjust: 'auto',\n            forcedColorAdjust: 'auto',\n          },\n        },\n      },\n\n      isDisabled && [\n        'is-disabled',\n        {\n          color: linkDisabledColor,\n          cursor: 'default',\n        },\n        {\n          selectors: {\n            '&:link, &:visited': {\n              pointerEvents: 'none',\n            },\n          },\n        },\n      ],\n      !isDisabled && {\n        selectors: {\n          '&:active, &:hover, &:active:hover': {\n            color: linkInteractedColor,\n            textDecoration: 'underline',\n\n            selectors: {\n              [HighContrastSelector]: {\n                color: 'LinkText',\n              },\n            },\n          },\n          '&:focus': {\n            color: linkColor,\n\n            selectors: {\n              [HighContrastSelector]: {\n                color: 'LinkText',\n              },\n            },\n          },\n        },\n      },\n      classNames.root,\n      className,\n    ],\n  };\n};\n","import * as React from 'react';\nimport { styled } from '@fluentui/utilities';\nimport { LinkBase } from './Link.base';\nimport { getStyles } from './Link.styles';\nimport type { ILinkProps, ILinkStyleProps, ILinkStyles } from './Link.types';\n\nexport const Link: React.FunctionComponent<ILinkProps> = styled<ILinkProps, ILinkStyleProps, ILinkStyles>(\n  LinkBase,\n  getStyles,\n  undefined,\n  {\n    scope: 'Link',\n  },\n);\n","import * as React from 'react';\nimport { List } from './List';\nimport type { IRefObject, IRectangle, IRenderFunction } from '../../Utilities';\n\n/**\n * {@docCategory List}\n */\nexport const ScrollToMode = {\n  /**\n   * Does not make any consideration to where in the viewport the item should align to.\n   */\n  auto: 0 as 0,\n  /**\n   * Attempts to scroll the list so the top of the desired item is aligned with the top of the viewport.\n   */\n  top: 1 as 1,\n  /**\n   * Attempts to scroll the list so the bottom of the desired item is aligned with the bottom of the viewport.\n   */\n  bottom: 2 as 2,\n  /**\n   * Attempts to scroll the list so the desired item is in the exact center of the viewport.\n   */\n  center: 3 as 3,\n};\n\n/**\n * {@docCategory List}\n */\nexport type ScrollToMode = typeof ScrollToMode[keyof typeof ScrollToMode];\n\n/**\n * Props passed to the render override for the list root.\n * {@docCategory List}\n */\nexport interface IListOnRenderRootProps<T> {\n  /**\n   * The ref to be applied to the list root.\n   * The `List` uses this element to track scroll position and sizing.\n   */\n  rootRef: React.Ref<HTMLDivElement>;\n  /**\n   * Props to apply to the list root element.\n   */\n  divProps: React.HTMLAttributes<HTMLDivElement>;\n  /**\n   * The active pages to be rendered into the list.\n   * These will have been rendered using `onRenderPage`.\n   */\n  pages: IPage<T>[];\n  /**\n   * The content to be rendered as the list surface element.\n   * This will have been rendered using `onRenderSurface`.\n   */\n  surfaceElement: JSX.Element | null;\n}\n\n/**\n * Props passed to the render override for the list surface.\n * {@docCategory List}\n */\nexport interface IListOnRenderSurfaceProps<T> {\n  /**\n   * A ref to be applied to the surface element.\n   * The `List` uses this element to track content size and focus.\n   */\n  surfaceRef: React.Ref<HTMLDivElement>;\n  /**\n   * Props to apply to the list surface element.\n   */\n  divProps: React.HTMLAttributes<HTMLDivElement>;\n  /**\n   * The active pages to be rendered into the list.\n   * These will have been rendered using `onRenderPage`.\n   */\n  pages: IPage<T>[];\n  /**\n   * The content to be rendered representing all active pages.\n   */\n  pageElements: JSX.Element[];\n}\n\n/**\n * {@docCategory List}\n */\nexport interface IList {\n  /**\n   * Force the component to update.\n   */\n  forceUpdate: () => void;\n\n  /**\n   * Get the current height the list and it's pages.\n   */\n  getTotalListHeight?: () => number;\n\n  /**\n   * Scroll to the given index. By default will bring the page the specified item is on into the view. If a callback\n   * to measure the height of an individual item is specified, will only scroll to bring the specific item into view.\n   *\n   * Note: with items of variable height and no passed in `getPageHeight` method, the list might jump after scrolling\n   * when windows before/ahead are being rendered, and the estimated height is replaced using actual elements.\n   *\n   * @param index - Index of item to scroll to\n   * @param measureItem - Optional callback to measure the height of an individual item\n   * @param scrollToMode - Optional defines the behavior of the scrolling alignment. Defaults to auto.\n   *  Note: The scrollToMode requires the measureItem callback is provided to function.\n   */\n  scrollToIndex: (index: number, measureItem?: (itemIndex: number) => number, scrollToMode?: ScrollToMode) => void;\n\n  /**\n   * Get the start index of the page that is currently in view\n   */\n  getStartItemIndexInView: () => number;\n}\n\n/**\n * {@docCategory List}\n */\nexport interface IListProps<T = any> extends React.HTMLAttributes<List<T> | HTMLDivElement> {\n  /**\n   * Optional callback to access the IList interface. Use this instead of ref for accessing\n   * the public methods and properties of the component.\n   */\n  componentRef?: IRefObject<IList>;\n\n  /** Optional classname to append to root list. */\n  className?: string;\n\n  /** Items to render. */\n  items?: T[];\n\n  /**\n   * Method to call when trying to render an item.\n   * @param item - The data associated with the cell that is being rendered.\n   * @param index - The index of the cell being rendered.\n   * @param isScrolling - True if the list is being scrolled. May be useful for rendering a placeholder if your cells\n   * are complex.\n   */\n  onRenderCell?: (item?: T, index?: number, isScrolling?: boolean) => React.ReactNode;\n\n  /**\n   * Optional callback invoked when List rendering completed.\n   * This can be on initial mount or on re-render due to scrolling.\n   * This method will be called as a result of changes in List pages (added or removed),\n   * and after ALL the changes complete.\n   * To track individual page Add / Remove use onPageAdded / onPageRemoved instead.\n   * @param pages - The current array of pages in the List.\n   */\n  onPagesUpdated?: (pages: IPage<T>[]) => void;\n\n  /** Optional callback for monitoring when a page is added. */\n  onPageAdded?: (page: IPage<T>) => void;\n\n  /** Optional callback for monitoring when a page is removed. */\n  onPageRemoved?: (page: IPage<T>) => void;\n\n  /** Optional callback to get the item key, to be used on render. */\n  getKey?: (item: T, index?: number) => string;\n\n  /**\n   * Called by the list to get the specification for a page.\n   * Use this method to provide an allocation of items per page,\n   * as well as an estimated rendered height for the page.\n   * The list will use this to optimize virtualization.\n   */\n  getPageSpecification?: (itemIndex?: number, visibleRect?: IRectangle) => IPageSpecification;\n\n  /**\n   * Method called by the list to get how many items to render per page from specified index.\n   * In general, use `getPageSpecification` instead.\n   */\n  getItemCountForPage?: (itemIndex?: number, visibleRect?: IRectangle) => number;\n\n  /**\n   * Method called by the list to get the pixel height for a given page. By default, we measure the first\n   * page's height and default all other pages to that height when calculating the surface space. It is\n   * ideal to be able to adequately predict page heights in order to keep the surface space from jumping\n   * in pixels, which has been seen to cause browser performance issues.\n   * In general, use `getPageSpecification` instead.\n   */\n  getPageHeight?: (itemIndex?: number, visibleRect?: IRectangle, itemCount?: number) => number;\n\n  /**\n   * Method called by the list to derive the page style object. For spacer pages, the list will derive\n   * the height and passed in heights will be ignored.\n   */\n  getPageStyle?: (page: IPage<T>) => any;\n\n  /**\n   * In addition to the visible window, how many windowHeights should we render ahead.\n   * @defaultvalue 2\n   */\n  renderedWindowsAhead?: number;\n\n  /**\n   * In addition to the visible window, how many windowHeights should we render behind.\n   * @defaultvalue 2\n   */\n  renderedWindowsBehind?: number;\n\n  /**\n   * Index in `items` array to start rendering from.\n   * @default 0\n   */\n  startIndex?: number;\n\n  /**\n   * Number of items to render.\n   * @default items.length\n   */\n  renderCount?: number;\n\n  /**\n   * Boolean value to enable render page caching. This is an experimental performance optimization\n   * that is off by default.\n   * @defaultvalue false\n   */\n  usePageCache?: boolean;\n\n  /**\n   * Optional callback to determine whether the list should be rendered in full, or virtualized.\n   * Virtualization will add and remove pages of items as the user scrolls them into the visible range.\n   * This benefits larger list scenarios by reducing the DOM on the screen, but can negatively affect performance for\n   * smaller lists.\n   * The default implementation will virtualize when this callback is not provided.\n   */\n  onShouldVirtualize?: (props: IListProps<T>) => boolean;\n\n  /**\n   * The role to assign to the list root element.\n   * Use this to override the default assignment of 'list' to the root and 'listitem' to the cells.\n   */\n  role?: string;\n\n  /**\n   * Called when the List will render a page.\n   * Override this to control how cells are rendered within a page.\n   */\n  onRenderPage?: IRenderFunction<IPageProps<T>>;\n\n  /**\n   * Render override for the element at the root of the `List`.\n   * Use this to apply some final attributes or structure to the content\n   * each time the list is updated with new active pages or items.\n   */\n  onRenderRoot?: IRenderFunction<IListOnRenderRootProps<T>>;\n\n  /**\n   * Render override for the element representing the surface of the `List`.\n   * Use this to alter the structure of the rendered content if necessary on each update.\n   */\n  onRenderSurface?: IRenderFunction<IListOnRenderSurfaceProps<T>>;\n\n  /**\n   * For perf reasons, List avoids re-rendering unless certain props have changed.\n   * Use this prop if you need to force it to re-render in other cases. You can pass any type of\n   * value as long as it only changes (`===` comparison) when a re-render should happen.\n   */\n  version?: any;\n\n  /**\n   * Whether to disable scroll state updates. This causes the isScrolling arg in onRenderCell to always be undefined.\n   * This is a performance optimization to let List skip a render cycle by not updating its scrolling state.\n   */\n  ignoreScrollingState?: boolean;\n}\n\n/**\n * {@docCategory List}\n */\nexport interface IPage<T = any> {\n  key: string;\n  items: T[] | undefined;\n  startIndex: number;\n  itemCount: number;\n  style: React.CSSProperties;\n  top: number;\n  height: number;\n  data?: any;\n  isSpacer?: boolean;\n  isVisible?: boolean;\n}\n\n/**\n * {@docCategory List}\n */\nexport interface IPageProps<T = any>\n  extends React.HTMLAttributes<HTMLDivElement>,\n    React.ClassAttributes<HTMLDivElement> {\n  /**\n   * The role being assigned to the rendered page element by the list.\n   */\n  role?: string;\n  /**\n   * The allocation data for the page.\n   */\n  page: IPage<T>;\n}\n\n/**\n * {@docCategory List}\n */\nexport interface IPageSpecification {\n  /**\n   * The number of items to allocate to the page.\n   */\n  itemCount?: number;\n  /**\n   * The estimated pixel height of the page.\n   */\n  height?: number;\n  /**\n   * Data to pass through to the page when rendering.\n   */\n  data?: any;\n  /**\n   * The key to use when creating the page.\n   */\n  key?: string;\n}\n","import * as React from 'react';\nimport {\n  Async,\n  EventGroup,\n  css,\n  divProperties,\n  findIndex,\n  findScrollableParent,\n  getNativeProps,\n  getParent,\n  getWindow,\n  initializeComponentRef,\n} from '../../Utilities';\nimport { ScrollToMode } from './List.types';\nimport { composeRenderFunction } from '../../Utilities';\nimport type { IRectangle, IRenderFunction } from '../../Utilities';\nimport type {\n  IList,\n  IListProps,\n  IPage,\n  IPageProps,\n  IListOnRenderSurfaceProps,\n  IListOnRenderRootProps,\n} from './List.types';\n\nconst RESIZE_DELAY = 16;\nconst MIN_SCROLL_UPDATE_DELAY = 100;\nconst MAX_SCROLL_UPDATE_DELAY = 500;\nconst IDLE_DEBOUNCE_DELAY = 200;\n// The amount of time to wait before declaring that the list isn't scrolling\nconst DONE_SCROLLING_WAIT = 500;\nconst DEFAULT_ITEMS_PER_PAGE = 10;\nconst DEFAULT_PAGE_HEIGHT = 30;\nconst DEFAULT_RENDERED_WINDOWS_BEHIND = 2;\nconst DEFAULT_RENDERED_WINDOWS_AHEAD = 2;\nconst PAGE_KEY_PREFIX = 'page-';\nconst SPACER_KEY_PREFIX = 'spacer-';\n\nexport interface IListState<T = any> {\n  pages?: IPage<T>[];\n\n  /** The last versionstamp for  */\n  measureVersion?: number;\n  isScrolling?: boolean;\n  getDerivedStateFromProps(nextProps: IListProps<T>, previousState: IListState<T>): IListState<T>;\n\n  pagesVersion?: {};\n}\n\ninterface IPageCacheItem<T> {\n  page: IPage<T>;\n  pageElement?: JSX.Element;\n}\n\ninterface IPageCache<T> {\n  [key: string]: IPageCacheItem<T>;\n}\n\nconst EMPTY_RECT = {\n  top: -1,\n  bottom: -1,\n  left: -1,\n  right: -1,\n  width: 0,\n  height: 0,\n};\n\n// Naming expensive measures so that they're named in profiles.\nconst _measurePageRect = (element: HTMLElement) => element.getBoundingClientRect();\nconst _measureSurfaceRect = _measurePageRect;\nconst _measureScrollRect = _measurePageRect;\n\n/**\n * The List renders virtualized pages of items. Each page's item count is determined by the getItemCountForPage callback\n * if provided by the caller, or 10 as default. Each page's height is determined by the getPageHeight callback if\n * provided by the caller, or by cached measurements if available, or by a running average, or a default fallback.\n *\n * The algorithm for rendering pages works like this:\n *\n * 1. Predict visible pages based on \"current measure data\" (page heights, surface position, visible window)\n * 2. If changes are necessary, apply changes (add/remove pages)\n * 3. For pages that are added, measure the page heights if we need to using getBoundingClientRect\n * 4. If measurements don't match predictions, update measure data and goto step 1 asynchronously\n *\n * Measuring too frequently can pull performance down significantly. To compensate, we cache measured values so that\n * we can avoid re-measuring during operations that should not alter heights, like scrolling.\n *\n * To optimize glass rendering performance, onShouldVirtualize can be set. When onShouldVirtualize return false,\n * List will run in fast mode (not virtualized) to render all items without any measurements to improve page load time.\n * And we start doing measurements and rendering in virtualized mode when items grows larger than this threshold.\n *\n * However, certain operations can make measure data stale. For example, resizing the list, or passing in new props,\n * or forcing an update change cause pages to shrink/grow. When these operations occur, we increment a measureVersion\n * number, which we associate with cached measurements and use to determine if a remeasure should occur.\n */\nexport class List<T = any> extends React.Component<IListProps<T>, IListState<T>> implements IList {\n  public static defaultProps = {\n    startIndex: 0,\n    onRenderCell: (item: any, index: number, containsFocus: boolean) => <>{(item && item.name) || ''}</>,\n    renderedWindowsAhead: DEFAULT_RENDERED_WINDOWS_AHEAD,\n    renderedWindowsBehind: DEFAULT_RENDERED_WINDOWS_BEHIND,\n  };\n\n  private _root = React.createRef<HTMLDivElement>();\n  private _surface = React.createRef<HTMLDivElement>();\n  private _pageRefs: Record<string, unknown> = {};\n  private _async: Async;\n  private _events: EventGroup;\n  private _estimatedPageHeight: number;\n  private _totalEstimates: number;\n  private _cachedPageHeights: {\n    [key: string]: {\n      height: number;\n      measureVersion: number;\n    };\n  };\n  private _focusedIndex: number;\n  private _scrollElement?: HTMLElement;\n  private _hasCompletedFirstRender: boolean;\n\n  // surface rect relative to window\n  private _surfaceRect: IRectangle | undefined;\n\n  // The visible rect that we're required to render given the current list state.\n  private _requiredRect: IRectangle | null;\n\n  // The visible rect that we're allowed to keep rendered. Pages outside of this rect will be removed.\n  private _allowedRect: IRectangle;\n\n  // The rect that is visible to the user\n  private _visibleRect: IRectangle | undefined;\n\n  // materialized rect around visible items, relative to surface\n  private _materializedRect: IRectangle | null;\n\n  private _requiredWindowsAhead: number;\n  private _requiredWindowsBehind: number;\n\n  private _measureVersion: number;\n  private _scrollHeight?: number;\n  private _scrollTop: number;\n  private _pageCache: IPageCache<T>;\n\n  public static getDerivedStateFromProps<U = any>(\n    nextProps: IListProps<U>,\n    previousState: IListState<U>,\n  ): IListState<U> {\n    return previousState.getDerivedStateFromProps(nextProps, previousState);\n  }\n\n  constructor(props: IListProps<T>) {\n    super(props);\n\n    initializeComponentRef(this);\n\n    this.state = {\n      pages: [],\n      isScrolling: false,\n      getDerivedStateFromProps: this._getDerivedStateFromProps,\n    };\n\n    this._async = new Async(this);\n    this._events = new EventGroup(this);\n    this._estimatedPageHeight = 0;\n    this._totalEstimates = 0;\n    this._requiredWindowsAhead = 0;\n    this._requiredWindowsBehind = 0;\n\n    // Track the measure version for everything.\n    this._measureVersion = 0;\n\n    // Ensure that scrolls are lazy updated.\n    this._onAsyncScroll = this._async.debounce(this._onAsyncScroll, MIN_SCROLL_UPDATE_DELAY, {\n      leading: false,\n      maxWait: MAX_SCROLL_UPDATE_DELAY,\n    });\n\n    this._onAsyncIdle = this._async.debounce(this._onAsyncIdle, IDLE_DEBOUNCE_DELAY, {\n      leading: false,\n    });\n\n    this._onAsyncResize = this._async.debounce(this._onAsyncResize, RESIZE_DELAY, {\n      leading: false,\n    });\n\n    this._onScrollingDone = this._async.debounce(this._onScrollingDone, DONE_SCROLLING_WAIT, {\n      leading: false,\n    });\n\n    this._cachedPageHeights = {};\n    this._estimatedPageHeight = 0;\n    this._focusedIndex = -1;\n    this._pageCache = {};\n  }\n\n  public get pageRefs(): Readonly<Record<string, unknown>> {\n    return this._pageRefs;\n  }\n\n  /**\n   * Scroll to the given index. By default will bring the page the specified item is on into the view. If a callback\n   * to measure the height of an individual item is specified, will only scroll to bring the specific item into view.\n   *\n   * Note: with items of variable height and no passed in `getPageHeight` method, the list might jump after scrolling\n   * when windows before/ahead are being rendered, and the estimated height is replaced using actual elements.\n   *\n   * @param index - Index of item to scroll to\n   * @param measureItem - Optional callback to measure the height of an individual item\n   * @param scrollToMode - Optional defines where in the window the item should be positioned to when scrolling\n   */\n  public scrollToIndex(\n    index: number,\n    measureItem?: (itemIndex: number) => number,\n    scrollToMode: ScrollToMode = ScrollToMode.auto,\n  ): void {\n    const startIndex = this.props.startIndex as number;\n    const renderCount = this._getRenderCount();\n    const endIndex = startIndex + renderCount;\n\n    const allowedRect = this._allowedRect;\n\n    let scrollTop = 0;\n\n    let itemsPerPage = 1;\n    for (let itemIndex = startIndex; itemIndex < endIndex; itemIndex += itemsPerPage) {\n      const pageSpecification = this._getPageSpecification(itemIndex, allowedRect);\n\n      const pageHeight = pageSpecification.height;\n      itemsPerPage = pageSpecification.itemCount;\n\n      const requestedIndexIsInPage = itemIndex <= index && itemIndex + itemsPerPage > index;\n      if (requestedIndexIsInPage) {\n        // We have found the page. If the user provided a way to measure an individual item, we will try to scroll in\n        // just the given item, otherwise we'll only bring the page into view\n        if (measureItem && this._scrollElement) {\n          const scrollRect = _measureScrollRect(this._scrollElement);\n          const scrollWindow = {\n            top: this._scrollElement.scrollTop,\n            bottom: this._scrollElement.scrollTop + scrollRect.height,\n          };\n\n          // Adjust for actual item position within page\n          const itemPositionWithinPage = index - itemIndex;\n          for (let itemIndexInPage = 0; itemIndexInPage < itemPositionWithinPage; ++itemIndexInPage) {\n            scrollTop += measureItem(itemIndex + itemIndexInPage);\n          }\n          const scrollBottom = scrollTop + measureItem(index);\n\n          // If scrollToMode is set to something other than auto, we always want to\n          // scroll the item into a specific position on the page.\n          switch (scrollToMode) {\n            case ScrollToMode.top:\n              this._scrollElement.scrollTop = scrollTop;\n              return;\n            case ScrollToMode.bottom:\n              this._scrollElement.scrollTop = scrollBottom - scrollRect.height;\n              return;\n            case ScrollToMode.center:\n              this._scrollElement.scrollTop = (scrollTop + scrollBottom - scrollRect.height) / 2;\n              return;\n            case ScrollToMode.auto:\n            default:\n              break;\n          }\n\n          const itemIsFullyVisible = scrollTop >= scrollWindow.top && scrollBottom <= scrollWindow.bottom;\n          if (itemIsFullyVisible) {\n            // Item is already visible, do nothing.\n            return;\n          }\n\n          const itemIsPartiallyAbove = scrollTop < scrollWindow.top;\n          const itemIsPartiallyBelow = scrollBottom > scrollWindow.bottom;\n\n          if (itemIsPartiallyAbove) {\n            //  We will just scroll to 'scrollTop'\n            //  .------.   - scrollTop\n            //  |Item  |\n            //  | .----|-. - scrollWindow.top\n            //  '------' |\n            //    |      |\n            //    '------'\n          } else if (itemIsPartiallyBelow) {\n            //  Adjust scrollTop position to just bring in the element\n            // .------.  - scrollTop\n            // |      |\n            // | .------.\n            // '-|----' | - scrollWindow.bottom\n            //   | Item |\n            //   '------' - scrollBottom\n            scrollTop = scrollBottom - scrollRect.height;\n          }\n        }\n\n        if (this._scrollElement) {\n          this._scrollElement.scrollTop = scrollTop;\n        }\n        return;\n      }\n\n      scrollTop += pageHeight;\n    }\n  }\n\n  public getStartItemIndexInView(measureItem?: (itemIndex: number) => number): number {\n    const pages = this.state.pages || [];\n    for (const page of pages) {\n      const isPageVisible =\n        !page.isSpacer && (this._scrollTop || 0) >= page.top && (this._scrollTop || 0) <= page.top + page.height;\n      if (isPageVisible) {\n        if (!measureItem) {\n          const rowHeight = Math.floor(page.height / page.itemCount);\n          return page.startIndex + Math.floor((this._scrollTop - page.top) / rowHeight);\n        } else {\n          let totalRowHeight = 0;\n          for (let itemIndex = page.startIndex; itemIndex < page.startIndex + page.itemCount; itemIndex++) {\n            const rowHeight = measureItem(itemIndex);\n            if (\n              page.top + totalRowHeight <= this._scrollTop &&\n              this._scrollTop < page.top + totalRowHeight + rowHeight\n            ) {\n              return itemIndex;\n            } else {\n              totalRowHeight += rowHeight;\n            }\n          }\n        }\n      }\n    }\n    return 0;\n  }\n\n  public componentDidMount(): void {\n    this.setState(this._updatePages(this.props, this.state));\n    this._measureVersion++;\n    this._scrollElement = findScrollableParent(this._root.current) as HTMLElement;\n\n    this._events.on(window, 'resize', this._onAsyncResize);\n    if (this._root.current) {\n      this._events.on(this._root.current, 'focus', this._onFocus, true);\n    }\n    if (this._scrollElement) {\n      this._events.on(this._scrollElement, 'scroll', this._onScroll);\n      this._events.on(this._scrollElement, 'scroll', this._onAsyncScroll);\n    }\n  }\n\n  public componentDidUpdate(previousProps: IListProps, previousState: IListState<T>): void {\n    // Multiple updates may have been queued, so the callback will reflect all of them.\n    // Re-fetch the current props and states to avoid using a stale props or state captured in the closure.\n    const finalProps = this.props;\n    const finalState = this.state;\n\n    if (this.state.pagesVersion !== previousState.pagesVersion) {\n      // If we weren't provided with the page height, measure the pages\n      if (!finalProps.getPageHeight) {\n        // If measured version is invalid since we've updated the DOM\n        const heightsChanged = this._updatePageMeasurements(finalState.pages!);\n\n        // On first render, we should re-measure so that we don't get a visual glitch.\n        if (heightsChanged) {\n          this._materializedRect = null;\n          if (!this._hasCompletedFirstRender) {\n            this._hasCompletedFirstRender = true;\n            this.setState(this._updatePages(finalProps, finalState));\n          } else {\n            this._onAsyncScroll();\n          }\n        } else {\n          // Enqueue an idle bump.\n          this._onAsyncIdle();\n        }\n      } else {\n        // Enqueue an idle bump\n        this._onAsyncIdle();\n      }\n\n      // Notify the caller that rendering the new pages has completed\n      if (finalProps.onPagesUpdated) {\n        finalProps.onPagesUpdated(finalState.pages as IPage<T>[]);\n      }\n    }\n  }\n\n  public componentWillUnmount(): void {\n    this._async.dispose();\n    this._events.dispose();\n\n    delete this._scrollElement;\n  }\n\n  public shouldComponentUpdate(newProps: IListProps<T>, newState: IListState<T>): boolean {\n    const { pages: oldPages } = this.state;\n    const { pages: newPages } = newState;\n    let shouldComponentUpdate = false;\n\n    // Update if the page stops scrolling\n    if (!newState.isScrolling && this.state.isScrolling) {\n      return true;\n    }\n\n    if (newProps.version !== this.props.version) {\n      return true;\n    }\n\n    if (newProps.items === this.props.items && oldPages!.length === newPages!.length) {\n      for (let i = 0; i < oldPages!.length; i++) {\n        const oldPage = oldPages![i];\n        const newPage = newPages![i];\n\n        if (oldPage.key !== newPage.key || oldPage.itemCount !== newPage.itemCount) {\n          shouldComponentUpdate = true;\n          break;\n        }\n      }\n    } else {\n      shouldComponentUpdate = true;\n    }\n\n    return shouldComponentUpdate;\n  }\n\n  public forceUpdate(): void {\n    this._invalidatePageCache();\n    // Ensure that when the list is force updated we update the pages first before render.\n    this._updateRenderRects(this.props, this.state, true);\n    this.setState(this._updatePages(this.props, this.state));\n    this._measureVersion++;\n\n    super.forceUpdate();\n  }\n\n  /**\n   * Get the current height the list and it's pages.\n   */\n  public getTotalListHeight(): number {\n    return this._surfaceRect!.height;\n  }\n\n  public render(): JSX.Element | null {\n    const { className, role = 'list', onRenderSurface, onRenderRoot } = this.props;\n    const { pages = [] } = this.state;\n    const pageElements: JSX.Element[] = [];\n    const divProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(this.props, divProperties);\n\n    for (const page of pages) {\n      pageElements.push(this._renderPage(page));\n    }\n\n    const finalOnRenderSurface = onRenderSurface\n      ? composeRenderFunction(onRenderSurface, this._onRenderSurface)\n      : this._onRenderSurface;\n\n    const finalOnRenderRoot = onRenderRoot\n      ? composeRenderFunction(onRenderRoot, this._onRenderRoot)\n      : this._onRenderRoot;\n\n    return finalOnRenderRoot({\n      rootRef: this._root,\n      pages,\n      surfaceElement: finalOnRenderSurface({\n        surfaceRef: this._surface,\n        pages,\n        pageElements,\n        divProps: {\n          role: 'presentation',\n          className: 'ms-List-surface',\n        },\n      }),\n      divProps: {\n        ...divProps,\n        className: css('ms-List', className),\n        role: pageElements.length > 0 ? role : undefined,\n        'aria-label': pageElements.length > 0 ? divProps['aria-label'] : undefined,\n      },\n    });\n  }\n\n  private _getDerivedStateFromProps = (nextProps: IListProps<T>, previousState: IListState<T>): IListState<T> => {\n    if (\n      nextProps.items !== this.props.items ||\n      nextProps.renderCount !== this.props.renderCount ||\n      nextProps.startIndex !== this.props.startIndex ||\n      nextProps.version !== this.props.version\n    ) {\n      // We have received new items so we want to make sure that initially we only render a single window to\n      // fill the currently visible rect, and then later render additional windows.\n      this._resetRequiredWindows();\n      this._requiredRect = null;\n\n      this._measureVersion++;\n      this._invalidatePageCache();\n\n      return this._updatePages(nextProps, previousState);\n    }\n\n    return previousState;\n  };\n\n  private _shouldVirtualize(props: IListProps<T> = this.props): boolean {\n    const { onShouldVirtualize } = props;\n    return !onShouldVirtualize || onShouldVirtualize(props);\n  }\n\n  /**\n   * when props.items change or forceUpdate called, throw away cached pages\n   */\n  private _invalidatePageCache(): void {\n    this._pageCache = {};\n  }\n\n  private _renderPage(page: IPage<T>): JSX.Element {\n    const { usePageCache } = this.props;\n    let cachedPage;\n    // if usePageCache is set and cached page element can be found, just return cached page\n    if (usePageCache) {\n      cachedPage = this._pageCache[page.key];\n      if (cachedPage && cachedPage.pageElement) {\n        return cachedPage.pageElement;\n      }\n    }\n\n    const pageStyle = this._getPageStyle(page);\n\n    const { onRenderPage = this._onRenderPage } = this.props;\n\n    const pageElement = onRenderPage(\n      {\n        page: page,\n        className: 'ms-List-page',\n        key: page.key,\n        ref: (newRef: unknown) => {\n          this._pageRefs[page.key] = newRef;\n        },\n        style: pageStyle,\n        role: 'presentation',\n      },\n      this._onRenderPage,\n    );\n\n    // cache the first page for now since it is re-rendered a lot times unnecessarily.\n    // todo: a more aggresive caching mechanism is to cache pages constaining the items not changed.\n    // now we re-render pages too frequently, for example, props.items increased from 30 to 60, although the\n    // first 30 items did not change, we still re-rendered all of them in this props.items change.\n    if (usePageCache && page.startIndex === 0) {\n      this._pageCache[page.key] = {\n        page: page,\n        pageElement: pageElement,\n      };\n    }\n    return pageElement;\n  }\n\n  private _onRenderRoot = (props: IListOnRenderRootProps<T>): JSX.Element => {\n    const { rootRef, surfaceElement, divProps } = props;\n\n    return (\n      <div ref={rootRef} {...divProps}>\n        {surfaceElement}\n      </div>\n    );\n  };\n\n  private _onRenderSurface = (props: IListOnRenderSurfaceProps<T>): JSX.Element => {\n    const { surfaceRef, pageElements, divProps } = props;\n\n    return (\n      <div ref={surfaceRef} {...divProps}>\n        {pageElements}\n      </div>\n    );\n  };\n\n  /** Generate the style object for the page. */\n  private _getPageStyle(page: IPage<T>): React.StyleHTMLAttributes<HTMLDivElement> {\n    const { getPageStyle } = this.props;\n\n    return {\n      ...(getPageStyle ? getPageStyle(page) : {}),\n      ...(!page.items\n        ? {\n            height: page.height,\n          }\n        : {}),\n    };\n  }\n\n  private _onRenderPage = (pageProps: IPageProps<T>, defaultRender?: IRenderFunction<IPageProps<T>>): any => {\n    const { onRenderCell, role } = this.props;\n\n    const {\n      page: { items = [], startIndex },\n      ...divProps\n    } = pageProps;\n\n    // only assign list item role if no role is assigned\n    const cellRole = role === undefined ? 'listitem' : 'presentation';\n    const cells: React.ReactNode[] = [];\n\n    for (let i = 0; i < items.length; i++) {\n      const index = startIndex + i;\n      const item = items[i];\n\n      let itemKey = this.props.getKey ? this.props.getKey(item, index) : item && (item as any).key;\n\n      if (itemKey === null || itemKey === undefined) {\n        itemKey = index;\n      }\n\n      cells.push(\n        <div\n          role={cellRole}\n          className={'ms-List-cell'}\n          key={itemKey}\n          data-list-index={index}\n          data-automationid=\"ListCell\"\n        >\n          {onRenderCell &&\n            onRenderCell(item, index, !this.props.ignoreScrollingState ? this.state.isScrolling : undefined)}\n        </div>,\n      );\n    }\n\n    return <div {...divProps}>{cells}</div>;\n  };\n\n  /** Track the last item index focused so that we ensure we keep it rendered. */\n  private _onFocus(ev: any): void {\n    let target = ev.target as HTMLElement;\n\n    while (target !== this._surface.current) {\n      const indexString = target.getAttribute('data-list-index');\n\n      if (indexString) {\n        this._focusedIndex = Number(indexString);\n        break;\n      }\n\n      target = getParent(target) as HTMLElement;\n    }\n  }\n\n  /**\n   * Called synchronously to reset the required render range to 0 on scrolling. After async scroll has executed,\n   * we will call onAsyncIdle which will reset it back to it's correct value.\n   */\n  private _onScroll(): void {\n    if (!this.state.isScrolling && !this.props.ignoreScrollingState) {\n      this.setState({ isScrolling: true });\n    }\n    this._resetRequiredWindows();\n    this._onScrollingDone();\n  }\n\n  private _resetRequiredWindows(): void {\n    this._requiredWindowsAhead = 0;\n    this._requiredWindowsBehind = 0;\n  }\n\n  /**\n   * Debounced method to asynchronously update the visible region on a scroll event.\n   */\n  private _onAsyncScroll(): void {\n    this._updateRenderRects(this.props, this.state);\n\n    // Only update pages when the visible rect falls outside of the materialized rect.\n    if (!this._materializedRect || !_isContainedWithin(this._requiredRect as IRectangle, this._materializedRect)) {\n      this.setState(this._updatePages(this.props, this.state));\n    } else {\n      // console.log('requiredRect contained in materialized', this._requiredRect, this._materializedRect);\n    }\n  }\n\n  /**\n   * This is an async debounced method that will try and increment the windows we render. If we can increment\n   * either, we increase the amount we render and re-evaluate.\n   */\n  private _onAsyncIdle(): void {\n    const { renderedWindowsAhead, renderedWindowsBehind } = this.props;\n    const { _requiredWindowsAhead: requiredWindowsAhead, _requiredWindowsBehind: requiredWindowsBehind } = this;\n    const windowsAhead = Math.min(renderedWindowsAhead as number, requiredWindowsAhead + 1);\n    const windowsBehind = Math.min(renderedWindowsBehind as number, requiredWindowsBehind + 1);\n\n    if (windowsAhead !== requiredWindowsAhead || windowsBehind !== requiredWindowsBehind) {\n      // console.log('idling', windowsBehind, windowsAhead);\n\n      this._requiredWindowsAhead = windowsAhead;\n      this._requiredWindowsBehind = windowsBehind;\n      this._updateRenderRects(this.props, this.state);\n      this.setState(this._updatePages(this.props, this.state));\n    }\n\n    if (renderedWindowsAhead! > windowsAhead || renderedWindowsBehind! > windowsBehind) {\n      // Async increment on next tick.\n      this._onAsyncIdle();\n    }\n  }\n\n  /**\n   * Function to call when the list is done scrolling.\n   * This function is debounced.\n   */\n  private _onScrollingDone(): void {\n    if (!this.props.ignoreScrollingState) {\n      this.setState({ isScrolling: false });\n    }\n  }\n\n  private _onAsyncResize(): void {\n    this.forceUpdate();\n  }\n\n  private _updatePages(nextProps: IListProps<T>, previousState: IListState<T>): IListState<T> {\n    // console.log('updating pages');\n\n    if (!this._requiredRect) {\n      this._updateRenderRects(nextProps, previousState);\n    }\n\n    const newListState = this._buildPages(nextProps, previousState);\n    const oldListPages = previousState.pages!;\n\n    this._notifyPageChanges(oldListPages, newListState.pages!, this.props);\n\n    return {\n      ...previousState,\n      ...newListState,\n      pagesVersion: {},\n    };\n  }\n\n  /**\n   * Notify consumers that the rendered pages have changed\n   * @param oldPages - The old pages\n   * @param newPages - The new pages\n   * @param props - The props to use\n   */\n  private _notifyPageChanges(oldPages: IPage<T>[], newPages: IPage<T>[], props: IListProps<T>): void {\n    const { onPageAdded, onPageRemoved } = props;\n\n    if (onPageAdded || onPageRemoved) {\n      const renderedIndexes: {\n        [index: number]: IPage<T>;\n      } = {};\n\n      for (const page of oldPages) {\n        if (page.items) {\n          renderedIndexes[page.startIndex] = page;\n        }\n      }\n\n      for (const page of newPages) {\n        if (page.items) {\n          if (!renderedIndexes[page.startIndex]) {\n            this._onPageAdded(page);\n          } else {\n            delete renderedIndexes[page.startIndex];\n          }\n        }\n      }\n\n      for (const index in renderedIndexes) {\n        if (renderedIndexes.hasOwnProperty(index)) {\n          this._onPageRemoved(renderedIndexes[index]);\n        }\n      }\n    }\n  }\n\n  private _updatePageMeasurements(pages: IPage<T>[]): boolean {\n    let heightChanged = false;\n\n    // when not in virtualize mode, we render all the items without page measurement\n    if (!this._shouldVirtualize()) {\n      return heightChanged;\n    }\n\n    for (let i = 0; i < pages.length; i++) {\n      const page = pages[i];\n\n      if (page.items) {\n        heightChanged = this._measurePage(page) || heightChanged;\n      }\n    }\n\n    return heightChanged;\n  }\n\n  /**\n   * Given a page, measure its dimensions, update cache.\n   * @returns True if the height has changed.\n   */\n  private _measurePage(page: IPage<T>): boolean {\n    let hasChangedHeight = false;\n    const pageElement = this._pageRefs[page.key] as HTMLElement;\n    const cachedHeight = this._cachedPageHeights[page.startIndex];\n\n    // console.log('   * measure attempt', page.startIndex, cachedHeight);\n\n    if (\n      pageElement &&\n      this._shouldVirtualize() &&\n      (!cachedHeight || cachedHeight.measureVersion !== this._measureVersion)\n    ) {\n      const newClientRect = {\n        width: pageElement.clientWidth,\n        height: pageElement.clientHeight,\n      };\n\n      if (newClientRect.height || newClientRect.width) {\n        hasChangedHeight = page.height !== newClientRect.height;\n\n        // console.warn(' *** expensive page measure', page.startIndex, page.height, newClientRect.height);\n\n        page.height = newClientRect.height;\n\n        this._cachedPageHeights[page.startIndex] = {\n          height: newClientRect.height,\n          measureVersion: this._measureVersion,\n        };\n\n        this._estimatedPageHeight = Math.round(\n          (this._estimatedPageHeight * this._totalEstimates + newClientRect.height) / (this._totalEstimates + 1),\n        );\n\n        this._totalEstimates++;\n      }\n    }\n\n    return hasChangedHeight;\n  }\n\n  /** Called when a page has been added to the DOM. */\n  private _onPageAdded(page: IPage<T>): void {\n    const { onPageAdded } = this.props;\n\n    // console.log('page added', page.startIndex, this.state.pages.map(page => page.key).join(', '));\n\n    if (onPageAdded) {\n      onPageAdded(page);\n    }\n  }\n\n  /** Called when a page has been removed from the DOM. */\n  private _onPageRemoved(page: IPage<T>): void {\n    const { onPageRemoved } = this.props;\n\n    // console.log('  --- page removed', page.startIndex, this.state.pages.map(page => page.key).join(', '));\n\n    if (onPageRemoved) {\n      onPageRemoved(page);\n    }\n  }\n\n  /** Build up the pages that should be rendered. */\n  private _buildPages(props: IListProps<T>, state: IListState<T>): IListState<T> {\n    let { renderCount } = props;\n    const { items, startIndex, getPageHeight } = props;\n\n    renderCount = this._getRenderCount(props);\n\n    const materializedRect = { ...EMPTY_RECT };\n    const pages: IPage<T>[] = [];\n\n    let itemsPerPage = 1;\n    let pageTop = 0;\n    let currentSpacer = null;\n    const focusedIndex = this._focusedIndex;\n    const endIndex = startIndex! + renderCount;\n    const shouldVirtualize = this._shouldVirtualize(props);\n\n    // First render is very important to track; when we render cells, we have no idea of estimated page height.\n    // So we should default to rendering only the first page so that we can get information.\n    // However if the user provides a measure function, let's just assume they know the right heights.\n    const isFirstRender = this._estimatedPageHeight === 0 && !getPageHeight;\n\n    const allowedRect = this._allowedRect;\n\n    for (let itemIndex = startIndex!; itemIndex < endIndex; itemIndex += itemsPerPage) {\n      const pageSpecification = this._getPageSpecification(itemIndex, allowedRect);\n      const pageHeight = pageSpecification.height;\n      const pageData = pageSpecification.data;\n      const key = pageSpecification.key;\n\n      itemsPerPage = pageSpecification.itemCount;\n\n      const pageBottom = pageTop + pageHeight - 1;\n\n      const isPageRendered =\n        findIndex(state.pages as IPage<T>[], (page: IPage<T>) => !!page.items && page.startIndex === itemIndex) > -1;\n      const isPageInAllowedRange = !allowedRect || (pageBottom >= allowedRect.top && pageTop <= allowedRect.bottom!);\n      const isPageInRequiredRange =\n        !this._requiredRect || (pageBottom >= this._requiredRect.top && pageTop <= this._requiredRect.bottom!);\n      const isPageVisible =\n        (!isFirstRender && (isPageInRequiredRange || (isPageInAllowedRange && isPageRendered))) || !shouldVirtualize;\n      const isPageFocused = focusedIndex >= itemIndex && focusedIndex < itemIndex + itemsPerPage;\n      const isFirstPage = itemIndex === startIndex;\n\n      // console.log('building page', itemIndex, 'pageTop: ' + pageTop, 'inAllowed: ' +\n      // isPageInAllowedRange, 'inRequired: ' + isPageInRequiredRange);\n\n      // Only render whats visible, focused, or first page,\n      // or when running in fast rendering mode (not in virtualized mode), we render all current items in pages\n      if (isPageVisible || isPageFocused || isFirstPage) {\n        if (currentSpacer) {\n          pages.push(currentSpacer);\n          currentSpacer = null;\n        }\n\n        const itemsInPage = Math.min(itemsPerPage, endIndex - itemIndex);\n        const newPage = this._createPage(\n          key,\n          items!.slice(itemIndex, itemIndex + itemsInPage),\n          itemIndex,\n          undefined,\n          undefined,\n          pageData,\n        );\n\n        newPage.top = pageTop;\n        newPage.height = pageHeight;\n        if (this._visibleRect && this._visibleRect.bottom) {\n          newPage.isVisible = pageBottom >= this._visibleRect.top && pageTop <= this._visibleRect.bottom;\n        }\n\n        pages.push(newPage);\n\n        if (isPageInRequiredRange && this._allowedRect) {\n          _mergeRect(materializedRect, {\n            top: pageTop,\n            bottom: pageBottom,\n            height: pageHeight,\n            left: allowedRect.left,\n            right: allowedRect.right,\n            width: allowedRect.width,\n          });\n        }\n      } else {\n        if (!currentSpacer) {\n          currentSpacer = this._createPage(\n            SPACER_KEY_PREFIX + itemIndex,\n            undefined,\n            itemIndex,\n            0,\n            undefined,\n            pageData,\n            true /*isSpacer*/,\n          );\n        }\n        currentSpacer.height = (currentSpacer.height || 0) + (pageBottom - pageTop) + 1;\n        currentSpacer.itemCount += itemsPerPage;\n      }\n      pageTop += pageBottom - pageTop + 1;\n\n      // in virtualized mode, we render need to render first page then break and measure,\n      // otherwise, we render all items without measurement to make rendering fast\n      if (isFirstRender && shouldVirtualize) {\n        break;\n      }\n    }\n\n    if (currentSpacer) {\n      currentSpacer.key = SPACER_KEY_PREFIX + 'end';\n      pages.push(currentSpacer);\n    }\n\n    this._materializedRect = materializedRect;\n\n    // console.log('materialized: ', materializedRect);\n    return {\n      ...state,\n      pages: pages,\n      measureVersion: this._measureVersion,\n    };\n  }\n\n  private _getPageSpecification(\n    itemIndex: number,\n    visibleRect: IRectangle,\n  ): {\n    // These return values are now no longer optional.\n    itemCount: number;\n    height: number;\n    data?: any;\n    key?: string;\n  } {\n    const { getPageSpecification } = this.props;\n    if (getPageSpecification) {\n      const pageData = getPageSpecification(itemIndex, visibleRect);\n\n      const { itemCount = this._getItemCountForPage(itemIndex, visibleRect) } = pageData;\n\n      const { height = this._getPageHeight(itemIndex, visibleRect, itemCount) } = pageData;\n\n      return {\n        itemCount: itemCount,\n        height: height,\n        data: pageData.data,\n        key: pageData.key,\n      };\n    } else {\n      const itemCount = this._getItemCountForPage(itemIndex, visibleRect);\n\n      return {\n        itemCount: itemCount,\n        height: this._getPageHeight(itemIndex, visibleRect, itemCount),\n      };\n    }\n  }\n\n  /**\n   * Get the pixel height of a give page. Will use the props getPageHeight first, and if not provided, fallback to\n   * cached height, or estimated page height, or default page height.\n   */\n  private _getPageHeight(itemIndex: number, visibleRect: IRectangle, itemsPerPage: number): number {\n    if (this.props.getPageHeight) {\n      return this.props.getPageHeight(itemIndex, visibleRect, itemsPerPage);\n    } else {\n      const cachedHeight = this._cachedPageHeights[itemIndex];\n\n      return cachedHeight ? cachedHeight.height : this._estimatedPageHeight || DEFAULT_PAGE_HEIGHT;\n    }\n  }\n\n  private _getItemCountForPage(itemIndex: number, visibileRect: IRectangle): number {\n    const itemsPerPage = this.props.getItemCountForPage\n      ? this.props.getItemCountForPage(itemIndex, visibileRect)\n      : DEFAULT_ITEMS_PER_PAGE;\n\n    return itemsPerPage ? itemsPerPage : DEFAULT_ITEMS_PER_PAGE;\n  }\n\n  private _createPage(\n    pageKey: string | undefined,\n    items: any[] | undefined,\n    startIndex: number = -1,\n    count: number = items ? items.length : 0,\n    style: React.CSSProperties = {},\n    data?: any,\n    isSpacer?: boolean,\n  ): IPage<T> {\n    pageKey = pageKey || PAGE_KEY_PREFIX + startIndex;\n    const cachedPage = this._pageCache[pageKey];\n    if (cachedPage && cachedPage.page) {\n      return cachedPage.page;\n    }\n\n    return {\n      key: pageKey,\n      startIndex: startIndex,\n      itemCount: count,\n      items: items,\n      style: style,\n      top: 0,\n      height: 0,\n      data: data,\n      isSpacer: isSpacer || false,\n    };\n  }\n\n  private _getRenderCount(props?: IListProps<T>): number {\n    const { items, startIndex, renderCount } = props || this.props;\n\n    return renderCount === undefined ? (items ? items.length - startIndex! : 0) : renderCount;\n  }\n\n  /** Calculate the visible rect within the list where top: 0 and left: 0 is the top/left of the list. */\n  private _updateRenderRects(props: IListProps<T>, state: IListState<T>, forceUpdate?: boolean): void {\n    const { renderedWindowsAhead, renderedWindowsBehind } = props;\n    const { pages } = state;\n    // when not in virtualize mode, we render all items without measurement to optimize page rendering perf\n    if (!this._shouldVirtualize(props)) {\n      return;\n    }\n\n    let surfaceRect = this._surfaceRect || { ...EMPTY_RECT };\n    const scrollHeight = this._scrollElement && this._scrollElement.scrollHeight;\n    const scrollTop = this._scrollElement ? this._scrollElement.scrollTop : 0;\n\n    // WARNING: EXPENSIVE CALL! We need to know the surface top relative to the window.\n    // This needs to be called to recalculate when new pages should be loaded.\n    // We check to see how far we've scrolled and if it's further than a third of a page we run it again.\n    if (\n      this._surface.current &&\n      (forceUpdate ||\n        !pages ||\n        !this._surfaceRect ||\n        !scrollHeight ||\n        scrollHeight !== this._scrollHeight ||\n        Math.abs(this._scrollTop - scrollTop) > this._estimatedPageHeight / 3)\n    ) {\n      surfaceRect = this._surfaceRect = _measureSurfaceRect(this._surface.current);\n      this._scrollTop = scrollTop;\n    }\n\n    // If the scroll height has changed, something in the container likely resized and\n    // we should redo the page heights incase their content resized.\n    if (forceUpdate || !scrollHeight || scrollHeight !== this._scrollHeight) {\n      this._measureVersion++;\n    }\n\n    this._scrollHeight = scrollHeight || 0;\n\n    // If the surface is above the container top or below the container bottom, or if this is not the first\n    // render return empty rect.\n    // The first time the list gets rendered we need to calculate the rectangle. The width of the list is\n    // used to calculate the width of the list items.\n    const visibleTop = Math.max(0, -surfaceRect.top);\n    const win = getWindow(this._root.current);\n    const visibleRect = {\n      top: visibleTop,\n      left: surfaceRect.left,\n      bottom: visibleTop + win!.innerHeight,\n      right: surfaceRect.right,\n      width: surfaceRect.width,\n      height: win!.innerHeight,\n    };\n\n    // The required/allowed rects are adjusted versions of the visible rect.\n    this._requiredRect = _expandRect(visibleRect, this._requiredWindowsBehind, this._requiredWindowsAhead);\n    this._allowedRect = _expandRect(visibleRect, renderedWindowsBehind!, renderedWindowsAhead!);\n\n    // store the visible rect for later use.\n    this._visibleRect = visibleRect;\n  }\n}\n\nfunction _expandRect(rect: IRectangle, pagesBefore: number, pagesAfter: number): IRectangle {\n  const top = rect.top - pagesBefore * rect.height;\n  const height = rect.height + (pagesBefore + pagesAfter) * rect.height;\n\n  return {\n    top: top,\n    bottom: top + height,\n    height: height,\n    left: rect.left,\n    right: rect.right,\n    width: rect.width,\n  };\n}\n\nfunction _isContainedWithin(innerRect: IRectangle, outerRect: IRectangle): boolean {\n  return (\n    innerRect.top >= outerRect.top &&\n    innerRect.left >= outerRect.left &&\n    innerRect.bottom! <= outerRect.bottom! &&\n    innerRect.right! <= outerRect.right!\n  );\n}\n\nfunction _mergeRect(targetRect: IRectangle, newRect: IRectangle): IRectangle {\n  targetRect.top = newRect.top < targetRect.top || targetRect.top === -1 ? newRect.top : targetRect.top;\n  targetRect.left = newRect.left < targetRect.left || targetRect.left === -1 ? newRect.left : targetRect.left;\n  targetRect.bottom =\n    newRect.bottom! > targetRect.bottom! || targetRect.bottom === -1 ? newRect.bottom : targetRect.bottom;\n  targetRect.right = newRect.right! > targetRect.right! || targetRect.right === -1 ? newRect.right : targetRect.right;\n  targetRect.width = targetRect.right! - targetRect.left + 1;\n  targetRect.height = targetRect.bottom! - targetRect.top + 1;\n\n  return targetRect;\n}\n","import { AnimationVariables, getGlobalClassNames, ZIndexes } from '../../Styling';\nimport type { IModalStyleProps, IModalStyles } from './Modal.types';\n\nexport const animationDuration = AnimationVariables.durationValue2;\n\nconst globalClassNames = {\n  root: 'ms-Modal',\n  main: 'ms-Dialog-main',\n  scrollableContent: 'ms-Modal-scrollableContent',\n  isOpen: 'is-open',\n  layer: 'ms-Modal-Layer',\n};\n\nexport const getStyles = (props: IModalStyleProps): IModalStyles => {\n  const {\n    className,\n    containerClassName,\n    scrollableContentClassName,\n    isOpen,\n    isVisible,\n    hasBeenOpened,\n    modalRectangleTop,\n    theme,\n    topOffsetFixed,\n    isModeless,\n    layerClassName,\n    isDefaultDragHandle,\n    windowInnerHeight,\n  } = props;\n  const { palette, effects, fonts } = theme;\n\n  const classNames = getGlobalClassNames(globalClassNames, theme);\n\n  return {\n    root: [\n      classNames.root,\n      fonts.medium,\n      {\n        backgroundColor: 'transparent',\n        position: isModeless ? 'absolute' : 'fixed',\n        height: '100%',\n        width: '100%',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        opacity: 0,\n        pointerEvents: 'none',\n        transition: `opacity ${animationDuration}`,\n      },\n      topOffsetFixed &&\n        typeof modalRectangleTop === 'number' &&\n        hasBeenOpened && {\n          alignItems: 'flex-start',\n        },\n      isOpen && classNames.isOpen,\n      isVisible && {\n        opacity: 1,\n        pointerEvents: 'auto',\n      },\n      className,\n    ],\n    main: [\n      classNames.main,\n      {\n        boxShadow: effects.elevation64,\n        borderRadius: effects.roundedCorner2,\n        backgroundColor: palette.white,\n        boxSizing: 'border-box',\n        position: 'relative',\n        textAlign: 'left',\n        outline: '3px solid transparent',\n        maxHeight: 'calc(100% - 32px)',\n        maxWidth: 'calc(100% - 32px)',\n        minHeight: '176px',\n        minWidth: '288px',\n        overflowY: 'auto',\n        zIndex: isModeless ? ZIndexes.Layer : undefined,\n      },\n      topOffsetFixed &&\n        typeof modalRectangleTop === 'number' &&\n        hasBeenOpened && {\n          top: modalRectangleTop,\n        },\n      isDefaultDragHandle && {\n        cursor: 'move',\n      },\n      containerClassName,\n    ],\n    scrollableContent: [\n      classNames.scrollableContent,\n      {\n        overflowY: 'auto',\n        flexGrow: 1,\n        maxHeight: '100vh',\n        selectors: {\n          ['@supports (-webkit-overflow-scrolling: touch)']: {\n            maxHeight: windowInnerHeight,\n          },\n        },\n      },\n      scrollableContentClassName,\n    ],\n    layer: isModeless && [\n      layerClassName,\n      classNames.layer,\n      {\n        position: 'static',\n        width: 'unset',\n        height: 'unset',\n      },\n    ],\n    keyboardMoveIconContainer: {\n      position: 'absolute',\n      display: 'flex',\n      justifyContent: 'center',\n      width: '100%',\n      padding: '3px 0px',\n    },\n    keyboardMoveIcon: {\n      // eslint-disable-next-line deprecation/deprecation\n      fontSize: fonts.xLargePlus.fontSize,\n      width: '24px',\n    },\n  };\n};\n","import { memoizeFunction } from '../../Utilities';\nimport { mergeStyles } from '../../Styling';\n\nexport interface IDraggableZoneStyles {\n  root: string;\n}\n\nexport const getClassNames = memoizeFunction(\n  (className: string, isDragging: boolean): IDraggableZoneStyles => {\n    return {\n      root: mergeStyles(\n        className,\n        isDragging && {\n          touchAction: 'none',\n          selectors: {\n            '& *': {\n              userSelect: 'none',\n            },\n          },\n        },\n      ),\n    };\n  },\n);\n","import * as React from 'react';\nimport { getClassNames } from './DraggableZone.styles';\nimport { on } from '../../Utilities';\nimport type { IDraggableZoneProps, ICoordinates, IDragData } from './DraggableZone.types';\n\nexport interface IDraggableZoneState {\n  isDragging: boolean;\n  position: ICoordinates;\n  lastPosition?: ICoordinates;\n}\n\nconst eventMapping = {\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend',\n  },\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup',\n  },\n};\n\n// These are needed so that we can generalize the events\n// and so we have access to clientX and clientY in the touch events\ntype MouseTouchEvent<T> = React.MouseEvent<T> & React.TouchEvent<T> & Event;\n\nexport class DraggableZone extends React.Component<IDraggableZoneProps, IDraggableZoneState> {\n  private _touchId?: number;\n  private _currentEventType = eventMapping.mouse;\n  private _events: (() => void)[] = [];\n\n  constructor(props: IDraggableZoneProps) {\n    super(props);\n\n    this.state = {\n      isDragging: false,\n      position: this.props.position || { x: 0, y: 0 },\n      lastPosition: undefined,\n    };\n  }\n\n  public componentDidUpdate(prevProps: IDraggableZoneProps) {\n    if (this.props.position && (!prevProps.position || this.props.position !== prevProps.position)) {\n      this.setState({ position: this.props.position });\n    }\n  }\n\n  public componentWillUnmount() {\n    this._events.forEach(dispose => dispose());\n  }\n\n  public render() {\n    const child: any = React.Children.only(this.props.children);\n    const { props } = child;\n    const { position } = this.props;\n    const { position: statePosition, isDragging } = this.state;\n    let x = statePosition.x;\n    let y = statePosition.y;\n\n    if (position && !isDragging) {\n      x = position.x;\n      y = position.y;\n    }\n\n    return React.cloneElement(child, {\n      style: {\n        ...props.style,\n        transform: `translate(${x}px, ${y}px)`,\n      },\n      className: getClassNames(props.className, this.state.isDragging).root,\n      onMouseDown: this._onMouseDown,\n      onMouseUp: this._onMouseUp,\n      onTouchStart: this._onTouchStart,\n      onTouchEnd: this._onTouchEnd,\n    });\n  }\n\n  private _onMouseDown = (event: MouseTouchEvent<HTMLElement>) => {\n    const onMouseDown = (React.Children.only(this.props.children) as any).props.onMouseDown;\n    if (onMouseDown) {\n      onMouseDown(event);\n    }\n\n    this._currentEventType = eventMapping.mouse;\n    return this._onDragStart(event);\n  };\n\n  private _onMouseUp = (event: MouseTouchEvent<HTMLElement>) => {\n    const onMouseUp = (React.Children.only(this.props.children) as any).props.onMouseUp;\n    if (onMouseUp) {\n      onMouseUp(event);\n    }\n\n    this._currentEventType = eventMapping.mouse;\n    return this._onDragStop(event);\n  };\n\n  private _onTouchStart = (event: MouseTouchEvent<HTMLElement>) => {\n    const onTouchStart = (React.Children.only(this.props.children) as any).props.onTouchStart;\n    if (onTouchStart) {\n      onTouchStart(event);\n    }\n\n    this._currentEventType = eventMapping.touch;\n    return this._onDragStart(event);\n  };\n\n  private _onTouchEnd = (event: MouseTouchEvent<HTMLElement>) => {\n    const onTouchEnd = (React.Children.only(this.props.children) as any).props.onTouchEnd;\n    if (onTouchEnd) {\n      onTouchEnd(event);\n    }\n\n    this._currentEventType = eventMapping.touch;\n    this._onDragStop(event);\n  };\n\n  private _onDragStart = (event: MouseTouchEvent<HTMLElement>) => {\n    // Only handle left click for dragging\n    if (typeof event.button === 'number' && event.button !== 0) {\n      return false;\n    }\n\n    // If the target doesn't match the handleSelector OR\n    // if the target does match the preventDragSelector, bail out\n    if (\n      (this.props.handleSelector && !this._matchesSelector(event.target as HTMLElement, this.props.handleSelector)) ||\n      (this.props.preventDragSelector &&\n        this._matchesSelector(event.target as HTMLElement, this.props.preventDragSelector))\n    ) {\n      return;\n    }\n\n    // Remember the touch identifier if this is a touch event so we can\n    // distinguish between individual touches in multitouch scenarios\n    // by remembering which touch point we were given\n    this._touchId = this._getTouchId(event);\n\n    const position = this._getControlPosition(event);\n    if (position === undefined) {\n      return;\n    }\n\n    const dragData = this._createDragDataFromPosition(position);\n    this.props.onStart && this.props.onStart(event, dragData);\n\n    this.setState({\n      isDragging: true,\n      lastPosition: position,\n    });\n\n    // hook up the appropriate mouse/touch events to the body to ensure\n    // smooth dragging\n    this._events = [\n      on(document.body, this._currentEventType.move, this._onDrag, true /* use capture phase */),\n      on(document.body, this._currentEventType.stop, this._onDragStop, true /* use capture phase */),\n    ];\n  };\n\n  private _onDrag = (event: MouseTouchEvent<HTMLElement>) => {\n    // Prevent scrolling on mobile devices\n    if (event.type === 'touchmove') {\n      event.preventDefault();\n    }\n\n    const position = this._getControlPosition(event);\n    if (!position) {\n      return;\n    }\n\n    // create the updated drag data from the position data\n    const updatedData = this._createUpdatedDragData(this._createDragDataFromPosition(position));\n    const updatedPosition = updatedData.position;\n\n    this.props.onDragChange && this.props.onDragChange(event, updatedData);\n\n    this.setState({\n      position: updatedPosition,\n      lastPosition: position,\n    });\n  };\n\n  private _onDragStop = (event: MouseTouchEvent<HTMLElement>) => {\n    if (!this.state.isDragging) {\n      return;\n    }\n\n    const position = this._getControlPosition(event);\n    if (!position) {\n      return;\n    }\n\n    const baseDragData = this._createDragDataFromPosition(position);\n\n    // Set dragging to false and reset the lastPosition\n    this.setState({\n      isDragging: false,\n      lastPosition: undefined,\n    });\n\n    this.props.onStop && this.props.onStop(event, baseDragData);\n\n    if (this.props.position) {\n      this.setState({\n        position: this.props.position,\n      });\n    }\n\n    // Remove event handlers\n    this._events.forEach(dispose => dispose());\n  };\n\n  /**\n   * Get the control position based off the event that fired\n   * @param event - The event to get offsets from\n   */\n  private _getControlPosition(event: MouseTouchEvent<HTMLElement>): ICoordinates | undefined {\n    const touchObj = this._getActiveTouch(event);\n\n    // did we get the right touch?\n    if (this._touchId !== undefined && !touchObj) {\n      return undefined;\n    }\n\n    const eventToGetOffset = touchObj || event;\n    return {\n      x: eventToGetOffset.clientX,\n      y: eventToGetOffset.clientY,\n    };\n  }\n\n  /**\n   * Get the active touch point that we have saved from the event's TouchList\n   * @param event - The event used to get the TouchList for the active touch point\n   */\n  private _getActiveTouch(event: MouseTouchEvent<HTMLElement>): React.Touch | undefined {\n    return (\n      (event.targetTouches && this._findTouchInTouchList(event.targetTouches)) ||\n      (event.changedTouches && this._findTouchInTouchList(event.changedTouches))\n    );\n  }\n\n  /**\n   * Get the initial touch identifier associated with the given event\n   * @param event - The event that contains the TouchList\n   */\n  private _getTouchId(event: MouseTouchEvent<HTMLElement>): number | undefined {\n    const touch: React.Touch | undefined =\n      (event.targetTouches && event.targetTouches[0]) || (event.changedTouches && event.changedTouches[0]);\n\n    if (touch) {\n      return touch.identifier;\n    }\n  }\n\n  /**\n   * Returns if an element (or any of the element's parents) match the given selector\n   */\n  private _matchesSelector(element: HTMLElement | null, selector: string): boolean {\n    if (!element || element === document.body) {\n      return false;\n    }\n\n    const matchesSelectorFn: Function =\n      element.matches || element.webkitMatchesSelector || (element as any).msMatchesSelector; /* for IE */\n\n    if (!matchesSelectorFn) {\n      return false;\n    }\n\n    return matchesSelectorFn.call(element, selector) || this._matchesSelector(element.parentElement, selector);\n  }\n\n  /**\n   * Attempts to find the Touch that matches the identifier  we stored in dragStart\n   * @param touchList The TouchList to look for the stored identifier from dragStart\n   */\n  private _findTouchInTouchList(touchList: React.TouchList): React.Touch | undefined {\n    if (this._touchId === undefined) {\n      return;\n    }\n\n    for (let i = 0; i < touchList.length; i++) {\n      if (touchList[i].identifier === this._touchId) {\n        return touchList[i];\n      }\n    }\n\n    return undefined;\n  }\n\n  /**\n   * Create DragData based off of the last known position and the new position passed in\n   * @param position The new position as part of the drag\n   */\n  private _createDragDataFromPosition(position: ICoordinates): IDragData {\n    const { lastPosition } = this.state;\n\n    // If we have no lastPosition, use the given position\n    // for last position\n    if (lastPosition === undefined) {\n      return {\n        delta: { x: 0, y: 0 },\n        lastPosition: position,\n        position,\n      };\n    }\n\n    return {\n      delta: {\n        x: position.x - lastPosition.x,\n        y: position.y - lastPosition.y,\n      },\n      lastPosition,\n      position,\n    };\n  }\n\n  /**\n   * Creates an updated DragData based off the current position and given baseDragData\n   * @param baseDragData The base DragData (from _createDragDataFromPosition) used to calculate the updated positions\n   */\n  private _createUpdatedDragData(baseDragData: IDragData): IDragData {\n    const { position } = this.state;\n    return {\n      position: {\n        x: position.x + baseDragData.delta.x,\n        y: position.y + baseDragData.delta.y,\n      },\n      delta: baseDragData.delta,\n      lastPosition: position,\n    };\n  }\n}\n","import * as React from 'react';\nimport { useConst } from './useConst';\n\nexport type UseSetTimeoutReturnType = {\n  setTimeout: (callback: () => void, duration: number) => number;\n  clearTimeout: (id: number) => void;\n};\n\n/**\n *  Returns a wrapper function for `setTimeout` which automatically handles disposal.\n */\nexport const useSetTimeout = (): UseSetTimeoutReturnType => {\n  const timeoutIds = useConst<Record<number, number>>({});\n\n  // Cleanup function.\n  React.useEffect(\n    () => () => {\n      for (const id of Object.keys(timeoutIds)) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        clearTimeout(id as any);\n      }\n    },\n    // useConst ensures this will never change, but react-hooks/exhaustive-deps doesn't know that\n    [timeoutIds],\n  );\n\n  // Return wrapper which will auto cleanup.\n  return useConst({\n    setTimeout: (func: () => void, duration: number): number => {\n      const id = (setTimeout(func, duration) as unknown) as number;\n\n      timeoutIds[id] = 1;\n\n      return id;\n    },\n\n    clearTimeout: (id: number): void => {\n      delete timeoutIds[id];\n      clearTimeout(id);\n    },\n  });\n};\n","import * as React from 'react';\nimport {\n  classNamesFunction,\n  allowScrollOnElement,\n  allowOverscrollOnElement,\n  getPropsWithDefaults,\n  KeyCodes,\n  elementContains,\n  EventGroup,\n} from '../../Utilities';\nimport { FocusTrapZone } from '../../FocusTrapZone';\nimport { animationDuration } from './Modal.styles';\nimport { Overlay } from '../../Overlay';\nimport { Layer } from '../../Layer';\nimport { Popup } from '../../Popup';\nimport { ResponsiveMode, useResponsiveMode } from '../../ResponsiveMode';\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport { Icon } from '../../Icon';\nimport { DraggableZone } from '../../utilities/DraggableZone/index';\nimport { useWindow } from '@fluentui/react-window-provider';\nimport {\n  useBoolean,\n  useMergedRefs,\n  useWarnings,\n  useConst,\n  useSetTimeout,\n  useId,\n  useUnmount,\n} from '@fluentui/react-hooks';\nimport type { IFocusTrapZone } from '../../FocusTrapZone';\nimport type { IDragOptions, IModalProps, IModalStyleProps, IModalStyles } from './Modal.types';\nimport type { ILayerProps } from '../../Layer';\nimport type { ICoordinates, IDragData } from '../../utilities/DraggableZone/index';\n\n// @TODO - need to change this to a panel whenever the breakpoint is under medium (verify the spec)\n\ninterface IModalInternalState {\n  onModalCloseTimer: number;\n  allowTouchBodyScroll?: boolean;\n  scrollableContent: HTMLDivElement | null;\n  lastSetCoordinates: ICoordinates;\n  /** Minimum clamped position, if dragging and clamping (`dragOptions.keepInBounds`) are enabled */\n  minPosition?: ICoordinates;\n  /** Maximum clamped position, if dragging and clamping (`dragOptions.keepInBounds`) are enabled */\n  maxPosition?: ICoordinates;\n  events: EventGroup;\n  /** Ensures we dispose the same keydown callback as was registered */\n  disposeOnKeyDown?: () => void;\n  /** Ensures we dispose the same keyup callback as was registered (also tracks whether keyup has been registered) */\n  disposeOnKeyUp?: () => void;\n  isInKeyboardMoveMode?: boolean;\n  hasBeenOpened?: boolean;\n}\n\nconst ZERO: ICoordinates = { x: 0, y: 0 };\n\nconst DEFAULT_PROPS: Partial<IModalProps> = {\n  isOpen: false,\n  isDarkOverlay: true,\n  className: '',\n  containerClassName: '',\n  enableAriaHiddenSiblings: true,\n};\n\nconst getClassNames = classNamesFunction<IModalStyleProps, IModalStyles>();\n\nconst getMoveDelta = (ev: React.KeyboardEvent<HTMLElement>): number => {\n  let delta = 10;\n  if (ev.shiftKey) {\n    if (!ev.ctrlKey) {\n      delta = 50;\n    }\n  } else if (ev.ctrlKey) {\n    delta = 1;\n  }\n\n  return delta;\n};\n\nconst useComponentRef = (props: IModalProps, focusTrapZone: React.RefObject<IFocusTrapZone>) => {\n  React.useImperativeHandle(\n    props.componentRef,\n    () => ({\n      focus() {\n        if (focusTrapZone.current) {\n          focusTrapZone.current.focus();\n        }\n      },\n    }),\n    [focusTrapZone],\n  );\n};\n\nexport const ModalBase: React.FunctionComponent<IModalProps> = React.forwardRef<HTMLDivElement, IModalProps>(\n  (propsWithoutDefaults, ref) => {\n    const props = getPropsWithDefaults(DEFAULT_PROPS, propsWithoutDefaults);\n    const {\n      allowTouchBodyScroll,\n      className,\n      children,\n      containerClassName,\n      scrollableContentClassName,\n      elementToFocusOnDismiss,\n      firstFocusableSelector,\n      forceFocusInsideTrap,\n      ignoreExternalFocusing,\n      isBlocking,\n      isAlert,\n      isClickableOutsideFocusTrap,\n      isDarkOverlay,\n      onDismiss,\n      layerProps,\n      overlay,\n      isOpen,\n      titleAriaId,\n      styles,\n      subtitleAriaId,\n      theme,\n      topOffsetFixed,\n      responsiveMode,\n      // eslint-disable-next-line deprecation/deprecation\n      onLayerDidMount,\n      isModeless,\n      dragOptions,\n      onDismissed,\n      // eslint-disable-next-line deprecation/deprecation\n      enableAriaHiddenSiblings,\n    } = props;\n\n    const rootRef = React.useRef<HTMLDivElement>(null);\n    const focusTrapZone = React.useRef<IFocusTrapZone>(null);\n    const focusTrapZoneElm = React.useRef<HTMLDivElement>(null);\n    const mergedRef = useMergedRefs(rootRef, ref);\n\n    const modalResponsiveMode = useResponsiveMode(mergedRef);\n\n    const focusTrapZoneId = useId('ModalFocusTrapZone');\n\n    const win = useWindow();\n\n    const { setTimeout, clearTimeout } = useSetTimeout();\n\n    const [isModalOpen, setIsModalOpen] = React.useState(isOpen);\n    const [isVisible, setIsVisible] = React.useState(isOpen);\n    const [coordinates, setCoordinates] = React.useState<ICoordinates>(ZERO);\n    const [modalRectangleTop, setModalRectangleTop] = React.useState<number | undefined>();\n\n    const [isModalMenuOpen, { toggle: toggleModalMenuOpen, setFalse: setModalMenuClose }] = useBoolean(false);\n\n    const internalState = useConst<IModalInternalState>(() => ({\n      onModalCloseTimer: 0,\n      allowTouchBodyScroll,\n      scrollableContent: null,\n      lastSetCoordinates: ZERO,\n      events: new EventGroup({}),\n    }));\n\n    const { keepInBounds } = dragOptions || ({} as IDragOptions);\n    const isAlertRole = isAlert ?? (isBlocking && !isModeless);\n\n    const layerClassName = layerProps === undefined ? '' : layerProps.className;\n    const classNames = getClassNames(styles, {\n      theme: theme!,\n      className,\n      containerClassName,\n      scrollableContentClassName,\n      isOpen,\n      isVisible,\n      hasBeenOpened: internalState.hasBeenOpened,\n      modalRectangleTop,\n      topOffsetFixed,\n      isModeless,\n      layerClassName,\n      windowInnerHeight: win?.innerHeight,\n      isDefaultDragHandle: dragOptions && !dragOptions.dragHandleSelector,\n    });\n\n    const mergedLayerProps: ILayerProps = {\n      eventBubblingEnabled: false,\n      ...layerProps,\n      onLayerDidMount: layerProps && layerProps.onLayerDidMount ? layerProps.onLayerDidMount : onLayerDidMount,\n      insertFirst: isModeless,\n      className: classNames.layer,\n    };\n\n    // Allow the user to scroll within the modal but not on the body\n    const allowScrollOnModal = React.useCallback(\n      (elt: HTMLDivElement | null): void => {\n        if (elt) {\n          if (internalState.allowTouchBodyScroll) {\n            allowOverscrollOnElement(elt, internalState.events);\n          } else {\n            allowScrollOnElement(elt, internalState.events);\n          }\n        } else {\n          internalState.events.off(internalState.scrollableContent);\n        }\n        internalState.scrollableContent = elt;\n      },\n      [internalState],\n    );\n\n    const registerInitialModalPosition = (): void => {\n      const dialogMain = focusTrapZoneElm.current;\n      const modalRectangle = dialogMain?.getBoundingClientRect();\n\n      if (modalRectangle) {\n        if (topOffsetFixed) {\n          setModalRectangleTop(modalRectangle.top);\n        }\n\n        if (keepInBounds) {\n          // x/y are unavailable in IE, so use the equivalent left/top\n          internalState.minPosition = { x: -modalRectangle.left, y: -modalRectangle.top };\n          internalState.maxPosition = { x: modalRectangle.left, y: modalRectangle.top };\n        }\n      }\n    };\n\n    /**\n     * Clamps an axis to a specified min and max position.\n     *\n     * @param axis A string that represents the axis (x/y).\n     * @param position The position on the axis.\n     */\n    const getClampedAxis = React.useCallback(\n      (axis: keyof ICoordinates, position: number) => {\n        const { minPosition, maxPosition } = internalState;\n        if (keepInBounds && minPosition && maxPosition) {\n          position = Math.max(minPosition[axis], position);\n          position = Math.min(maxPosition[axis], position);\n        }\n        return position;\n      },\n      [keepInBounds, internalState],\n    );\n\n    const handleModalClose = (): void => {\n      internalState.lastSetCoordinates = ZERO;\n\n      setModalMenuClose();\n      internalState.isInKeyboardMoveMode = false;\n      setIsModalOpen(false);\n      setCoordinates(ZERO);\n\n      internalState.disposeOnKeyUp?.();\n\n      onDismissed?.();\n    };\n\n    const handleDragStart = React.useCallback((): void => {\n      setModalMenuClose();\n      internalState.isInKeyboardMoveMode = false;\n    }, [internalState, setModalMenuClose]);\n\n    const handleDrag = React.useCallback(\n      (ev: React.MouseEvent<HTMLElement> & React.TouchEvent<HTMLElement>, dragData: IDragData): void => {\n        setCoordinates(prevValue => ({\n          x: getClampedAxis('x', prevValue.x + dragData.delta.x),\n          y: getClampedAxis('y', prevValue.y + dragData.delta.y),\n        }));\n      },\n      [getClampedAxis],\n    );\n\n    const handleDragStop = React.useCallback((): void => {\n      if (focusTrapZone.current) {\n        focusTrapZone.current.focus();\n      }\n    }, []);\n\n    const handleEnterKeyboardMoveMode = () => {\n      // We need a global handleKeyDown event when we are in the move mode so that we can\n      // handle the key presses and the components inside the modal do not get the events\n      const handleKeyDown = (ev: React.KeyboardEvent<HTMLElement>): void => {\n        // eslint-disable-next-line deprecation/deprecation\n        if (ev.altKey && ev.ctrlKey && ev.keyCode === KeyCodes.space) {\n          // CTRL + ALT + SPACE is handled during keyUp\n          ev.preventDefault();\n          ev.stopPropagation();\n          return;\n        }\n\n        // eslint-disable-next-line deprecation/deprecation\n        const newLocal = ev.altKey || ev.keyCode === KeyCodes.escape;\n        if (isModalMenuOpen && newLocal) {\n          setModalMenuClose();\n        }\n\n        // eslint-disable-next-line deprecation/deprecation\n        if (internalState.isInKeyboardMoveMode && (ev.keyCode === KeyCodes.escape || ev.keyCode === KeyCodes.enter)) {\n          internalState.isInKeyboardMoveMode = false;\n          ev.preventDefault();\n          ev.stopPropagation();\n        }\n\n        if (internalState.isInKeyboardMoveMode) {\n          let handledEvent = true;\n          const delta = getMoveDelta(ev);\n\n          // eslint-disable-next-line deprecation/deprecation\n          switch (ev.keyCode) {\n            /* eslint-disable no-fallthrough */\n            case KeyCodes.escape:\n              setCoordinates(internalState.lastSetCoordinates);\n            case KeyCodes.enter: {\n              // TODO: determine if fallthrough was intentional\n              /* eslint-enable no-fallthrough */\n              internalState.lastSetCoordinates = ZERO;\n              // setIsInKeyboardMoveMode(false);\n              break;\n            }\n            case KeyCodes.up: {\n              setCoordinates(prevValue => ({ x: prevValue.x, y: getClampedAxis('y', prevValue.y - delta) }));\n              break;\n            }\n            case KeyCodes.down: {\n              setCoordinates(prevValue => ({ x: prevValue.x, y: getClampedAxis('y', prevValue.y + delta) }));\n              break;\n            }\n            case KeyCodes.left: {\n              setCoordinates(prevValue => ({ x: getClampedAxis('x', prevValue.x - delta), y: prevValue.y }));\n              break;\n            }\n            case KeyCodes.right: {\n              setCoordinates(prevValue => ({ x: getClampedAxis('x', prevValue.x + delta), y: prevValue.y }));\n              break;\n            }\n            default: {\n              handledEvent = false;\n            }\n          }\n          if (handledEvent) {\n            ev.preventDefault();\n            ev.stopPropagation();\n          }\n        }\n      };\n\n      internalState.lastSetCoordinates = coordinates;\n      setModalMenuClose();\n      internalState.isInKeyboardMoveMode = true;\n\n      internalState.events.on(win, 'keydown', handleKeyDown, true /* useCapture */);\n      internalState.disposeOnKeyDown = () => {\n        internalState.events.off(win, 'keydown', handleKeyDown, true /* useCapture */);\n        internalState.disposeOnKeyDown = undefined;\n      };\n    };\n\n    const handleExitKeyboardMoveMode = () => {\n      internalState.lastSetCoordinates = ZERO;\n      internalState.isInKeyboardMoveMode = false;\n      internalState.disposeOnKeyDown?.();\n    };\n\n    const registerForKeyUp = (): void => {\n      const handleKeyUp = (ev: React.KeyboardEvent<HTMLElement>): void => {\n        // Needs to handle the CTRL + ALT + SPACE key during keyup due to FireFox bug:\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=1220143\n        // eslint-disable-next-line deprecation/deprecation\n        if (ev.altKey && ev.ctrlKey && ev.keyCode === KeyCodes.space) {\n          if (elementContains(internalState.scrollableContent, ev.target as HTMLElement)) {\n            toggleModalMenuOpen();\n            ev.preventDefault();\n            ev.stopPropagation();\n          }\n        }\n      };\n\n      if (!internalState.disposeOnKeyUp) {\n        internalState.events.on(win, 'keyup', handleKeyUp, true /* useCapture */);\n        internalState.disposeOnKeyUp = () => {\n          internalState.events.off(win, 'keyup', handleKeyUp, true /* useCapture */);\n          internalState.disposeOnKeyUp = undefined;\n        };\n      }\n    };\n\n    React.useEffect(() => {\n      clearTimeout(internalState.onModalCloseTimer);\n      // Opening the dialog\n      if (isOpen) {\n        // This must be done after the modal content has rendered\n        requestAnimationFrame(() => setTimeout(registerInitialModalPosition, 0));\n\n        setIsModalOpen(true);\n\n        // Add a keyUp handler for all key up events once the dialog is open.\n        if (dragOptions) {\n          registerForKeyUp();\n        }\n\n        internalState.hasBeenOpened = true;\n        setIsVisible(true);\n      }\n\n      // Closing the dialog\n      if (!isOpen && isModalOpen) {\n        internalState.onModalCloseTimer = setTimeout(handleModalClose, parseFloat(animationDuration) * 1000);\n        setIsVisible(false);\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps -- should only run if isModalOpen or isOpen mutates.\n    }, [isModalOpen, isOpen]);\n\n    useUnmount(() => {\n      internalState.events.dispose();\n    });\n\n    useComponentRef(props, focusTrapZone);\n    useDebugWarnings(props);\n\n    const modalContent = (\n      <FocusTrapZone\n        id={focusTrapZoneId}\n        ref={focusTrapZoneElm}\n        componentRef={focusTrapZone}\n        className={classNames.main}\n        elementToFocusOnDismiss={elementToFocusOnDismiss}\n        isClickableOutsideFocusTrap={isModeless || isClickableOutsideFocusTrap || !isBlocking}\n        ignoreExternalFocusing={ignoreExternalFocusing}\n        forceFocusInsideTrap={forceFocusInsideTrap && !isModeless}\n        firstFocusableSelector={firstFocusableSelector}\n        focusPreviouslyFocusedInnerElement\n        onBlur={internalState.isInKeyboardMoveMode ? handleExitKeyboardMoveMode : undefined}\n        // enableAriaHiddenSiblings is handled by the Popup\n      >\n        {dragOptions && internalState.isInKeyboardMoveMode && (\n          <div className={classNames.keyboardMoveIconContainer}>\n            {dragOptions.keyboardMoveIconProps ? (\n              <Icon {...dragOptions.keyboardMoveIconProps} />\n            ) : (\n              <Icon iconName=\"move\" className={classNames.keyboardMoveIcon} />\n            )}\n          </div>\n        )}\n        <div ref={allowScrollOnModal} className={classNames.scrollableContent} data-is-scrollable>\n          {dragOptions && isModalMenuOpen && (\n            <dragOptions.menu\n              items={[\n                { key: 'move', text: dragOptions.moveMenuItemText, onClick: handleEnterKeyboardMoveMode },\n                { key: 'close', text: dragOptions.closeMenuItemText, onClick: handleModalClose },\n              ]}\n              onDismiss={setModalMenuClose}\n              alignTargetEdge\n              coverTarget\n              directionalHint={DirectionalHint.topLeftEdge}\n              directionalHintFixed\n              shouldFocusOnMount\n              target={internalState.scrollableContent}\n            />\n          )}\n          {children}\n        </div>\n      </FocusTrapZone>\n    );\n\n    return (\n      (isModalOpen && modalResponsiveMode! >= (responsiveMode || ResponsiveMode.small) && (\n        <Layer ref={mergedRef} {...mergedLayerProps}>\n          <Popup\n            role={isAlertRole ? 'alertdialog' : 'dialog'}\n            ariaLabelledBy={titleAriaId}\n            ariaDescribedBy={subtitleAriaId}\n            onDismiss={onDismiss}\n            shouldRestoreFocus={!ignoreExternalFocusing}\n            // Modeless modals shouldn't hide siblings.\n            // Popup will automatically handle this based on the aria-modal setting.\n            enableAriaHiddenSiblings={enableAriaHiddenSiblings}\n            aria-modal={!isModeless}\n          >\n            <div className={classNames.root} role={!isModeless ? 'document' : undefined}>\n              {!isModeless && (\n                <Overlay\n                  aria-hidden={true}\n                  isDarkThemed={isDarkOverlay}\n                  onClick={isBlocking ? undefined : onDismiss}\n                  allowTouchBodyScroll={allowTouchBodyScroll}\n                  {...overlay}\n                />\n              )}\n              {dragOptions ? (\n                <DraggableZone\n                  handleSelector={dragOptions.dragHandleSelector || `#${focusTrapZoneId}`}\n                  preventDragSelector=\"button\"\n                  onStart={handleDragStart}\n                  onDragChange={handleDrag}\n                  onStop={handleDragStop}\n                  position={coordinates}\n                >\n                  {modalContent}\n                </DraggableZone>\n              ) : (\n                modalContent\n              )}\n            </div>\n          </Popup>\n        </Layer>\n      )) ||\n      null\n    );\n  },\n);\nModalBase.displayName = 'Modal';\n\nfunction useDebugWarnings(props: IModalProps) {\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks -- build-time conditional\n    useWarnings({\n      name: 'Modal',\n      props,\n      deprecations: { onLayerDidMount: 'layerProps.onLayerDidMount' },\n    });\n  }\n}\n","import * as React from 'react';\nimport { styled } from '../../Utilities';\nimport { ModalBase } from './Modal.base';\nimport { getStyles } from './Modal.styles';\nimport type { IModalProps, IModalStyleProps, IModalStyles } from './Modal.types';\n\nexport const Modal: React.FunctionComponent<IModalProps> = styled<IModalProps, IModalStyleProps, IModalStyles>(\n  ModalBase,\n  getStyles,\n  undefined,\n  {\n    scope: 'Modal',\n    fields: ['theme', 'styles', 'enableAriaHiddenSiblings'],\n  },\n);\nModal.displayName = 'Modal';\n","import * as React from 'react';\nimport {\n  classNamesFunction,\n  getNativeProps,\n  divProperties,\n  enableBodyScroll,\n  disableBodyScroll,\n  initializeComponentRef,\n} from '../../Utilities';\nimport type { IOverlayProps, IOverlayStyleProps, IOverlayStyles } from './Overlay.types';\n\nconst getClassNames = classNamesFunction<IOverlayStyleProps, IOverlayStyles>();\n\nexport class OverlayBase extends React.Component<IOverlayProps, {}> {\n  private _allowTouchBodyScroll: boolean;\n\n  constructor(props: IOverlayProps) {\n    super(props);\n\n    initializeComponentRef(this);\n    const { allowTouchBodyScroll = false } = this.props;\n    this._allowTouchBodyScroll = allowTouchBodyScroll;\n  }\n\n  public componentDidMount(): void {\n    !this._allowTouchBodyScroll && disableBodyScroll();\n  }\n\n  public componentWillUnmount(): void {\n    !this._allowTouchBodyScroll && enableBodyScroll();\n  }\n\n  public render(): JSX.Element {\n    const { isDarkThemed: isDark, className, theme, styles } = this.props;\n\n    const divProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(this.props, divProperties);\n\n    const classNames = getClassNames(styles!, {\n      theme: theme!,\n      className,\n      isDark,\n    });\n\n    return <div {...divProps} className={classNames.root} />;\n  }\n}\n","import { HighContrastSelector, getGlobalClassNames } from '../../Styling';\nimport type { IOverlayStyleProps, IOverlayStyles } from './Overlay.types';\n\nconst GlobalClassNames = {\n  root: 'ms-Overlay',\n  rootDark: 'ms-Overlay--dark',\n};\n\nexport const getStyles = (props: IOverlayStyleProps): IOverlayStyles => {\n  const { className, theme, isNone, isDark } = props;\n\n  const { palette } = theme;\n\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n\n  return {\n    root: [\n      classNames.root,\n      theme.fonts.medium,\n      {\n        backgroundColor: palette.whiteTranslucent40,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        position: 'absolute',\n\n        selectors: {\n          [HighContrastSelector]: {\n            border: '1px solid WindowText',\n            opacity: 0,\n          },\n        },\n      },\n\n      isNone && {\n        visibility: 'hidden',\n      },\n\n      isDark && [\n        classNames.rootDark,\n        {\n          backgroundColor: palette.blackTranslucent40,\n        },\n      ],\n\n      className,\n    ],\n  };\n};\n","import * as React from 'react';\nimport { styled } from '../../Utilities';\nimport { OverlayBase } from './Overlay.base';\nimport { getStyles } from './Overlay.styles';\nimport type { IOverlayProps, IOverlayStyleProps, IOverlayStyles } from './Overlay.types';\n\nexport const Overlay: React.FunctionComponent<IOverlayProps> = styled<\n  IOverlayProps,\n  IOverlayStyleProps,\n  IOverlayStyles\n>(OverlayBase, getStyles, undefined, {\n  scope: 'Overlay',\n});\n","import * as React from 'react';\nimport { PanelBase } from './Panel.base';\nimport type { IFocusTrapZoneProps } from '../../FocusTrapZone';\nimport type { ILayerProps } from '../../Layer';\nimport type { IOverlayProps } from '../../Overlay';\nimport type { IStyle, ITheme } from '../../Styling';\nimport type { IRefObject, IRenderFunction, IStyleFunctionOrObject } from '../../Utilities';\nimport type { IButtonStyles } from '../../Button';\nimport type { IPopupProps } from '../../Popup';\n\n/**\n * {@docCategory Panel}\n */\nexport interface IPanel {\n  /**\n   * Forces the panel to open.\n   */\n  open: () => void;\n\n  /**\n   * Forces the panel to dismiss.\n   */\n  dismiss: (ev?: React.KeyboardEvent<HTMLElement> | KeyboardEvent) => void;\n}\n\n/**\n * {@docCategory Panel}\n */\nexport interface IPanelProps extends React.HTMLAttributes<PanelBase> {\n  /**\n   * Optional callback to access the IPanel interface. Use this instead of ref for accessing\n   * the public methods and properties of the component.\n   */\n  componentRef?: IRefObject<IPanel>;\n\n  /**\n   * Whether the panel is displayed.\n   * If true, will cause panel to stay open even if dismissed.\n   * If false, will cause panel to stay hidden.\n   * If undefined, will allow the panel to control its own visibility through open/dismiss methods.\n   * @defaultvalue undefined\n   */\n  isOpen?: boolean;\n\n  /**\n   * Has the close button visible.\n   * @defaultvalue true\n   */\n  hasCloseButton?: boolean;\n\n  /**\n   * Whether the panel can be light dismissed.\n   * @defaultvalue false\n   */\n  isLightDismiss?: boolean;\n\n  /**\n   * Whether the panel is hidden on dismiss, instead of destroyed in the DOM.\n   * Protects the contents from being destroyed when the panel is dismissed.\n   * @defaultvalue false\n   */\n  isHiddenOnDismiss?: boolean;\n\n  /**\n   * Whether the panel uses a modal overlay or not\n   * @defaultvalue true\n   */\n  isBlocking?: boolean;\n\n  /**\n   * Determines if content should stretch to fill available space putting footer at the bottom of the page\n   * @defaultvalue false\n   */\n  isFooterAtBottom?: boolean;\n\n  /**\n   * Header text for the Panel.\n   * @defaultvalue \"\"\n   */\n  headerText?: string;\n\n  /**\n   * The props for header text container.\n   */\n  headerTextProps?: React.HTMLAttributes<HTMLDivElement>;\n\n  /**\n   * A callback function for when the Panel is opened, before the animation completes.\n   */\n  onOpen?: () => void;\n\n  /**\n   * A callback function for when the Panel is opened, after the animation completes.\n   */\n  onOpened?: () => void;\n\n  /**\n   * A callback function for when the panel is closed, before the animation completes.\n   * If the panel should NOT be dismissed based on some keyboard event, then simply call ev.preventDefault() on it\n   */\n  onDismiss?: (ev?: React.SyntheticEvent<HTMLElement> | KeyboardEvent) => void;\n\n  /**\n   * A callback function which is called **after** the Panel is dismissed and the animation is complete.\n   * (If you need to update the Panel's `isOpen` prop in response to a dismiss event, use `onDismiss` instead.)\n   */\n  onDismissed?: () => void;\n\n  /**\n   * Call to provide customized styling that will layer on top of the variant rules.\n   */\n  styles?: IStyleFunctionOrObject<IPanelStyleProps, IPanelStyles>;\n\n  /**\n   * Theme provided by High-Order Component.\n   */\n  theme?: ITheme;\n\n  /**\n   * Additional css class to apply to the Panel\n   * @defaultvalue undefined\n   */\n  className?: string;\n\n  /**\n   * Type of the panel.\n   * @defaultvalue PanelType.smallFixedFar\n   */\n  type?: PanelType;\n\n  /**\n   * Custom panel width, used only when `type` is set to `PanelType.custom`.\n   */\n  customWidth?: string;\n\n  /**\n   * Aria label on close button\n   */\n  closeButtonAriaLabel?: string;\n\n  /**\n   * Optional parameter to provider the class name for header text\n   */\n  headerClassName?: string;\n\n  /**\n   * Sets the HTMLElement to focus on when exiting the FocusTrapZone.\n   * @defaultvalue The `element.target` that triggered the Panel.\n   */\n  elementToFocusOnDismiss?: HTMLElement;\n\n  /**\n   * Indicates if this Panel will ignore keeping track of HTMLElement that activated the Zone.\n   * @defaultvalue false\n   * @deprecated Use `focusTrapZoneProps`.\n   */\n  ignoreExternalFocusing?: boolean;\n\n  /**\n   * Indicates whether Panel should force focus inside the focus trap zone.\n   * If not explicitly specified, behavior aligns with FocusTrapZone's default behavior.\n   * @deprecated Use `focusTrapZoneProps`.\n   */\n  forceFocusInsideTrap?: boolean;\n\n  /**\n   * Indicates the selector for first focusable item.\n   * @deprecated Use `focusTrapZoneProps`.\n   */\n  firstFocusableSelector?: string;\n\n  /**\n   * Optional props to pass to the FocusTrapZone component to manage focus in the panel.\n   */\n  focusTrapZoneProps?: IFocusTrapZoneProps;\n\n  /**\n   * Optional props to pass to the Layer component hosting the panel.\n   */\n  layerProps?: ILayerProps;\n\n  /**\n   * Optional props to pass to the Overlay component that the panel uses.\n   */\n  overlayProps?: IOverlayProps;\n\n  /**\n   * Optional props to pass the Popup component that the panel uses.\n   */\n  popupProps?: IPopupProps;\n\n  /**\n   * Optional custom function to handle clicks outside the panel in lightdismiss mode\n   */\n  onLightDismissClick?: () => void;\n\n  /**\n   * Optional custom function to handle clicks outside this component\n   */\n  onOuterClick?: (ev?: React.MouseEvent<HTMLDivElement>) => void;\n\n  /**\n   * Optional custom renderer navigation region. Replaces the region that contains the close button.\n   */\n  onRenderNavigation?: IRenderFunction<IPanelProps>;\n\n  /**\n   * Optional custom renderer for content in the navigation region. Replaces current close button.\n   */\n  onRenderNavigationContent?: IRenderFunction<IPanelProps>;\n\n  /**\n   * Optional custom renderer for header region. Replaces current title\n   */\n  onRenderHeader?: IPanelHeaderRenderer;\n\n  /**\n   * Optional custom renderer for body region. Replaces any children passed into the component.\n   */\n  onRenderBody?: IRenderFunction<IPanelProps>;\n\n  /**\n   * Optional custom renderer for footer region. Replaces sticky footer.\n   */\n  onRenderFooter?: IRenderFunction<IPanelProps>;\n\n  /**\n   * Custom renderer for content in the sticky footer\n   */\n  onRenderFooterContent?: IRenderFunction<IPanelProps>;\n\n  /**\n   * @deprecated Not used.\n   */\n  componentId?: string;\n\n  /**\n   * Allow body scroll on content and overlay on touch devices. Changing after mounting has no effect.\n   * @defaultvalue false\n   */\n  allowTouchBodyScroll?: boolean;\n}\n\n/**\n * Renderer function which takes an additional parameter, the ID to use for the element containing\n * the panel's title. This allows the `aria-labelledby` for the panel popup to work correctly.\n * Note that if `headerTextId` is provided, it **must** be used on an element, or screen readers\n * will be confused by the reference to a nonexistent ID.\n * {@docCategory Panel}\n */\nexport interface IPanelHeaderRenderer extends IRenderFunction<IPanelProps> {\n  /**\n   * @param props - Props given to the panel\n   * @param defaultRender - Default header renderer. If using this renderer in code that does not\n   * assign `headerTextId` to an element elsewhere, it **must** be passed to this function.\n   * @param headerTextId - If provided, this **must** be used as the ID of an element containing the\n   * panel's title, because the panel popup uses this ID as its aria-labelledby.\n   */\n  (props?: IPanelProps, defaultRender?: IPanelHeaderRenderer, headerTextId?: string | undefined): JSX.Element | null;\n}\n\n/**\n * {@docCategory Panel}\n */\nexport enum PanelType {\n  /**\n   * Renders the Panel with a `fluid` (full screen) width.\n   * Recommended for use on small screen breakpoints.\n   * - Small (320-479): full screen width, 16px left/right padding\n   * - Medium (480-639): full screen width, 16px left/right padding\n   * - Large (640-1023): full screen width, 32px left/right padding\n   * - XLarge (1024-1365): full screen width, 32px left/right padding\n   * - XXLarge (1366-up): full screen width, 40px left/right padding\n   */\n  smallFluid = 0,\n\n  /**\n   * Renders the Panel in fixed-width `small` size, anchored to the far side (right in LTR mode).\n   * - Small (320-479): adapts to `PanelType.smallFluid` at this breakpoint\n   * - Medium (480-639): 340px width, 16px left/right padding\n   * - Large (640-1023): 340px width, 32px left/right padding\n   * - XLarge (1024-1365): 340px width, 32px left/right padding\n   * - XXLarge (1366-up): 340px width, 40px left/right padding\n   */\n  smallFixedFar = 1,\n\n  /**\n   * Renders the Panel in fixed-width `small` size, anchored to the near side (left in LTR mode).\n   * - Small (320-479): 272px width, 16px left/right padding\n   * - Medium (480-639): 272px width, 16px left/right padding\n   * - Large (640-1023): 272px width, 32px left/right padding\n   * - XLarge (1024-1365): 272px width, 32px left/right padding\n   * - XXLarge (1366-up): 272px width, 40px left/right padding\n   */\n  smallFixedNear = 2,\n\n  /**\n   * Renders the Panel in `medium` size, anchored to the far side (right in LTR mode).\n   * - Small (320-479): adapts to `PanelType.smallFluid` at this breakpoint\n   * - Medium (480-639): adapts to `PanelType.smallFixedFar` at this breakpoint\n   * - Large (640-1023): 592px width, 32px left/right padding\n   * - XLarge (1024-1365): 644px width, 32px left/right padding\n   * - XXLarge (1366-up): 644px width, 40px left/right padding\n   */\n  medium = 3,\n\n  /**\n   * Renders the Panel in `large` size, anchored to the far side (right in LTR mode).\n   * - Small (320-479): adapts to `PanelType.smallFluid` at this breakpoint\n   * - Medium (480-639):  adapts to `PanelType.smallFixedFar` at this breakpoint\n   * - Large (640-1023): adapts to `PanelType.medium` at this breakpoint\n   * - XLarge (1024-1365): 48px fixed left margin, fluid width, 32px left/right padding\n   * - XXLarge (1366-up): 428px fixed left margin, fluid width, 40px left/right padding\n   */\n  large = 4,\n\n  /**\n   * Renders the Panel in `large` size, anchored to the far side (right in LTR mode), with a fixed width at\n   * XX-Large breakpoint.\n   * - Small (320-479): adapts to `PanelType.smallFluid` at this breakpoint\n   * - Medium (480-639): adapts to `PanelType.smallFixedFar` at this breakpoint\n   * - Large (640-1023): adapts to `PanelType.medium` at this breakpoint\n   * - XLarge (1024-1365): 48px fixed left margin, fluid width, 32px left/right padding\n   * - XXLarge (1366-up): 940px width, 40px left/right padding\n   */\n  largeFixed = 5,\n\n  /**\n   * Renders the Panel in `extra large` size, anchored to the far side (right in LTR mode).\n   * - Small (320-479): adapts to `PanelType.smallFluid` at this breakpoint\n   * - Medium (480-639): adapts to `PanelType.smallFixedFar` at this breakpoint\n   * - Large (640-1023): adapts to `PanelType.medium` at this breakpoint\n   * - XLarge (1024-1365): adapts to `PanelType.large` at this breakpoint\n   * - XXLarge (1366-1919): 176px fixed left margin, fluid width, 40px left/right padding\n   * - XXXLarge (1920-up): 176px fixed left margin, fluid width, 40px left/right padding\n   */\n  extraLarge = 6,\n\n  /**\n   * Renders the Panel in `custom` size using `customWidth`, anchored to the far side (right in LTR mode).\n   * - Has a fixed width provided by the `customWidth` prop\n   * - When screen width reaches the `customWidth` value it will behave like a fluid width Panel\n   * taking up 100% of the viewport width\n   */\n  custom = 7,\n\n  /**\n   * Renders the Panel in `custom` size using `customWidth`, anchored to the near side (left in LTR mode).\n   * - Has a fixed width provided by the `customWidth` prop\n   * - When screen width reaches the `customWidth` value it will behave like a fluid width Panel\n   * taking up 100% of the viewport width\n   */\n  customNear = 8,\n}\n\n/**\n * {@docCategory Panel}\n */\nexport interface IPanelStyleProps {\n  /**\n   * Theme provided by High-Order Component.\n   */\n  theme: ITheme;\n\n  /**\n   * Accept custom classNames\n   */\n  className?: string;\n\n  /**\n   * Is Panel open\n   */\n  isOpen?: boolean;\n\n  /**\n   * Is animation currently running\n   */\n  isAnimating?: boolean;\n\n  /**\n   * Is panel on right side\n   */\n  isOnRightSide?: boolean;\n\n  /**\n   * Is panel hidden on dismiss\n   */\n  isHiddenOnDismiss?: boolean;\n\n  /**\n   * Classname for FocusTrapZone element\n   */\n  focusTrapZoneClassName?: string;\n\n  /**\n   * Determines if content should stretch to fill available space putting footer at the bottom of the page\n   */\n  isFooterAtBottom?: boolean;\n\n  /**\n   * Based on state value setting footer to sticky or not\n   */\n  isFooterSticky?: boolean;\n\n  /**\n   * Panel has close button\n   */\n  hasCloseButton?: boolean;\n\n  /**\n   * Type of the panel.\n   */\n  type?: PanelType;\n\n  /**\n   * Optional parameter to provider the class name for header text\n   */\n  headerClassName?: string;\n\n  /**\n   * Determines where the header is rendered based on whether the user\n   * has passed in a custom onRenderNavigation or onRenderNavigationContent render callback\n   */\n  hasCustomNavigation?: boolean;\n}\n\nexport interface IPanelSubComponentStyles {\n  /**\n   * Styling for close button child component.\n   */\n  closeButton: Partial<IButtonStyles>;\n}\n\n/**\n * {@docCategory Panel}\n */\nexport interface IPanelStyles {\n  /**\n   * Style for the root element.\n   */\n  root: IStyle;\n\n  /**\n   * Style for the overlay element.\n   */\n  overlay: IStyle;\n\n  /**\n   * Style for the hidden element.\n   */\n  hiddenPanel: IStyle;\n\n  /**\n   * Style for the main section element.\n   */\n  main: IStyle;\n\n  /**\n   * Style for the navigation container element.\n   */\n  commands: IStyle;\n\n  /**\n   * Style for the Body and Footer container element.\n   */\n  contentInner: IStyle;\n\n  /**\n   * Style for the scrollable content area container element.\n   */\n  scrollableContent: IStyle;\n\n  /**\n   * Style for the close button container element.\n   */\n  navigation: IStyle;\n\n  /**\n   * Style for the close button IconButton element.\n   * @deprecated Use `subComponentStyles.closeButton` instead.\n   */\n  closeButton?: IStyle;\n\n  /**\n   * Style for the header container div element.\n   */\n  header: IStyle;\n\n  /**\n   * Style for the header text div element.\n   */\n  headerText: IStyle;\n\n  /**\n   * Style for the body div element.\n   */\n  content: IStyle;\n\n  /**\n   * Style for the footer div element.\n   */\n  footer: IStyle;\n\n  /**\n   * Style for the inner footer div element.\n   */\n  footerInner: IStyle;\n\n  /**\n   * Styling for subcomponents.\n   */\n  subComponentStyles: IPanelSubComponentStyles;\n}\n","import * as React from 'react';\nimport { IconButton } from '../../Button';\nimport { Layer } from '../../Layer';\nimport { Overlay } from '../../Overlay';\nimport { Popup } from '../../Popup';\nimport {\n  allowScrollOnElement,\n  allowOverscrollOnElement,\n  classNamesFunction,\n  divProperties,\n  elementContains,\n  getId,\n  getNativeProps,\n  getRTL,\n  css,\n  warnDeprecations,\n  Async,\n  EventGroup,\n  initializeComponentRef,\n} from '../../Utilities';\nimport { FocusTrapZone } from '../FocusTrapZone/index';\nimport { PanelType } from './Panel.types';\nimport type { IProcessedStyleSet } from '../../Styling';\nimport type { IPanel, IPanelProps, IPanelStyleProps, IPanelStyles } from './Panel.types';\n\nconst getClassNames = classNamesFunction<IPanelStyleProps, IPanelStyles>();\nconst COMPONENT_NAME = 'Panel';\n\nenum PanelVisibilityState {\n  closed,\n  animatingOpen,\n  open,\n  animatingClosed,\n}\n\ninterface IPanelState {\n  isFooterSticky?: boolean;\n  id?: string;\n  visibility: PanelVisibilityState;\n}\n\nexport class PanelBase extends React.Component<IPanelProps, IPanelState> implements IPanel {\n  public static defaultProps: IPanelProps = {\n    isHiddenOnDismiss: false,\n    isOpen: undefined,\n    isBlocking: true,\n    hasCloseButton: true,\n    type: PanelType.smallFixedFar,\n  };\n\n  private _async: Async;\n  private _events: EventGroup;\n  private _panel = React.createRef<HTMLDivElement>();\n  private _classNames: IProcessedStyleSet<IPanelStyles>;\n  private _scrollableContent: HTMLDivElement | null;\n  private _animationCallback: number | null = null;\n  private _hasCustomNavigation: boolean = !!(this.props.onRenderNavigation || this.props.onRenderNavigationContent);\n  private _headerTextId: string | undefined;\n  private _allowTouchBodyScroll: boolean;\n\n  public static getDerivedStateFromProps(\n    nextProps: Readonly<IPanelProps>,\n    prevState: Readonly<IPanelState>,\n  ): Partial<IPanelState> | null {\n    if (nextProps.isOpen === undefined) {\n      return null; // no state update\n    }\n    if (\n      nextProps.isOpen &&\n      (prevState.visibility === PanelVisibilityState.closed ||\n        prevState.visibility === PanelVisibilityState.animatingClosed)\n    ) {\n      return { visibility: PanelVisibilityState.animatingOpen };\n    }\n    if (\n      !nextProps.isOpen &&\n      (prevState.visibility === PanelVisibilityState.open ||\n        prevState.visibility === PanelVisibilityState.animatingOpen)\n    ) {\n      return { visibility: PanelVisibilityState.animatingClosed };\n    }\n    return null;\n  }\n\n  constructor(props: IPanelProps) {\n    super(props);\n\n    const { allowTouchBodyScroll = false } = this.props;\n    this._allowTouchBodyScroll = allowTouchBodyScroll;\n\n    this._async = new Async(this);\n    this._events = new EventGroup(this);\n    initializeComponentRef(this);\n\n    warnDeprecations(COMPONENT_NAME, props, {\n      ignoreExternalFocusing: 'focusTrapZoneProps',\n      forceFocusInsideTrap: 'focusTrapZoneProps',\n      firstFocusableSelector: 'focusTrapZoneProps',\n    });\n\n    this.state = {\n      isFooterSticky: false,\n      // intentionally ignore props so animation takes place during componentDidMount\n      visibility: PanelVisibilityState.closed,\n      id: getId('Panel'),\n    };\n  }\n\n  public componentDidMount(): void {\n    this._events.on(window, 'resize', this._updateFooterPosition);\n\n    if (this._shouldListenForOuterClick(this.props)) {\n      this._events.on(document.body, 'mousedown', this._dismissOnOuterClick, true);\n    }\n\n    if (this.props.isOpen) {\n      this.setState({ visibility: PanelVisibilityState.animatingOpen });\n    }\n  }\n\n  public componentDidUpdate(previousProps: IPanelProps, previousState: IPanelState): void {\n    const shouldListenOnOuterClick = this._shouldListenForOuterClick(this.props);\n    const previousShouldListenOnOuterClick = this._shouldListenForOuterClick(previousProps);\n\n    if (this.state.visibility !== previousState.visibility) {\n      this._clearExistingAnimationTimer();\n      if (this.state.visibility === PanelVisibilityState.animatingOpen) {\n        this._animateTo(PanelVisibilityState.open);\n      } else if (this.state.visibility === PanelVisibilityState.animatingClosed) {\n        this._animateTo(PanelVisibilityState.closed);\n      }\n    }\n\n    if (shouldListenOnOuterClick && !previousShouldListenOnOuterClick) {\n      this._events.on(document.body, 'mousedown', this._dismissOnOuterClick, true);\n    } else if (!shouldListenOnOuterClick && previousShouldListenOnOuterClick) {\n      this._events.off(document.body, 'mousedown', this._dismissOnOuterClick, true);\n    }\n  }\n\n  public componentWillUnmount(): void {\n    this._async.dispose();\n    this._events.dispose();\n  }\n\n  public render(): JSX.Element | null {\n    const {\n      className = '',\n      elementToFocusOnDismiss,\n      /* eslint-disable deprecation/deprecation */\n      firstFocusableSelector,\n      focusTrapZoneProps,\n      forceFocusInsideTrap,\n      hasCloseButton,\n      headerText,\n      headerClassName = '',\n      ignoreExternalFocusing,\n      isBlocking,\n      isFooterAtBottom,\n      isLightDismiss,\n      isHiddenOnDismiss,\n      layerProps,\n      overlayProps,\n      popupProps,\n      type,\n      styles,\n      theme,\n      customWidth,\n      onLightDismissClick = this._onPanelClick,\n      onRenderNavigation = this._onRenderNavigation,\n      onRenderHeader = this._onRenderHeader,\n      onRenderBody = this._onRenderBody,\n      onRenderFooter = this._onRenderFooter,\n    } = this.props;\n    const { isFooterSticky, visibility, id } = this.state;\n    const isLeft = type === PanelType.smallFixedNear || type === PanelType.customNear ? true : false;\n    const isRTL = getRTL(theme);\n    const isOnRightSide = isRTL ? isLeft : !isLeft;\n    const customWidthStyles = type === PanelType.custom || type === PanelType.customNear ? { width: customWidth } : {};\n    const nativeProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(this.props, divProperties);\n    const isOpen = this.isActive;\n    const isAnimating =\n      visibility === PanelVisibilityState.animatingClosed || visibility === PanelVisibilityState.animatingOpen;\n\n    this._headerTextId = headerText && id + '-headerText';\n\n    if (!isOpen && !isAnimating && !isHiddenOnDismiss) {\n      return null;\n    }\n\n    this._classNames = getClassNames(styles!, {\n      theme: theme!,\n      className,\n      focusTrapZoneClassName: focusTrapZoneProps ? focusTrapZoneProps.className : undefined,\n      hasCloseButton,\n      headerClassName,\n      isAnimating,\n      isFooterSticky,\n      isFooterAtBottom,\n      isOnRightSide,\n      isOpen,\n      isHiddenOnDismiss,\n      type,\n      hasCustomNavigation: this._hasCustomNavigation,\n    });\n\n    const { _classNames, _allowTouchBodyScroll } = this;\n\n    let overlay;\n    if (isBlocking && isOpen) {\n      overlay = (\n        <Overlay\n          className={_classNames.overlay}\n          isDarkThemed={false}\n          onClick={isLightDismiss ? onLightDismissClick : undefined}\n          allowTouchBodyScroll={_allowTouchBodyScroll}\n          {...overlayProps}\n        />\n      );\n    }\n\n    return (\n      <Layer {...layerProps}>\n        <Popup\n          role=\"dialog\"\n          aria-modal={isBlocking ? 'true' : undefined}\n          ariaLabelledBy={this._headerTextId ? this._headerTextId : undefined}\n          onDismiss={this.dismiss}\n          className={_classNames.hiddenPanel}\n          enableAriaHiddenSiblings={isOpen ? true : undefined}\n          {...popupProps}\n        >\n          <div aria-hidden={!isOpen && isAnimating} {...nativeProps} ref={this._panel} className={_classNames.root}>\n            {overlay}\n            <FocusTrapZone\n              ignoreExternalFocusing={ignoreExternalFocusing}\n              forceFocusInsideTrap={!isBlocking || (isHiddenOnDismiss && !isOpen) ? false : forceFocusInsideTrap}\n              firstFocusableSelector={firstFocusableSelector}\n              isClickableOutsideFocusTrap={true}\n              {...focusTrapZoneProps}\n              className={_classNames.main}\n              style={customWidthStyles}\n              elementToFocusOnDismiss={elementToFocusOnDismiss}\n            >\n              <div className={_classNames.contentInner}>\n                <div ref={this._allowScrollOnPanel} className={_classNames.scrollableContent} data-is-scrollable={true}>\n                  <div className={_classNames.commands} data-is-visible={true}>\n                    {onRenderNavigation(this.props, this._onRenderNavigation)}\n                  </div>\n                  {(this._hasCustomNavigation || !hasCloseButton) &&\n                    onRenderHeader(this.props, this._onRenderHeader, this._headerTextId)}\n                  {onRenderBody(this.props, this._onRenderBody)}\n                  {onRenderFooter(this.props, this._onRenderFooter)}\n                </div>\n              </div>\n            </FocusTrapZone>\n          </div>\n        </Popup>\n      </Layer>\n    );\n  }\n\n  public open() {\n    if (this.props.isOpen !== undefined) {\n      return;\n    }\n\n    if (this.isActive) {\n      return;\n    }\n\n    this.setState({ visibility: PanelVisibilityState.animatingOpen });\n  }\n\n  public close() {\n    if (this.props.isOpen !== undefined) {\n      return;\n    }\n\n    if (!this.isActive) {\n      return;\n    }\n\n    this.setState({ visibility: PanelVisibilityState.animatingClosed });\n  }\n\n  public dismiss = (ev?: React.SyntheticEvent<HTMLElement> | KeyboardEvent): void => {\n    if (this.props.onDismiss && this.isActive) {\n      this.props.onDismiss(ev);\n    }\n\n    if (!ev || (ev && !ev.defaultPrevented)) {\n      this.close();\n    }\n  };\n\n  /** isActive is true when panel is open or opening. */\n  public get isActive(): boolean {\n    return (\n      this.state.visibility === PanelVisibilityState.open ||\n      this.state.visibility === PanelVisibilityState.animatingOpen\n    );\n  }\n\n  // Allow the user to scroll within the panel but not on the body\n  private _allowScrollOnPanel = (elt: HTMLDivElement | null): void => {\n    if (elt) {\n      if (this._allowTouchBodyScroll) {\n        allowOverscrollOnElement(elt, this._events);\n      } else {\n        allowScrollOnElement(elt, this._events);\n      }\n    } else {\n      this._events.off(this._scrollableContent);\n    }\n    this._scrollableContent = elt;\n  };\n\n  private _shouldListenForOuterClick(props: IPanelProps): boolean {\n    return !!props.isBlocking && !!props.isOpen;\n  }\n\n  private _onRenderNavigation = (props: IPanelProps): JSX.Element | null => {\n    if (!this.props.onRenderNavigationContent && !this.props.onRenderNavigation && !this.props.hasCloseButton) {\n      return null;\n    }\n    const { onRenderNavigationContent = this._onRenderNavigationContent } = this.props;\n    return (\n      <div className={this._classNames.navigation}>\n        {onRenderNavigationContent(props, this._onRenderNavigationContent)}\n      </div>\n    );\n  };\n\n  private _onRenderNavigationContent = (props: IPanelProps): JSX.Element | null => {\n    const { closeButtonAriaLabel, hasCloseButton, onRenderHeader = this._onRenderHeader } = props;\n    if (hasCloseButton) {\n      const iconButtonStyles = this._classNames.subComponentStyles?.closeButton();\n\n      return (\n        <>\n          {!this._hasCustomNavigation && onRenderHeader(this.props, this._onRenderHeader, this._headerTextId)}\n          <IconButton\n            styles={iconButtonStyles}\n            className={this._classNames.closeButton}\n            onClick={this._onPanelClick}\n            ariaLabel={closeButtonAriaLabel}\n            title={closeButtonAriaLabel}\n            data-is-visible={true}\n            iconProps={{ iconName: 'Cancel' }}\n          />\n        </>\n      );\n    }\n    return null;\n  };\n\n  private _onRenderHeader = (\n    props: IPanelProps,\n    defaultRender?: (props?: IPanelProps) => JSX.Element | null,\n    headerTextId?: string | undefined,\n  ): JSX.Element | null => {\n    const { headerText, headerTextProps = {} } = props;\n\n    if (headerText) {\n      return (\n        <div className={this._classNames.header}>\n          <div\n            id={headerTextId}\n            role=\"heading\"\n            aria-level={1}\n            {...headerTextProps}\n            className={css(this._classNames.headerText, headerTextProps.className)}\n          >\n            {headerText}\n          </div>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  private _onRenderBody = (props: IPanelProps): JSX.Element => {\n    return <div className={this._classNames.content}>{props.children}</div>;\n  };\n\n  private _onRenderFooter = (props: IPanelProps): JSX.Element | null => {\n    const { onRenderFooterContent = null } = this.props;\n    if (onRenderFooterContent) {\n      return (\n        <div className={this._classNames.footer}>\n          <div className={this._classNames.footerInner}>{onRenderFooterContent()}</div>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  private _updateFooterPosition(): void {\n    const scrollableContent = this._scrollableContent;\n    if (scrollableContent) {\n      const height = scrollableContent.clientHeight;\n      const innerHeight = scrollableContent.scrollHeight;\n\n      this.setState({\n        isFooterSticky: height < innerHeight ? true : false,\n      });\n    }\n  }\n\n  private _dismissOnOuterClick(ev: React.MouseEvent<HTMLDivElement>): void {\n    const panel = this._panel.current;\n    if (this.isActive && panel && !ev.defaultPrevented) {\n      if (!elementContains(panel, ev.target as HTMLElement)) {\n        if (this.props.onOuterClick) {\n          this.props.onOuterClick(ev);\n        } else {\n          this.dismiss(ev);\n        }\n      }\n    }\n  }\n\n  private _animateTo = (newVisibilityState: PanelVisibilityState): void => {\n    if (newVisibilityState === PanelVisibilityState.open && this.props.onOpen) {\n      this.props.onOpen();\n    }\n\n    this._animationCallback = this._async.setTimeout(() => {\n      this.setState({ visibility: newVisibilityState });\n      this._onTransitionComplete();\n    }, 200);\n  };\n\n  private _clearExistingAnimationTimer = (): void => {\n    if (this._animationCallback !== null) {\n      this._async.clearTimeout(this._animationCallback);\n    }\n  };\n\n  private _onPanelClick = (ev?: any): void => {\n    this.dismiss(ev);\n  };\n\n  private _onTransitionComplete = (): void => {\n    this._updateFooterPosition();\n\n    if (this.state.visibility === PanelVisibilityState.open && this.props.onOpened) {\n      this.props.onOpened();\n    }\n\n    if (this.state.visibility === PanelVisibilityState.closed && this.props.onDismissed) {\n      this.props.onDismissed();\n    }\n  };\n}\n","import { PanelType } from './Panel.types';\nimport {\n  AnimationClassNames,\n  AnimationVariables,\n  getGlobalClassNames,\n  HighContrastSelector,\n  ScreenWidthMinMedium,\n  ScreenWidthMinLarge,\n  ScreenWidthMinXLarge,\n  ScreenWidthMinXXLarge,\n  ScreenWidthMinUhfMobile,\n  IconFontSizes,\n} from '../../Styling';\nimport type { IPanelStyleProps, IPanelStyles } from './Panel.types';\nimport type { IStyle } from '../../Styling';\n\nconst GlobalClassNames = {\n  root: 'ms-Panel',\n  main: 'ms-Panel-main',\n  commands: 'ms-Panel-commands',\n  contentInner: 'ms-Panel-contentInner',\n  scrollableContent: 'ms-Panel-scrollableContent',\n  navigation: 'ms-Panel-navigation',\n  closeButton: 'ms-Panel-closeButton ms-PanelAction-close',\n  header: 'ms-Panel-header',\n  headerText: 'ms-Panel-headerText',\n  content: 'ms-Panel-content',\n  footer: 'ms-Panel-footer',\n  footerInner: 'ms-Panel-footerInner',\n  isOpen: 'is-open',\n  hasCloseButton: 'ms-Panel--hasCloseButton',\n  smallFluid: 'ms-Panel--smFluid',\n  smallFixedNear: 'ms-Panel--smLeft',\n  smallFixedFar: 'ms-Panel--sm',\n  medium: 'ms-Panel--md',\n  large: 'ms-Panel--lg',\n  largeFixed: 'ms-Panel--fixed',\n  extraLarge: 'ms-Panel--xl',\n  custom: 'ms-Panel--custom',\n  customNear: 'ms-Panel--customLeft',\n};\n\nconst panelWidth = {\n  full: '100%',\n  auto: 'auto',\n  xs: 272,\n  sm: 340,\n  md1: 592,\n  md2: 644,\n  lg: 940,\n};\n\nconst panelMargin = {\n  auto: 'auto',\n  none: 0,\n  md: 48,\n  lg: 428,\n  xl: 176,\n};\n\n// Following consts are used below in `getPanelBreakpoints()` function to provide\n// necessary fallbacks for different types of Panel in different breakpoints.\nconst smallPanelSelectors = {\n  [`@media (min-width: ${ScreenWidthMinMedium}px)`]: {\n    width: panelWidth.sm,\n  },\n};\n\nconst mediumPanelSelectors = {\n  [`@media (min-width: ${ScreenWidthMinLarge}px)`]: {\n    width: panelWidth.md1,\n  },\n  [`@media (min-width: ${ScreenWidthMinXLarge}px)`]: {\n    width: panelWidth.md2,\n  },\n};\n\nconst largePanelSelectors = {\n  [`@media (min-width: ${ScreenWidthMinUhfMobile}px)`]: {\n    left: panelMargin.md,\n    width: panelWidth.auto,\n  },\n  [`@media (min-width: ${ScreenWidthMinXXLarge}px)`]: {\n    left: panelMargin.lg,\n  },\n};\n\nconst largeFixedPanelSelectors = {\n  [`@media (min-width: ${ScreenWidthMinXXLarge}px)`]: {\n    left: panelMargin.auto,\n    width: panelWidth.lg,\n  },\n};\n\nconst extraLargePanelSelectors = {\n  [`@media (min-width: ${ScreenWidthMinXXLarge}px)`]: {\n    left: panelMargin.xl,\n  },\n};\n\n// Make sure Panels have fallbacks to different breakpoints by reusing same selectors.\n// This is done in the effort to follow design redlines.\nconst getPanelBreakpoints = (type: PanelType): { [x: string]: IStyle } | undefined => {\n  let selectors;\n\n  // Panel types `smallFluid`, `smallFixedNear`, `custom` and `customNear`\n  // are not checked in here because they render the same in all the breakpoints\n  // and have the checks done separately in the `getStyles` function below.\n  switch (type) {\n    case PanelType.smallFixedFar:\n      selectors = {\n        ...smallPanelSelectors,\n      };\n      break;\n    case PanelType.medium:\n      selectors = {\n        ...smallPanelSelectors,\n        ...mediumPanelSelectors,\n      };\n      break;\n    case PanelType.large:\n      selectors = {\n        ...smallPanelSelectors,\n        ...mediumPanelSelectors,\n        ...largePanelSelectors,\n      };\n      break;\n    case PanelType.largeFixed:\n      selectors = {\n        ...smallPanelSelectors,\n        ...mediumPanelSelectors,\n        ...largePanelSelectors,\n        ...largeFixedPanelSelectors,\n      };\n      break;\n    case PanelType.extraLarge:\n      selectors = {\n        ...smallPanelSelectors,\n        ...mediumPanelSelectors,\n        ...largePanelSelectors,\n        ...extraLargePanelSelectors,\n      };\n      break;\n    default:\n      break;\n  }\n\n  return selectors;\n};\n\nconst commandBarHeight = '44px';\n\nconst sharedPaddingStyles = {\n  paddingLeft: '24px',\n  paddingRight: '24px',\n};\n\nexport const getStyles = (props: IPanelStyleProps): IPanelStyles => {\n  const {\n    className,\n    focusTrapZoneClassName,\n    hasCloseButton,\n    headerClassName,\n    isAnimating,\n    isFooterSticky,\n    isFooterAtBottom,\n    isOnRightSide,\n    isOpen,\n    isHiddenOnDismiss,\n    hasCustomNavigation,\n    theme,\n    type = PanelType.smallFixedFar,\n  } = props;\n  const { effects, fonts, semanticColors } = theme;\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n  const isCustomPanel = type === PanelType.custom || type === PanelType.customNear;\n\n  return {\n    root: [\n      classNames.root,\n      theme.fonts.medium,\n      isOpen && classNames.isOpen,\n      hasCloseButton && classNames.hasCloseButton,\n      {\n        pointerEvents: 'none',\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n      },\n      isCustomPanel && isOnRightSide && classNames.custom,\n      isCustomPanel && !isOnRightSide && classNames.customNear,\n      className,\n    ],\n    overlay: [\n      {\n        pointerEvents: 'auto',\n        cursor: 'pointer',\n      },\n      isOpen && isAnimating && AnimationClassNames.fadeIn100,\n      !isOpen && isAnimating && AnimationClassNames.fadeOut100,\n    ],\n    hiddenPanel: [\n      !isOpen &&\n        !isAnimating &&\n        isHiddenOnDismiss && {\n          visibility: 'hidden',\n        },\n    ],\n    main: [\n      classNames.main,\n      {\n        backgroundColor: semanticColors.bodyBackground,\n        boxShadow: effects.elevation64,\n        pointerEvents: 'auto',\n        position: 'absolute',\n        display: 'flex',\n        flexDirection: 'column',\n        overflowX: 'hidden',\n        overflowY: 'auto',\n        WebkitOverflowScrolling: 'touch',\n        bottom: 0,\n        top: 0,\n        // left, right, width are overridden depending on the type of the Panel and the screen breakpoint.\n        left: panelMargin.auto,\n        right: panelMargin.none,\n        width: panelWidth.full,\n        selectors: {\n          [HighContrastSelector]: {\n            borderLeft: `3px solid ${semanticColors.variantBorder}`,\n            borderRight: `3px solid ${semanticColors.variantBorder}`,\n          },\n          ...getPanelBreakpoints(type),\n        },\n      },\n      type === PanelType.smallFluid && {\n        left: panelMargin.none,\n      },\n      type === PanelType.smallFixedNear && {\n        left: panelMargin.none,\n        right: panelMargin.auto,\n        width: panelWidth.xs,\n      },\n      type === PanelType.customNear && {\n        right: 'auto',\n        left: 0,\n      },\n      isCustomPanel && {\n        maxWidth: '100vw',\n      },\n      isOpen && isAnimating && !isOnRightSide && AnimationClassNames.slideRightIn40,\n      isOpen && isAnimating && isOnRightSide && AnimationClassNames.slideLeftIn40,\n      !isOpen && isAnimating && !isOnRightSide && AnimationClassNames.slideLeftOut40,\n      !isOpen && isAnimating && isOnRightSide && AnimationClassNames.slideRightOut40,\n      focusTrapZoneClassName,\n    ],\n    commands: [\n      classNames.commands,\n      {\n        paddingTop: 18,\n        selectors: {\n          [`@media (min-height: ${ScreenWidthMinMedium}px)`]: {\n            position: 'sticky',\n            top: 0,\n            zIndex: 1,\n          },\n        },\n      },\n      hasCustomNavigation && {\n        marginTop: 'inherit',\n      },\n      // - Ensures that the sticky header always has a background to prevent overlaps on scroll.\n      // - Adds consistent behavior with how Footer is being handled\n      isFooterSticky && {\n        backgroundColor: semanticColors.bodyBackground,\n      },\n    ],\n    navigation: [\n      classNames.navigation,\n      {\n        display: 'flex',\n        justifyContent: 'flex-end',\n      },\n      hasCustomNavigation && {\n        height: commandBarHeight,\n      },\n    ],\n    contentInner: [\n      classNames.contentInner,\n      {\n        display: 'flex',\n        flexDirection: 'column',\n        flexGrow: 1,\n        overflowY: 'hidden',\n      },\n    ],\n    header: [\n      classNames.header,\n      sharedPaddingStyles,\n      {\n        alignSelf: 'flex-start',\n      },\n      hasCloseButton &&\n        !hasCustomNavigation && {\n          flexGrow: 1,\n        },\n      hasCustomNavigation && {\n        // Ensure that title doesn't shrink if screen is too small\n        flexShrink: 0,\n      },\n    ],\n    headerText: [\n      classNames.headerText,\n      fonts.xLarge,\n      {\n        color: semanticColors.bodyText,\n        lineHeight: '27px',\n        overflowWrap: 'break-word',\n        wordWrap: 'break-word',\n        wordBreak: 'break-word',\n        hyphens: 'auto',\n      },\n      headerClassName,\n    ],\n    scrollableContent: [\n      classNames.scrollableContent,\n      {\n        overflowY: 'auto',\n      },\n      isFooterAtBottom && {\n        flexGrow: 1,\n        display: 'inherit',\n        flexDirection: 'inherit',\n      },\n    ],\n    content: [\n      classNames.content,\n      sharedPaddingStyles,\n      {\n        paddingBottom: 20,\n      },\n      isFooterAtBottom && {\n        selectors: {\n          [`@media (min-height: ${ScreenWidthMinMedium}px)`]: {\n            flexGrow: 1,\n          },\n        },\n      },\n    ],\n    footer: [\n      classNames.footer,\n      {\n        // Ensure that footer doesn't shrink if screen is too small\n        flexShrink: 0,\n        borderTop: '1px solid transparent',\n        transition: `opacity ${AnimationVariables.durationValue3} ${AnimationVariables.easeFunction2}`,\n        selectors: {\n          [`@media (min-height: ${ScreenWidthMinMedium}px)`]: {\n            position: 'sticky',\n            bottom: 0,\n          },\n        },\n      },\n      isFooterSticky && {\n        backgroundColor: semanticColors.bodyBackground,\n        borderTopColor: semanticColors.variantBorder,\n      },\n    ],\n    footerInner: [\n      classNames.footerInner,\n      sharedPaddingStyles,\n      {\n        paddingBottom: 16,\n        paddingTop: 16,\n      },\n    ],\n    subComponentStyles: {\n      closeButton: {\n        root: [\n          classNames.closeButton,\n          {\n            marginRight: 14,\n            color: theme.palette.neutralSecondary,\n            fontSize: IconFontSizes.large,\n          },\n          hasCustomNavigation && {\n            marginRight: 0,\n            height: 'auto',\n            width: '44px',\n          },\n        ],\n        rootHovered: {\n          color: theme.palette.neutralPrimary,\n        },\n      },\n    },\n  };\n};\n","import * as React from 'react';\nimport { styled } from '../../Utilities';\nimport { PanelBase } from './Panel.base';\nimport { getStyles } from './Panel.styles';\nimport type { IPanelProps, IPanelStyleProps, IPanelStyles } from './Panel.types';\n\n/**\n * Panel description\n */\nexport const Panel: React.FunctionComponent<IPanelProps> = styled<IPanelProps, IPanelStyleProps, IPanelStyles>(\n  PanelBase,\n  getStyles,\n  undefined,\n  {\n    scope: 'Panel',\n  },\n);\n","/**\n * Regular expressions matching characters to ignore when calculating the initials.\n */\n\n/**\n * Regular expression matching characters within various types of enclosures, including the enclosures themselves\n *  so for example, (xyz) [xyz] {xyz} <xyz> all would be ignored\n */\nconst UNWANTED_ENCLOSURES_REGEX: RegExp = /[\\(\\[\\{\\<][^\\)\\]\\}\\>]*[\\)\\]\\}\\>]/g;\n\n/**\n * Regular expression matching special ASCII characters except space, plus some unicode special characters.\n * Applies after unwanted enclosures have been removed\n */\nconst UNWANTED_CHARS_REGEX: RegExp = /[\\0-\\u001F\\!-/:-@\\[-`\\{-\\u00BF\\u0250-\\u036F\\uD800-\\uFFFF]/g;\n\n/**\n * Regular expression matching phone numbers. Applied after chars matching UNWANTED_CHARS_REGEX have been removed\n * and number has been trimmed for whitespaces\n */\nconst PHONENUMBER_REGEX: RegExp = /^\\d+[\\d\\s]*(:?ext|x|)\\s*\\d+$/i;\n\n/** Regular expression matching one or more spaces. */\nconst MULTIPLE_WHITESPACES_REGEX: RegExp = /\\s+/g;\n\n/**\n * Regular expression matching languages for which we currently don't support initials.\n * Arabic:   Arabic, Arabic Supplement, Arabic Extended-A.\n * Korean:   Hangul Jamo, Hangul Compatibility Jamo, Hangul Jamo Extended-A, Hangul Syllables, Hangul Jamo Extended-B.\n * Japanese: Hiragana, Katakana.\n * CJK:      CJK Unified Ideographs Extension A, CJK Unified Ideographs, CJK Compatibility Ideographs,\n *             CJK Unified Ideographs Extension B\n */\n// eslint-disable-next-line @fluentui/max-len\nconst UNSUPPORTED_TEXT_REGEX: RegExp = /[\\u0600-\\u06FF\\u0750-\\u077F\\u08A0-\\u08FF\\u1100-\\u11FF\\u3130-\\u318F\\uA960-\\uA97F\\uAC00-\\uD7AF\\uD7B0-\\uD7FF\\u3040-\\u309F\\u30A0-\\u30FF\\u3400-\\u4DBF\\u4E00-\\u9FFF\\uF900-\\uFAFF]|[\\uD840-\\uD869][\\uDC00-\\uDED6]/;\n\nfunction getInitialsLatin(displayName: string, isRtl: boolean): string {\n  let initials = '';\n\n  const splits: string[] = displayName.split(' ');\n\n  if (splits.length === 2) {\n    initials += splits[0].charAt(0).toUpperCase();\n    initials += splits[1].charAt(0).toUpperCase();\n  } else if (splits.length === 3) {\n    initials += splits[0].charAt(0).toUpperCase();\n    initials += splits[2].charAt(0).toUpperCase();\n  } else if (splits.length !== 0) {\n    initials += splits[0].charAt(0).toUpperCase();\n  }\n\n  if (isRtl && initials.length > 1) {\n    return initials.charAt(1) + initials.charAt(0);\n  }\n\n  return initials;\n}\n\nfunction cleanupDisplayName(displayName: string): string {\n  displayName = displayName.replace(UNWANTED_ENCLOSURES_REGEX, '');\n  displayName = displayName.replace(UNWANTED_CHARS_REGEX, '');\n  displayName = displayName.replace(MULTIPLE_WHITESPACES_REGEX, ' ');\n  displayName = displayName.trim();\n\n  return displayName;\n}\n\n/**\n * Get (up to 2 characters) initials based on display name of the persona.\n *\n * @public\n */\nexport function getInitials(\n  displayName: string | undefined | null,\n  isRtl: boolean,\n  allowPhoneInitials?: boolean,\n): string {\n  if (!displayName) {\n    return '';\n  }\n\n  displayName = cleanupDisplayName(displayName);\n\n  // For names containing CJK characters, and phone numbers, we don't display initials\n  if (UNSUPPORTED_TEXT_REGEX.test(displayName) || (!allowPhoneInitials && PHONENUMBER_REGEX.test(displayName))) {\n    return '';\n  }\n\n  return getInitialsLatin(displayName, isRtl);\n}\n","import { PersonaPresence, PersonaSize } from './Persona.types';\n\n// Persona Sizes\nexport namespace personaSize {\n  export const size8 = '20px';\n  // TODO: remove in a future major release as it's deprecated.\n  export const size10 = '20px';\n  // TODO: remove in a future major release as it's deprecated.\n  export const size16 = '16px';\n  export const size24 = '24px';\n  // TODO: remove in a future major release as it's deprecated.\n  export const size28 = '28px';\n  export const size32 = '32px';\n  export const size40 = '40px';\n  export const size48 = '48px';\n  export const size56 = '56px';\n  export const size72 = '72px';\n  export const size100 = '100px';\n  export const size120 = '120px';\n}\n\n// Persona Presence Sizes\nexport namespace personaPresenceSize {\n  export const size6 = '6px';\n  export const size8 = '8px';\n  export const size12 = '12px';\n  export const size16 = '16px';\n  export const size20 = '20px';\n  export const size28 = '28px';\n  export const size32 = '32px';\n\n  /**\n   * @deprecated This is now unused\n   */\n  export const border = '2px';\n}\n\n// TODO: remove the deprecated parts in a future major release.\nexport const sizeBoolean = (size: PersonaSize) => ({\n  isSize8: size === PersonaSize.size8,\n  /* eslint-disable deprecation/deprecation */\n  isSize10: size === PersonaSize.size10 || size === PersonaSize.tiny,\n  isSize16: size === PersonaSize.size16,\n  isSize24: size === PersonaSize.size24 || size === PersonaSize.extraExtraSmall,\n  isSize28: size === PersonaSize.size28 || size === PersonaSize.extraSmall,\n  isSize32: size === PersonaSize.size32,\n  isSize40: size === PersonaSize.size40 || size === PersonaSize.small,\n  isSize48: size === PersonaSize.size48 || size === PersonaSize.regular,\n  isSize56: size === PersonaSize.size56,\n  isSize72: size === PersonaSize.size72 || size === PersonaSize.large,\n  isSize100: size === PersonaSize.size100 || size === PersonaSize.extraLarge,\n  isSize120: size === PersonaSize.size120,\n});\n\nexport const sizeToPixels: { [key: number]: number } = {\n  // Old deprecated sizes\n  [PersonaSize.tiny]: 10,\n  [PersonaSize.extraExtraSmall]: 24,\n  [PersonaSize.extraSmall]: 28,\n  [PersonaSize.small]: 40,\n  [PersonaSize.regular]: 48,\n  [PersonaSize.large]: 72,\n  [PersonaSize.extraLarge]: 100,\n  // New sizes\n  [PersonaSize.size8]: 8,\n  [PersonaSize.size10]: 10, // TODO: deprecated (not in the design specs)\n  [PersonaSize.size16]: 16, // TODO: deprecated (not in the design specs)\n  [PersonaSize.size24]: 24,\n  [PersonaSize.size28]: 28, // TODO: deprecated (not in the design specs)\n  /* eslint-enable deprecation/deprecation */\n  [PersonaSize.size32]: 32,\n  [PersonaSize.size40]: 40,\n  [PersonaSize.size48]: 48,\n  [PersonaSize.size56]: 56,\n  [PersonaSize.size72]: 72,\n  [PersonaSize.size100]: 100,\n  [PersonaSize.size120]: 120,\n};\n\nexport const presenceBoolean = (presence: PersonaPresence) => ({\n  isAvailable: presence === PersonaPresence.online,\n  isAway: presence === PersonaPresence.away,\n  isBlocked: presence === PersonaPresence.blocked,\n  isBusy: presence === PersonaPresence.busy,\n  isDoNotDisturb: presence === PersonaPresence.dnd,\n  isOffline: presence === PersonaPresence.offline,\n});\n","import * as React from 'react';\nimport { classNamesFunction } from '../../../Utilities';\nimport { Icon } from '../../../Icon';\nimport { PersonaPresence as PersonaPresenceEnum, PersonaSize } from '../Persona.types';\nimport { sizeBoolean } from '../PersonaConsts';\nimport { useMergedRefs } from '@fluentui/react-hooks';\nimport type { IPersonaPresenceProps, IPersonaPresenceStyleProps, IPersonaPresenceStyles } from '../Persona.types';\n\nconst coinSizeFontScaleFactor = 6;\nconst coinSizePresenceScaleFactor = 3;\nconst presenceMaxSize = 40;\nconst presenceFontMaxSize = 20;\n\nconst getClassNames = classNamesFunction<IPersonaPresenceStyleProps, IPersonaPresenceStyles>({\n  // There can be many PersonaPresence rendered with different sizes.\n  // Therefore setting a larger cache size.\n  cacheSize: 100,\n});\n\n/**\n * PersonaPresence with no default styles.\n * [Use the `getStyles` API to add your own styles.](https://github.com/microsoft/fluentui/wiki/Styling)\n */\nexport const PersonaPresenceBase: React.FunctionComponent<IPersonaPresenceProps> = React.forwardRef<\n  HTMLDivElement,\n  IPersonaPresenceProps\n>((props, forwardedRef) => {\n  const {\n    coinSize,\n    isOutOfOffice,\n    styles, // Use getStyles from props.\n    presence,\n    theme,\n    presenceTitle,\n    presenceColors,\n  } = props;\n\n  const rootRef = React.useRef<HTMLDivElement>(null);\n  const mergedRootRef = useMergedRefs(forwardedRef, rootRef);\n\n  const size = sizeBoolean(props.size as PersonaSize);\n\n  // Render Presence Icon if Persona is above size 32.\n  const renderIcon =\n    !(size.isSize8 || size.isSize10 || size.isSize16 || size.isSize24 || size.isSize28 || size.isSize32) &&\n    (coinSize ? coinSize > 32 : true);\n\n  const presenceHeightWidth: string = coinSize\n    ? coinSize / coinSizePresenceScaleFactor < presenceMaxSize\n      ? coinSize / coinSizePresenceScaleFactor + 'px'\n      : presenceMaxSize + 'px'\n    : '';\n  const presenceFontSize: string = coinSize\n    ? coinSize / coinSizeFontScaleFactor < presenceFontMaxSize\n      ? coinSize / coinSizeFontScaleFactor + 'px'\n      : presenceFontMaxSize + 'px'\n    : '';\n  const coinSizeWithPresenceIconStyle = coinSize\n    ? { fontSize: presenceFontSize, lineHeight: presenceHeightWidth }\n    : undefined;\n  const coinSizeWithPresenceStyle = coinSize ? { width: presenceHeightWidth, height: presenceHeightWidth } : undefined;\n\n  // Use getStyles from props, or fall back to getStyles from styles file.\n  const classNames = getClassNames(styles, {\n    theme: theme!,\n    presence,\n    size: props.size,\n    isOutOfOffice,\n    presenceColors,\n  });\n\n  if (presence === PersonaPresenceEnum.none) {\n    return null;\n  }\n\n  return (\n    <div\n      role=\"presentation\"\n      className={classNames.presence}\n      style={coinSizeWithPresenceStyle}\n      title={presenceTitle}\n      ref={mergedRootRef}\n    >\n      {renderIcon && (\n        <Icon\n          className={classNames.presenceIcon}\n          iconName={determineIcon(props.presence, props.isOutOfOffice)}\n          style={coinSizeWithPresenceIconStyle}\n        />\n      )}\n    </div>\n  );\n});\nPersonaPresenceBase.displayName = 'PersonaPresenceBase';\n\nfunction determineIcon(\n  presence: PersonaPresenceEnum | undefined,\n  isOutOfOffice: boolean | undefined,\n): string | undefined {\n  if (!presence) {\n    return undefined;\n  }\n\n  const oofIcon = 'SkypeArrow';\n\n  switch (PersonaPresenceEnum[presence]) {\n    case 'online':\n      return 'SkypeCheck';\n    case 'away':\n      return isOutOfOffice ? oofIcon : 'SkypeClock';\n    case 'dnd':\n      return 'SkypeMinus';\n    case 'offline':\n      return isOutOfOffice ? oofIcon : '';\n  }\n\n  return '';\n}\n","import { PersonaPresence, PersonaSize } from '../Persona.types';\nimport { HighContrastSelector, getGlobalClassNames, getHighContrastNoAdjustStyle } from '../../../Styling';\nimport { personaPresenceSize, presenceBoolean, sizeBoolean } from '../PersonaConsts';\nimport type { IPersonaPresenceStyleProps, IPersonaPresenceStyles } from '../Persona.types';\nimport type { IRawStyle } from '../../../Styling';\n\nconst GlobalClassNames = {\n  presence: 'ms-Persona-presence',\n  presenceIcon: 'ms-Persona-presenceIcon',\n};\n\nexport const getStyles = (props: IPersonaPresenceStyleProps): IPersonaPresenceStyles => {\n  const { theme, presenceColors } = props;\n  const { semanticColors, fonts } = theme;\n\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n\n  const size = sizeBoolean(props.size as PersonaSize);\n  const presence = presenceBoolean(props.presence as PersonaPresence);\n\n  // Presence colors\n  const presenceColorAvailable = (presenceColors && presenceColors.available) || '#6BB700';\n  const presenceColorAway = (presenceColors && presenceColors.away) || '#FFAA44';\n  const presenceColorBusy = (presenceColors && presenceColors.busy) || '#C43148';\n  const presenceColorDnd = (presenceColors && presenceColors.dnd) || '#C50F1F';\n  const presenceColorOffline = (presenceColors && presenceColors.offline) || '#8A8886';\n  const presenceColorOof = (presenceColors && presenceColors.oof) || '#B4009E';\n  const presenceColorBackground = (presenceColors && presenceColors.background) || semanticColors.bodyBackground;\n\n  const isOpenCirclePresence =\n    presence.isOffline ||\n    (props.isOutOfOffice && (presence.isAvailable || presence.isBusy || presence.isAway || presence.isDoNotDisturb));\n\n  const borderSizeForSmallPersonas = '1px';\n  const borderSizeForLargePersonas = '2px';\n\n  const borderSize = size.isSize72 || size.isSize100 ? borderSizeForLargePersonas : borderSizeForSmallPersonas;\n\n  return {\n    presence: [\n      classNames.presence,\n      {\n        position: 'absolute',\n        height: personaPresenceSize.size12,\n        width: personaPresenceSize.size12,\n        borderRadius: '50%',\n        top: 'auto',\n        right: '-2px',\n        bottom: '-2px',\n        border: `2px solid ${presenceColorBackground}`,\n        textAlign: 'center',\n        boxSizing: 'content-box',\n        backgroundClip: 'border-box',\n        ...getHighContrastNoAdjustStyle(),\n\n        selectors: {\n          [HighContrastSelector]: {\n            borderColor: 'Window',\n            backgroundColor: 'WindowText',\n          },\n        },\n      },\n\n      (size.isSize8 || size.isSize10) && {\n        right: 'auto',\n        top: '7px',\n        left: 0,\n        border: 0,\n\n        selectors: {\n          [HighContrastSelector]: {\n            top: '9px',\n            border: '1px solid WindowText',\n          },\n        },\n      },\n\n      (size.isSize8 || size.isSize10 || size.isSize24 || size.isSize28 || size.isSize32) &&\n        makeSizeStyle(personaPresenceSize.size8),\n\n      (size.isSize40 || size.isSize48) && makeSizeStyle(personaPresenceSize.size12),\n\n      size.isSize16 && {\n        height: personaPresenceSize.size6,\n        width: personaPresenceSize.size6,\n        borderWidth: '1.5px',\n      },\n\n      size.isSize56 && makeSizeStyle(personaPresenceSize.size16),\n\n      size.isSize72 && makeSizeStyle(personaPresenceSize.size20),\n\n      size.isSize100 && makeSizeStyle(personaPresenceSize.size28),\n\n      size.isSize120 && makeSizeStyle(personaPresenceSize.size32),\n\n      presence.isAvailable && {\n        backgroundColor: presenceColorAvailable,\n\n        selectors: {\n          [HighContrastSelector]: backgroundColor('Highlight'),\n        },\n      },\n\n      presence.isAway && backgroundColor(presenceColorAway),\n\n      presence.isBlocked && [\n        {\n          selectors: {\n            // Only show :after at larger sizes\n            ':after':\n              size.isSize40 || size.isSize48 || size.isSize72 || size.isSize100\n                ? {\n                    content: '\"\"',\n                    width: '100%',\n                    height: borderSize,\n                    backgroundColor: presenceColorBusy,\n                    transform: 'translateY(-50%) rotate(-45deg)',\n                    position: 'absolute',\n                    top: '50%',\n                    left: 0,\n                  }\n                : undefined,\n\n            [HighContrastSelector]: {\n              selectors: {\n                ':after': {\n                  width: `calc(100% - 4px)`,\n                  left: '2px',\n                  backgroundColor: 'Window',\n                },\n              },\n            },\n          },\n        },\n      ],\n\n      presence.isBusy && backgroundColor(presenceColorBusy),\n\n      presence.isDoNotDisturb && backgroundColor(presenceColorDnd),\n\n      presence.isOffline && backgroundColor(presenceColorOffline),\n\n      (isOpenCirclePresence || presence.isBlocked) && [\n        {\n          backgroundColor: presenceColorBackground,\n\n          selectors: {\n            ':before': {\n              content: '\"\"',\n              width: '100%',\n              height: '100%',\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              border: `${borderSize} solid ${presenceColorBusy}`,\n              borderRadius: '50%',\n              boxSizing: 'border-box',\n            },\n            [HighContrastSelector]: {\n              backgroundColor: 'WindowText',\n\n              selectors: {\n                ':before': {\n                  width: `calc(100% - 2px)`,\n                  height: `calc(100% - 2px)`,\n                  top: '1px',\n                  left: '1px',\n                  borderColor: 'Window',\n                },\n              },\n            },\n          },\n        },\n      ],\n\n      isOpenCirclePresence && presence.isAvailable && makeBeforeBorderStyle(borderSize, presenceColorAvailable),\n\n      isOpenCirclePresence && presence.isBusy && makeBeforeBorderStyle(borderSize, presenceColorBusy),\n\n      isOpenCirclePresence && presence.isAway && makeBeforeBorderStyle(borderSize, presenceColorOof),\n\n      isOpenCirclePresence && presence.isDoNotDisturb && makeBeforeBorderStyle(borderSize, presenceColorDnd),\n\n      isOpenCirclePresence && presence.isOffline && makeBeforeBorderStyle(borderSize, presenceColorOffline),\n\n      isOpenCirclePresence &&\n        presence.isOffline &&\n        props.isOutOfOffice &&\n        makeBeforeBorderStyle(borderSize, presenceColorOof),\n    ],\n\n    presenceIcon: [\n      classNames.presenceIcon,\n      {\n        color: presenceColorBackground,\n        fontSize: '6px', // exception case where we don't have an available theme.fonts variable to match it.\n        lineHeight: personaPresenceSize.size12,\n        verticalAlign: 'top',\n\n        selectors: {\n          [HighContrastSelector]: {\n            color: 'Window',\n          },\n        },\n      },\n\n      size.isSize56 && {\n        fontSize: '8px', // exception case where we don't have an available theme.fonts variable to match it.\n        lineHeight: personaPresenceSize.size16,\n      },\n\n      size.isSize72 && {\n        fontSize: fonts.small.fontSize,\n        lineHeight: personaPresenceSize.size20,\n      },\n\n      size.isSize100 && {\n        fontSize: fonts.medium.fontSize,\n        lineHeight: personaPresenceSize.size28,\n      },\n\n      size.isSize120 && {\n        fontSize: fonts.medium.fontSize,\n        lineHeight: personaPresenceSize.size32,\n      },\n\n      presence.isAway && {\n        position: 'relative',\n        left: isOpenCirclePresence ? undefined : '1px',\n      },\n\n      isOpenCirclePresence && presence.isAvailable && makeOpenCircleIconStyle(presenceColorAvailable),\n\n      isOpenCirclePresence && presence.isBusy && makeOpenCircleIconStyle(presenceColorBusy),\n\n      isOpenCirclePresence && presence.isAway && makeOpenCircleIconStyle(presenceColorOof),\n\n      isOpenCirclePresence && presence.isDoNotDisturb && makeOpenCircleIconStyle(presenceColorDnd),\n\n      isOpenCirclePresence && presence.isOffline && makeOpenCircleIconStyle(presenceColorOffline),\n\n      isOpenCirclePresence && presence.isOffline && props.isOutOfOffice && makeOpenCircleIconStyle(presenceColorOof),\n    ],\n  };\n};\n\nfunction makeOpenCircleIconStyle(color: string): IRawStyle {\n  return {\n    color,\n    borderColor: color,\n  };\n}\n\nfunction makeBeforeBorderStyle(borderSize: string, color: string): IRawStyle {\n  return {\n    selectors: {\n      ':before': {\n        border: `${borderSize} solid ${color}`,\n      },\n    },\n  };\n}\n\nfunction makeSizeStyle(size: string): IRawStyle {\n  return {\n    height: size,\n    width: size,\n  };\n}\n\nfunction backgroundColor(color: string): IRawStyle {\n  return { backgroundColor: color };\n}\n","import * as React from 'react';\nimport { styled } from '../../../Utilities';\nimport { PersonaPresenceBase } from './PersonaPresence.base';\nimport { getStyles } from './PersonaPresence.styles';\nimport type { IPersonaPresenceProps, IPersonaPresenceStyleProps, IPersonaPresenceStyles } from '../Persona.types';\n\n/**\n * PersonaPresence is used to render an individual's presence.\n */\nexport const PersonaPresence: React.FunctionComponent<IPersonaPresenceProps> = styled<\n  IPersonaPresenceProps,\n  IPersonaPresenceStyleProps,\n  IPersonaPresenceStyles\n>(PersonaPresenceBase, getStyles, undefined, { scope: 'PersonaPresence' });\n","import { PersonaInitialsColor } from './Persona.types';\nimport type { IPersonaProps } from './Persona.types';\n\n/**\n * Following colors are considered reserved and can only be set with overrides, so they are excluded from this set:\n * - `gray` and `black` can result in offensive persona coins with some initials combinations\n * - `red` often has a special meaning\n * - `transparent` is not intended to be used with typical initials due to accessibility issues;\n *   its primary use is for Facepile overflow buttons.\n */\nconst COLOR_SWATCHES_LOOKUP: PersonaInitialsColor[] = [\n  PersonaInitialsColor.lightBlue,\n  PersonaInitialsColor.blue,\n  PersonaInitialsColor.darkBlue,\n  PersonaInitialsColor.teal,\n  PersonaInitialsColor.green,\n  PersonaInitialsColor.darkGreen,\n  PersonaInitialsColor.lightPink,\n  PersonaInitialsColor.pink,\n  PersonaInitialsColor.magenta,\n  PersonaInitialsColor.purple,\n  PersonaInitialsColor.orange,\n  PersonaInitialsColor.lightRed,\n  PersonaInitialsColor.darkRed,\n  PersonaInitialsColor.violet,\n  PersonaInitialsColor.gold,\n  PersonaInitialsColor.burgundy,\n  PersonaInitialsColor.warmGray,\n  PersonaInitialsColor.cyan,\n  PersonaInitialsColor.rust,\n  PersonaInitialsColor.coolGray,\n];\n\nconst COLOR_SWATCHES_NUM_ENTRIES = COLOR_SWATCHES_LOOKUP.length;\n\nfunction getInitialsColorFromName(displayName: string | undefined): PersonaInitialsColor {\n  let color = PersonaInitialsColor.blue;\n  if (!displayName) {\n    return color;\n  }\n\n  let hashCode = 0;\n  for (let iLen: number = displayName.length - 1; iLen >= 0; iLen--) {\n    const ch: number = displayName.charCodeAt(iLen);\n    const shift: number = iLen % 8;\n    // eslint-disable-next-line no-bitwise\n    hashCode ^= (ch << shift) + (ch >> (8 - shift));\n  }\n\n  color = COLOR_SWATCHES_LOOKUP[hashCode % COLOR_SWATCHES_NUM_ENTRIES];\n\n  return color;\n}\n\nfunction personaInitialsColorToHexCode(personaInitialsColor: PersonaInitialsColor): string {\n  switch (personaInitialsColor) {\n    case PersonaInitialsColor.lightBlue:\n      return '#4F6BED';\n    case PersonaInitialsColor.blue:\n      return '#0078D4';\n    case PersonaInitialsColor.darkBlue:\n      return '#004E8C';\n    case PersonaInitialsColor.teal:\n      return '#038387';\n    case PersonaInitialsColor.lightGreen:\n    case PersonaInitialsColor.green:\n      return '#498205';\n    case PersonaInitialsColor.darkGreen:\n      return '#0B6A0B';\n    case PersonaInitialsColor.lightPink:\n      return '#C239B3';\n    case PersonaInitialsColor.pink:\n      return '#E3008C';\n    case PersonaInitialsColor.magenta:\n      return '#881798';\n    case PersonaInitialsColor.purple:\n      return '#5C2E91';\n    case PersonaInitialsColor.orange:\n      return '#CA5010';\n    // eslint-disable-next-line deprecation/deprecation\n    case PersonaInitialsColor.red:\n      return '#EE1111';\n    case PersonaInitialsColor.lightRed:\n      return '#D13438';\n    case PersonaInitialsColor.darkRed:\n      return '#A4262C';\n    case PersonaInitialsColor.transparent:\n      return 'transparent';\n    case PersonaInitialsColor.violet:\n      return '#8764B8';\n    case PersonaInitialsColor.gold:\n      return '#986F0B';\n    case PersonaInitialsColor.burgundy:\n      return '#750B1C';\n    case PersonaInitialsColor.warmGray:\n      return '#7A7574';\n    case PersonaInitialsColor.cyan:\n      return '#005B70';\n    case PersonaInitialsColor.rust:\n      return '#8E562E';\n    case PersonaInitialsColor.coolGray:\n      return '#69797E';\n    // eslint-disable-next-line deprecation/deprecation\n    case PersonaInitialsColor.black:\n      return '#1D1D1D';\n    case PersonaInitialsColor.gray:\n      return '#393939';\n  }\n}\n\n/** @deprecated Use `getPersonaInitialsColor` */\nexport function initialsColorPropToColorCode(props: IPersonaProps): string {\n  return getPersonaInitialsColor(props);\n}\n\n/**\n * Gets the hex color string (prefixed with #) for the given persona props.\n * This is the logic used internally by the Persona control.\n * @param props - Current persona props\n * @returns Hex color string prefixed with #\n */\nexport function getPersonaInitialsColor(props: Pick<IPersonaProps, 'primaryText' | 'text' | 'initialsColor'>): string {\n  // eslint-disable-next-line deprecation/deprecation\n  const { primaryText, text } = props;\n  let { initialsColor } = props;\n  let initialsColorCode: string;\n  if (typeof initialsColor === 'string') {\n    initialsColorCode = initialsColor;\n  } else {\n    initialsColor = initialsColor !== undefined ? initialsColor : getInitialsColorFromName(text || primaryText);\n    initialsColorCode = personaInitialsColorToHexCode(initialsColor);\n  }\n\n  return initialsColorCode;\n}\n","import * as React from 'react';\nimport {\n  classNamesFunction,\n  divProperties,\n  memoizeFunction,\n  getInitials,\n  getNativeProps,\n  getRTL,\n  getPropsWithDefaults,\n} from '../../../Utilities';\nimport { mergeStyles } from '../../../Styling';\nimport { PersonaPresence } from '../PersonaPresence/index';\nimport { Icon } from '../../../Icon';\nimport { Image, ImageFit, ImageLoadState } from '../../../Image';\nimport { PersonaInitialsColor, PersonaPresence as PersonaPresenceEnum, PersonaSize } from '../Persona.types';\nimport { getPersonaInitialsColor } from '../PersonaInitialsColor';\nimport { sizeToPixels } from '../PersonaConsts';\nimport { useWarnings } from '@fluentui/react-hooks';\nimport type {\n  IPersonaCoinProps,\n  IPersonaCoinStyleProps,\n  IPersonaCoinStyles,\n  IPersonaPresenceProps,\n} from '../Persona.types';\n\nconst getClassNames = classNamesFunction<IPersonaCoinStyleProps, IPersonaCoinStyles>({\n  // There can be many PersonaCoin rendered with different sizes.\n  // Therefore setting a larger cache size.\n  cacheSize: 100,\n});\n\nconst getInitialsStyles = memoizeFunction(\n  (\n    className: string,\n    initialsColor: PersonaInitialsColor | string | undefined,\n    initialsTextColor: string | undefined,\n    text: string | undefined,\n    primaryText: string | undefined,\n    showUnknownPersonaCoin: boolean | undefined,\n  ) =>\n    mergeStyles(\n      className,\n      !showUnknownPersonaCoin && {\n        backgroundColor: getPersonaInitialsColor({ text, initialsColor, primaryText }),\n        color: initialsTextColor,\n      },\n    ),\n);\n\nconst DEFAULT_PROPS = {\n  size: PersonaSize.size48,\n  presence: PersonaPresenceEnum.none,\n  imageAlt: '',\n};\n\nfunction useDebugWarnings(props: IPersonaCoinProps) {\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks -- build-time conditional\n    useWarnings({\n      name: 'PersonaCoin',\n      props,\n      deprecations: { primaryText: 'text' },\n    });\n  }\n}\n\nfunction useImageLoadState({ onPhotoLoadingStateChange, imageUrl }: IPersonaCoinProps) {\n  const [imageLoadState, setImageLoadstate] = React.useState<ImageLoadState>(ImageLoadState.notLoaded);\n\n  React.useEffect(() => {\n    setImageLoadstate(ImageLoadState.notLoaded);\n  }, [imageUrl]);\n\n  const onLoadingStateChange = (loadState: ImageLoadState) => {\n    setImageLoadstate(loadState);\n\n    onPhotoLoadingStateChange?.(loadState);\n  };\n\n  return [imageLoadState, onLoadingStateChange] as const;\n}\n\n/**\n * PersonaCoin with no default styles.\n * [Use the `getStyles` API to add your own styles.](https://github.com/microsoft/fluentui/wiki/Styling)\n */\nexport const PersonaCoinBase: React.FunctionComponent<IPersonaCoinProps> = React.forwardRef<\n  HTMLDivElement,\n  IPersonaCoinProps\n>((propsWithoutDefaults, forwardedRef) => {\n  const props = getPropsWithDefaults(DEFAULT_PROPS, propsWithoutDefaults);\n\n  useDebugWarnings(props);\n\n  const [imageLoadState, onLoadingStateChange] = useImageLoadState(props);\n\n  const renderCoin = getCoinRenderer(onLoadingStateChange);\n\n  const {\n    className,\n    coinProps,\n    showUnknownPersonaCoin,\n    coinSize,\n    styles,\n    imageUrl,\n    initialsColor,\n    initialsTextColor,\n    isOutOfOffice,\n    // eslint-disable-next-line deprecation/deprecation\n    onRenderCoin = renderCoin,\n    // eslint-disable-next-line deprecation/deprecation\n    onRenderPersonaCoin = onRenderCoin,\n    onRenderInitials = renderPersonaCoinInitials,\n    presence,\n    presenceTitle,\n    presenceColors,\n    // eslint-disable-next-line deprecation/deprecation\n    primaryText,\n    showInitialsUntilImageLoads,\n    text,\n    theme,\n    size,\n  } = props;\n\n  const divProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(props, divProperties);\n  const divCoinProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(coinProps || {}, divProperties);\n  const coinSizeStyle = coinSize ? { width: coinSize, height: coinSize } : undefined;\n  const hideImage = showUnknownPersonaCoin;\n\n  const personaPresenceProps: IPersonaPresenceProps = {\n    coinSize,\n    isOutOfOffice,\n    presence,\n    presenceTitle,\n    presenceColors,\n    size,\n    theme,\n  };\n\n  // Use getStyles from props, or fall back to getStyles from styles file.\n  const classNames = getClassNames(styles, {\n    theme: theme!,\n    className: coinProps && coinProps.className ? coinProps.className : className,\n    size,\n    coinSize,\n    showUnknownPersonaCoin,\n  });\n\n  const shouldRenderInitials = Boolean(\n    imageLoadState !== ImageLoadState.loaded &&\n      ((showInitialsUntilImageLoads && imageUrl) || !imageUrl || imageLoadState === ImageLoadState.error || hideImage),\n  );\n\n  return (\n    <div role=\"presentation\" {...divProps} className={classNames.coin} ref={forwardedRef}>\n      {\n        // Render PersonaCoin if size is not size8. size10 and tiny need to removed after a deprecation cleanup.\n        // eslint-disable-next-line deprecation/deprecation\n        size !== PersonaSize.size8 && size !== PersonaSize.size10 && size !== PersonaSize.tiny ? (\n          <div role=\"presentation\" {...divCoinProps} className={classNames.imageArea} style={coinSizeStyle}>\n            {shouldRenderInitials && (\n              <div\n                className={getInitialsStyles(\n                  classNames.initials,\n                  initialsColor,\n                  initialsTextColor,\n                  text,\n                  primaryText,\n                  showUnknownPersonaCoin,\n                )}\n                style={coinSizeStyle}\n                aria-hidden=\"true\"\n              >\n                {onRenderInitials(props, renderPersonaCoinInitials)}\n              </div>\n            )}\n            {!hideImage && onRenderPersonaCoin(props, renderCoin)}\n            <PersonaPresence {...personaPresenceProps} />\n          </div>\n        ) : // Otherwise, render just PersonaPresence.\n        props.presence ? (\n          <PersonaPresence {...personaPresenceProps} />\n        ) : (\n          // Just render Contact Icon if there isn't a Presence prop.\n          <Icon iconName=\"Contact\" className={classNames.size10WithoutPresenceIcon} />\n        )\n      }\n      {props.children}\n    </div>\n  );\n});\nPersonaCoinBase.displayName = 'PersonaCoinBase';\n\nconst getCoinRenderer = (onLoadingStateChange: (loadState: ImageLoadState) => void) => ({\n  coinSize,\n  styles,\n  imageUrl,\n  imageAlt,\n  imageShouldFadeIn,\n  imageShouldStartVisible,\n  theme,\n  showUnknownPersonaCoin,\n  size = DEFAULT_PROPS.size,\n}: IPersonaCoinProps): JSX.Element | null => {\n  // Render the Image component only if an image URL is provided\n  if (!imageUrl) {\n    return null;\n  }\n  const classNames = getClassNames(styles, {\n    theme: theme!,\n    size,\n    showUnknownPersonaCoin,\n  });\n  const dimension = coinSize || sizeToPixels[size];\n  return (\n    <Image\n      className={classNames.image}\n      imageFit={ImageFit.cover}\n      src={imageUrl}\n      width={dimension}\n      height={dimension}\n      alt={imageAlt}\n      shouldFadeIn={imageShouldFadeIn}\n      shouldStartVisible={imageShouldStartVisible}\n      onLoadingStateChange={onLoadingStateChange}\n    />\n  );\n};\n\nconst renderPersonaCoinInitials = ({\n  imageInitials,\n  allowPhoneInitials,\n  showUnknownPersonaCoin,\n  text,\n  // eslint-disable-next-line deprecation/deprecation\n  primaryText,\n  theme,\n}: IPersonaCoinProps): JSX.Element => {\n  if (showUnknownPersonaCoin) {\n    return <Icon iconName=\"Help\" />;\n  }\n\n  const isRTL = getRTL(theme);\n\n  imageInitials = imageInitials || getInitials(text || primaryText || '', isRTL, allowPhoneInitials);\n\n  return imageInitials !== '' ? <span>{imageInitials}</span> : <Icon iconName=\"Contact\" />;\n};\n","import { PersonaSize } from '../Persona.types';\nimport { HighContrastSelector, FontWeights, getGlobalClassNames, getHighContrastNoAdjustStyle } from '../../../Styling';\nimport { sizeBoolean, sizeToPixels } from '../PersonaConsts';\nimport type { IPersonaCoinStyleProps, IPersonaCoinStyles } from '../Persona.types';\n\nconst GlobalClassNames = {\n  coin: 'ms-Persona-coin',\n  imageArea: 'ms-Persona-imageArea',\n  image: 'ms-Persona-image',\n  initials: 'ms-Persona-initials',\n  size8: 'ms-Persona--size8',\n  size10: 'ms-Persona--size10',\n  size16: 'ms-Persona--size16',\n  size24: 'ms-Persona--size24',\n  size28: 'ms-Persona--size28',\n  size32: 'ms-Persona--size32',\n  size40: 'ms-Persona--size40',\n  size48: 'ms-Persona--size48',\n  size56: 'ms-Persona--size56',\n  size72: 'ms-Persona--size72',\n  size100: 'ms-Persona--size100',\n  size120: 'ms-Persona--size120',\n};\n\nexport const getStyles = (props: IPersonaCoinStyleProps): IPersonaCoinStyles => {\n  const { className, theme, coinSize } = props;\n\n  const { palette, fonts } = theme;\n\n  const size = sizeBoolean(props.size as PersonaSize);\n\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n\n  // Static colors used when displaying 'unknown persona' coin\n  const unknownPersonaBackgroundColor = 'rgb(234, 234, 234)';\n  const unknownPersonaFontColor = 'rgb(168, 0, 0)';\n\n  const dimension = coinSize || (props.size && sizeToPixels[props.size]) || 48;\n\n  return {\n    coin: [\n      classNames.coin,\n      fonts.medium,\n      size.isSize8 && classNames.size8,\n      size.isSize10 && classNames.size10,\n      size.isSize16 && classNames.size16,\n      size.isSize24 && classNames.size24,\n      size.isSize28 && classNames.size28,\n      size.isSize32 && classNames.size32,\n      size.isSize40 && classNames.size40,\n      size.isSize48 && classNames.size48,\n      size.isSize56 && classNames.size56,\n      size.isSize72 && classNames.size72,\n      size.isSize100 && classNames.size100,\n      size.isSize120 && classNames.size120,\n      className,\n    ],\n\n    size10WithoutPresenceIcon: {\n      fontSize: fonts.xSmall.fontSize,\n      position: 'absolute',\n      top: '5px',\n      right: 'auto',\n      left: 0,\n    },\n\n    imageArea: [\n      classNames.imageArea,\n      {\n        position: 'relative',\n        textAlign: 'center',\n        flex: '0 0 auto',\n        height: dimension,\n        width: dimension,\n      },\n\n      dimension <= 10 && {\n        overflow: 'visible',\n        background: 'transparent',\n        height: 0,\n        width: 0,\n      },\n    ],\n\n    image: [\n      classNames.image,\n      {\n        marginRight: '10px',\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        border: 0,\n        borderRadius: '50%',\n        perspective: '1px',\n      },\n\n      dimension <= 10 && {\n        overflow: 'visible',\n        background: 'transparent',\n        height: 0,\n        width: 0,\n      },\n\n      dimension > 10 && {\n        height: dimension,\n        width: dimension,\n      },\n    ],\n\n    initials: [\n      classNames.initials,\n      {\n        borderRadius: '50%',\n        color: props.showUnknownPersonaCoin ? unknownPersonaFontColor : palette.white,\n        fontSize: fonts.large.fontSize,\n        fontWeight: FontWeights.semibold,\n        // copying the logic for the dimensions; defaulted to 46 for size48\n        lineHeight: dimension === 48 ? 46 : dimension,\n        height: dimension,\n\n        selectors: {\n          [HighContrastSelector]: {\n            border: '1px solid WindowText',\n            ...getHighContrastNoAdjustStyle(),\n            color: 'WindowText',\n            boxSizing: 'border-box',\n            backgroundColor: 'Window !important',\n          },\n          i: {\n            fontWeight: FontWeights.semibold,\n          },\n        },\n      },\n\n      props.showUnknownPersonaCoin && {\n        backgroundColor: unknownPersonaBackgroundColor,\n      },\n\n      dimension < 32 && {\n        fontSize: fonts.xSmall.fontSize,\n      },\n\n      dimension >= 32 &&\n        dimension < 40 && {\n          fontSize: fonts.medium.fontSize,\n        },\n\n      dimension >= 40 &&\n        dimension < 56 && {\n          fontSize: fonts.mediumPlus.fontSize,\n        },\n\n      dimension >= 56 &&\n        dimension < 72 && {\n          fontSize: fonts.xLarge.fontSize,\n        },\n\n      dimension >= 72 &&\n        dimension < 100 && {\n          fontSize: fonts.xxLarge.fontSize,\n        },\n\n      dimension >= 100 && {\n        fontSize: fonts.superLarge.fontSize,\n      },\n    ],\n  };\n};\n","import * as React from 'react';\nimport { styled } from '../../../Utilities';\nimport { PersonaCoinBase } from './PersonaCoin.base';\nimport { getStyles } from './PersonaCoin.styles';\nimport type { IPersonaCoinProps, IPersonaCoinStyleProps, IPersonaCoinStyles } from '../Persona.types';\n\n/**\n * PersonaCoin is used to render an individual's avatar and presence.\n */\nexport const PersonaCoin: React.FunctionComponent<IPersonaCoinProps> = styled<\n  IPersonaCoinProps,\n  IPersonaCoinStyleProps,\n  IPersonaCoinStyles\n>(PersonaCoinBase, getStyles, undefined, {\n  scope: 'PersonaCoin',\n});\n","import * as React from 'react';\nimport { classNamesFunction, divProperties, getNativeProps, getPropsWithDefaults } from '../../Utilities';\nimport { TooltipHost, TooltipOverflowMode } from '../../Tooltip';\nimport { PersonaCoin } from './PersonaCoin/PersonaCoin';\nimport { PersonaPresence as PersonaPresenceEnum, PersonaSize } from './Persona.types';\nimport { useWarnings, useMergedRefs } from '@fluentui/react-hooks';\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport type { IRenderFunction } from '../../Utilities';\nimport type { IPersonaProps, IPersonaStyleProps, IPersonaStyles, IPersonaCoinProps } from './Persona.types';\n\nconst getClassNames = classNamesFunction<IPersonaStyleProps, IPersonaStyles>();\n\nconst DEFAULT_PROPS = {\n  size: PersonaSize.size48,\n  presence: PersonaPresenceEnum.none,\n  imageAlt: '',\n  showOverflowTooltip: true,\n};\n\nfunction useDebugWarnings(props: IPersonaProps) {\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks -- build-time conditional\n    useWarnings({\n      name: 'Persona',\n      props,\n      deprecations: { primaryText: 'text' },\n    });\n  }\n}\n\n/**\n * Persona with no default styles.\n * [Use the `styles` API to add your own styles.](https://github.com/microsoft/fluentui/wiki/Styling)\n */\nexport const PersonaBase: React.FunctionComponent<IPersonaProps> = React.forwardRef<HTMLDivElement, IPersonaProps>(\n  (propsWithoutDefaults, forwardedRef) => {\n    const props = getPropsWithDefaults(DEFAULT_PROPS, propsWithoutDefaults);\n\n    useDebugWarnings(props);\n    const rootRef = React.useRef<HTMLDivElement>(null);\n    const mergedRootRef = useMergedRefs(forwardedRef, rootRef);\n\n    /**\n     * Deprecation helper for getting text.\n     */\n    const getText = (): string => {\n      // eslint-disable-next-line deprecation/deprecation\n      return props.text || props.primaryText || '';\n    };\n\n    /**\n     * Renders various types of Text (primaryText, secondaryText, etc)\n     * based on the classNames passed\n     * @param elementClassNames - element className\n     * @param renderFunction - render function\n     * @param defaultRenderFunction - default render function\n     */\n    const renderElement = (\n      elementClassNames: string,\n      renderFunction: IRenderFunction<IPersonaProps> | undefined,\n      defaultRenderFunction: IRenderFunction<IPersonaProps> | undefined,\n    ): JSX.Element => {\n      return (\n        <div dir=\"auto\" className={elementClassNames}>\n          {renderFunction && renderFunction(props, defaultRenderFunction)}\n        </div>\n      );\n    };\n\n    /**\n     * using closure to wrap the default render behavior\n     * to make it independent of the type of text passed\n     * @param text - text to render\n     */\n    const onRenderText = (text: string | undefined, tooltip = true): IRenderFunction<IPersonaProps> | undefined => {\n      // return default render behavior for valid text or undefined\n      return text\n        ? tooltip\n          ? (): JSX.Element => {\n              // default onRender behavior\n              return (\n                <TooltipHost\n                  content={text}\n                  overflowMode={TooltipOverflowMode.Parent}\n                  directionalHint={DirectionalHint.topLeftEdge}\n                >\n                  {text}\n                </TooltipHost>\n              );\n            }\n          : () => <>{text}</>\n        : undefined;\n    };\n\n    const onInternalRenderPersonaCoin = (providedCoinProps: IPersonaCoinProps): JSX.Element | null => {\n      return <PersonaCoin {...providedCoinProps} />;\n    };\n\n    // wrapping default render behavior based on various props properties\n    const onInternalRenderPrimaryText = onRenderText(getText(), props.showOverflowTooltip);\n    const onInternalRenderSecondaryText = onRenderText(props.secondaryText, props.showOverflowTooltip);\n    const onInternalRenderTertiaryText = onRenderText(props.tertiaryText, props.showOverflowTooltip);\n    const onInternalRenderOptionalText = onRenderText(props.optionalText, props.showOverflowTooltip);\n\n    const {\n      hidePersonaDetails,\n      onRenderOptionalText = onInternalRenderOptionalText,\n      onRenderPrimaryText = onInternalRenderPrimaryText,\n      onRenderSecondaryText = onInternalRenderSecondaryText,\n      onRenderTertiaryText = onInternalRenderTertiaryText,\n      onRenderPersonaCoin = onInternalRenderPersonaCoin,\n    } = props;\n    const size = props.size as PersonaSize;\n\n    // These properties are to be explicitly passed into PersonaCoin because they are the only props directly used\n    const {\n      allowPhoneInitials,\n      className,\n      coinProps,\n      showUnknownPersonaCoin,\n      coinSize,\n      styles,\n      imageAlt,\n      imageInitials,\n      imageShouldFadeIn,\n      imageShouldStartVisible,\n      imageUrl,\n      initialsColor,\n      initialsTextColor,\n      isOutOfOffice,\n      onPhotoLoadingStateChange,\n      // eslint-disable-next-line deprecation/deprecation\n      onRenderCoin,\n      onRenderInitials,\n      presence,\n      presenceTitle,\n      presenceColors,\n      showInitialsUntilImageLoads,\n      showSecondaryText,\n      theme,\n    } = props;\n\n    const personaCoinProps: IPersonaCoinProps = {\n      allowPhoneInitials,\n      showUnknownPersonaCoin,\n      coinSize,\n      imageAlt,\n      imageInitials,\n      imageShouldFadeIn,\n      imageShouldStartVisible,\n      imageUrl,\n      initialsColor,\n      initialsTextColor,\n      onPhotoLoadingStateChange,\n      onRenderCoin,\n      onRenderInitials,\n      presence,\n      presenceTitle,\n      showInitialsUntilImageLoads,\n      size,\n      text: getText(),\n      isOutOfOffice,\n      presenceColors,\n      ...coinProps,\n    };\n\n    const classNames = getClassNames(styles, {\n      theme: theme!,\n      className,\n      showSecondaryText,\n      presence,\n      size,\n    });\n\n    const divProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(props, divProperties);\n    const personaDetails = (\n      <div className={classNames.details}>\n        {renderElement(classNames.primaryText, onRenderPrimaryText, onInternalRenderPrimaryText)}\n        {renderElement(classNames.secondaryText, onRenderSecondaryText, onInternalRenderSecondaryText)}\n        {renderElement(classNames.tertiaryText, onRenderTertiaryText, onInternalRenderTertiaryText)}\n        {renderElement(classNames.optionalText, onRenderOptionalText, onInternalRenderOptionalText)}\n        {props.children}\n      </div>\n    );\n    return (\n      <div\n        {...divProps}\n        ref={mergedRootRef}\n        className={classNames.root}\n        style={coinSize ? { height: coinSize, minWidth: coinSize } : undefined}\n      >\n        {onRenderPersonaCoin(personaCoinProps, onRenderPersonaCoin)}\n        {\n          /* eslint-disable deprecation/deprecation */\n\n          (!hidePersonaDetails ||\n            size === PersonaSize.size8 ||\n            size === PersonaSize.size10 ||\n            size === PersonaSize.tiny) &&\n            personaDetails\n          /* eslint-enable deprecation/deprecation */\n        }\n      </div>\n    );\n  },\n);\nPersonaBase.displayName = 'PersonaBase';\n","import { PersonaPresence, PersonaSize } from './Persona.types';\nimport { FontWeights, normalize, noWrap, getGlobalClassNames } from '../../Styling';\nimport { personaSize, presenceBoolean, sizeBoolean } from './PersonaConsts';\nimport type { IPersonaStyleProps, IPersonaStyles } from './Persona.types';\nimport type { IStyle } from '../../Styling';\n\nconst GlobalClassNames = {\n  root: 'ms-Persona',\n  size8: 'ms-Persona--size8',\n  size10: 'ms-Persona--size10',\n  size16: 'ms-Persona--size16',\n  size24: 'ms-Persona--size24',\n  size28: 'ms-Persona--size28',\n  size32: 'ms-Persona--size32',\n  size40: 'ms-Persona--size40',\n  size48: 'ms-Persona--size48',\n  size56: 'ms-Persona--size56',\n  size72: 'ms-Persona--size72',\n  size100: 'ms-Persona--size100',\n  size120: 'ms-Persona--size120',\n  available: 'ms-Persona--online',\n  away: 'ms-Persona--away',\n  blocked: 'ms-Persona--blocked',\n  busy: 'ms-Persona--busy',\n  doNotDisturb: 'ms-Persona--donotdisturb',\n  offline: 'ms-Persona--offline',\n  details: 'ms-Persona-details',\n  primaryText: 'ms-Persona-primaryText',\n  secondaryText: 'ms-Persona-secondaryText',\n  tertiaryText: 'ms-Persona-tertiaryText',\n  optionalText: 'ms-Persona-optionalText',\n  textContent: 'ms-Persona-textContent',\n};\n\nexport const getStyles = (props: IPersonaStyleProps): IPersonaStyles => {\n  const { className, showSecondaryText, theme } = props;\n\n  const { semanticColors, fonts } = theme;\n\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n\n  const size = sizeBoolean(props.size as PersonaSize);\n  const presence = presenceBoolean(props.presence as PersonaPresence);\n\n  const showSecondaryTextDefaultHeight = '16px';\n\n  const sharedTextStyles: IStyle = {\n    color: semanticColors.bodySubtext,\n    fontWeight: FontWeights.regular,\n    fontSize: fonts.small.fontSize,\n  };\n\n  return {\n    root: [\n      classNames.root,\n      theme.fonts.medium,\n      normalize,\n      {\n        color: semanticColors.bodyText,\n        position: 'relative',\n        height: personaSize.size48,\n        minWidth: personaSize.size48,\n        display: 'flex',\n        alignItems: 'center',\n\n        selectors: {\n          '.contextualHost': {\n            display: 'none',\n          },\n        },\n      },\n\n      size.isSize8 && [\n        classNames.size8,\n        {\n          height: personaSize.size8,\n          minWidth: personaSize.size8,\n        },\n      ],\n\n      // TODO: Deprecated size and needs to be removed in a future major release.\n      size.isSize10 && [\n        classNames.size10,\n        {\n          height: personaSize.size10,\n          minWidth: personaSize.size10,\n        },\n      ],\n\n      // TODO: Deprecated size and needs to be removed in a future major release.\n      size.isSize16 && [\n        classNames.size16,\n        {\n          height: personaSize.size16,\n          minWidth: personaSize.size16,\n        },\n      ],\n\n      size.isSize24 && [\n        classNames.size24,\n        {\n          height: personaSize.size24,\n          minWidth: personaSize.size24,\n        },\n      ],\n\n      size.isSize24 &&\n        showSecondaryText && {\n          height: '36px',\n        },\n\n      // TODO: Deprecated size and needs to be removed in a future major release.\n      size.isSize28 && [\n        classNames.size28,\n        {\n          height: personaSize.size28,\n          minWidth: personaSize.size28,\n        },\n      ],\n\n      size.isSize28 &&\n        showSecondaryText && {\n          height: '32px',\n        },\n\n      size.isSize32 && [\n        classNames.size32,\n        {\n          height: personaSize.size32,\n          minWidth: personaSize.size32,\n        },\n      ],\n\n      size.isSize40 && [\n        classNames.size40,\n        {\n          height: personaSize.size40,\n          minWidth: personaSize.size40,\n        },\n      ],\n\n      size.isSize48 && classNames.size48,\n\n      size.isSize56 && [\n        classNames.size56,\n        {\n          height: personaSize.size56,\n          minWidth: personaSize.size56,\n        },\n      ],\n\n      size.isSize72 && [\n        classNames.size72,\n        {\n          height: personaSize.size72,\n          minWidth: personaSize.size72,\n        },\n      ],\n\n      size.isSize100 && [\n        classNames.size100,\n        {\n          height: personaSize.size100,\n          minWidth: personaSize.size100,\n        },\n      ],\n\n      size.isSize120 && [\n        classNames.size120,\n        {\n          height: personaSize.size120,\n          minWidth: personaSize.size120,\n        },\n      ],\n\n      /**\n       * Modifiers: presence\n       */\n      presence.isAvailable && classNames.available,\n      presence.isAway && classNames.away,\n      presence.isBlocked && classNames.blocked,\n      presence.isBusy && classNames.busy,\n      presence.isDoNotDisturb && classNames.doNotDisturb,\n      presence.isOffline && classNames.offline,\n      className,\n    ],\n\n    details: [\n      classNames.details,\n      {\n        padding: '0 24px 0 16px',\n        minWidth: 0,\n        width: '100%',\n        textAlign: 'left',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-around',\n      },\n\n      (size.isSize8 || size.isSize10) && {\n        paddingLeft: 17, // increased padding because we don't render a coin at this size\n      },\n\n      (size.isSize24 || size.isSize28 || size.isSize32) && {\n        padding: '0 8px',\n      },\n\n      (size.isSize40 || size.isSize48) && {\n        padding: '0 12px',\n      },\n    ],\n\n    primaryText: [\n      classNames.primaryText,\n      noWrap,\n      {\n        color: semanticColors.bodyText,\n        fontWeight: FontWeights.regular,\n        fontSize: fonts.medium.fontSize,\n        selectors: {\n          ':hover': {\n            color: semanticColors.inputTextHovered,\n          },\n        },\n      },\n\n      showSecondaryText && {\n        height: showSecondaryTextDefaultHeight,\n        lineHeight: showSecondaryTextDefaultHeight,\n        overflowX: 'hidden',\n      },\n\n      (size.isSize8 || size.isSize10) && {\n        fontSize: fonts.small.fontSize,\n        lineHeight: personaSize.size8,\n      },\n\n      size.isSize16 && {\n        lineHeight: personaSize.size28,\n      },\n\n      (size.isSize24 || size.isSize28 || size.isSize32 || size.isSize40 || size.isSize48) &&\n        showSecondaryText && {\n          height: 18,\n        },\n\n      (size.isSize56 || size.isSize72 || size.isSize100 || size.isSize120) && {\n        fontSize: fonts.xLarge.fontSize,\n      },\n\n      (size.isSize56 || size.isSize72 || size.isSize100 || size.isSize120) &&\n        showSecondaryText && {\n          height: 22,\n        },\n    ],\n\n    secondaryText: [\n      classNames.secondaryText,\n      noWrap,\n      sharedTextStyles,\n\n      (size.isSize8 || size.isSize10 || size.isSize16 || size.isSize24 || size.isSize28 || size.isSize32) && {\n        display: 'none',\n      },\n\n      showSecondaryText && {\n        display: 'block',\n        height: showSecondaryTextDefaultHeight,\n        lineHeight: showSecondaryTextDefaultHeight,\n        overflowX: 'hidden',\n      },\n\n      size.isSize24 &&\n        showSecondaryText && {\n          height: 18,\n        },\n\n      (size.isSize56 || size.isSize72 || size.isSize100 || size.isSize120) && {\n        fontSize: fonts.medium.fontSize,\n      },\n\n      (size.isSize56 || size.isSize72 || size.isSize100 || size.isSize120) &&\n        showSecondaryText && {\n          height: 18,\n        },\n    ],\n\n    tertiaryText: [\n      classNames.tertiaryText,\n      noWrap,\n      sharedTextStyles,\n      {\n        display: 'none',\n        fontSize: fonts.medium.fontSize,\n      },\n\n      (size.isSize72 || size.isSize100 || size.isSize120) && {\n        display: 'block',\n      },\n    ],\n\n    optionalText: [\n      classNames.optionalText,\n      noWrap,\n      sharedTextStyles,\n      {\n        display: 'none',\n        fontSize: fonts.medium.fontSize,\n      },\n\n      (size.isSize100 || size.isSize120) && {\n        display: 'block',\n      },\n    ],\n\n    textContent: [classNames.textContent, noWrap],\n  };\n};\n","import * as React from 'react';\nimport { styled } from '../../Utilities';\nimport { PersonaBase } from './Persona.base';\nimport { getStyles } from './Persona.styles';\nimport type { IPersonaProps, IPersonaStyleProps, IPersonaStyles } from './Persona.types';\n\n/**\n * Personas are used for rendering an individual's avatar, presence and details.\n * They are used within the PeoplePicker components.\n */\nexport const Persona: React.FunctionComponent<IPersonaProps> = styled<\n  IPersonaProps,\n  IPersonaStyleProps,\n  IPersonaStyles\n>(PersonaBase, getStyles, undefined, {\n  scope: 'Persona',\n});\n","import * as React from 'react';\nimport { ImageLoadState } from '../../Image';\nimport type { IRefObject, IRenderFunction, IStyleFunctionOrObject } from '../../Utilities';\nimport type { IStyle, ITheme } from '../../Styling';\n\n/**\n * {@docCategory Persona}\n */\nexport interface IPersona {}\n\n/**\n * {@docCategory Persona}\n */\nexport interface IPersonaSharedProps extends React.HTMLAttributes<HTMLDivElement>, React.RefAttributes<HTMLDivElement> {\n  /**\n   * Primary text to display, usually the name of the person.\n   */\n  text?: string;\n\n  /**\n   * Decides the size of the control.\n   * @defaultvalue PersonaSize.size48\n   */\n  size?: PersonaSize;\n\n  /**\n   * Optional custom renderer for the coin\n   * @deprecated Use `onRenderPersonaCoin` for custom rendering instead\n   */\n  onRenderCoin?: IRenderFunction<IPersonaSharedProps>;\n\n  /**\n   * Optional custom renderer for the coin\n   */\n  onRenderPersonaCoin?: IRenderFunction<IPersonaSharedProps>;\n\n  /**\n   * If true, adds the css class 'is-fadeIn' to the image.\n   */\n  imageShouldFadeIn?: boolean;\n\n  /**\n   * If true, the image starts as visible and is hidden on error. Otherwise, the image is hidden until\n   * it is successfully loaded. This disables imageShouldFadeIn.\n   * @defaultvalue false\n   */\n  imageShouldStartVisible?: boolean;\n\n  /**\n   * Url to the image to use, should be a square aspect ratio and big enough to fit in the image area.\n   */\n  imageUrl?: string;\n\n  /**\n   * Alt text for the image to use.\n   * @default `''` (empty string)\n   */\n  imageAlt?: string;\n\n  /**\n   * The user's initials to display in the image area when there is no image.\n   * @defaultvalue Derived from `text`\n   */\n  imageInitials?: string;\n\n  /**\n   * Whether initials are calculated for phone numbers and number sequences.\n   * Example: Set property to true to get initials for project names consisting of numbers only.\n   * @defaultvalue false\n   */\n  allowPhoneInitials?: boolean;\n\n  /**\n   * Optional custom renderer for the initials\n   */\n  onRenderInitials?: IRenderFunction<IPersonaSharedProps>;\n\n  /**\n   * Optional callback for when loading state of the photo changes\n   */\n  onPhotoLoadingStateChange?: (newImageLoadState: ImageLoadState) => void;\n\n  /**\n   * The background color when the user's initials are displayed.\n   * @defaultvalue Derived from `text`\n   */\n  initialsColor?: PersonaInitialsColor | string;\n\n  /**\n   * The text color when the user's initials are displayed\n   */\n  initialsTextColor?: string;\n\n  /** The colors to be used for the presence-icon and it's background */\n  presenceColors?: {\n    available: string;\n    away: string;\n    busy: string;\n    dnd: string;\n    offline: string;\n    oof: string;\n    background: string;\n  };\n\n  /**\n   * Presence of the person to display - will not display presence if undefined.\n   * @defaultvalue PersonaPresence.none\n   */\n  presence?: PersonaPresence;\n\n  /**\n   * Presence title to be shown as a tooltip on hover over the presence icon.\n   */\n  presenceTitle?: string;\n\n  /**\n   * This flag can be used to signal the persona is out of office.\n   * This will change the way the presence icon looks for statuses that support dual-presence.\n   */\n  isOutOfOffice?: boolean;\n\n  /**\n   * Secondary text to display, usually the role of the user.\n   */\n  secondaryText?: string;\n\n  /**\n   * Controls whether clipped overflow text should render in a tooltip\n   * @defaultvalue true\n   */\n  showOverflowTooltip?: boolean;\n\n  /**\n   * Tertiary text to display, usually the status of the user.\n   * The tertiary text will only be shown when using size72 or size100.\n   */\n  tertiaryText?: string;\n\n  /**\n   * Optional text to display, usually a custom message set. The optional text will only be shown when using size100.\n   */\n  optionalText?: string;\n\n  /**\n   * Whether to not render persona details, and just render the persona image/initials.\n   */\n  hidePersonaDetails?: boolean;\n\n  /*\n   * If true, show the secondary text line regardless of the size of the persona\n   */\n  showSecondaryText?: boolean;\n\n  /**\n   * If true, show the special coin for unknown persona.\n   * It has '?' in place of initials, with static font and background colors\n   */\n  showUnknownPersonaCoin?: boolean;\n\n  /**\n   * If true renders the initials while the image is loading.\n   * This only applies when an imageUrl is provided.\n   * @defaultvalue false\n   */\n  showInitialsUntilImageLoads?: boolean;\n\n  /**\n   * Optional custom persona coin size in pixel.\n   */\n  coinSize?: number;\n\n  /**\n   * Optional HTML element props for Persona coin.\n   */\n  coinProps?: IPersonaCoinProps;\n\n  /**\n   * Theme provided by High-Order Component.\n   */\n  theme?: ITheme;\n\n  /**\n   * Primary text to display, usually the name of the person.\n   * @deprecated Use `text` instead.\n   */\n  primaryText?: string;\n}\n\n/**\n * {@docCategory Persona}\n */\nexport interface IPersonaProps extends IPersonaSharedProps {\n  /**\n   * Optional callback to access the IPersona interface. Use this instead of ref for accessing\n   * the public methods and properties of the component.\n   */\n  componentRef?: IRefObject<IPersona>;\n\n  /**\n   * Additional CSS class(es) to apply to the Persona\n   */\n  className?: string;\n\n  /**\n   * Call to provide customized styling that will layer on top of variant rules\n   */\n  styles?: IStyleFunctionOrObject<IPersonaStyleProps, IPersonaStyles>;\n\n  /**\n   * Optional custom renderer for the primary text.\n   */\n  onRenderPrimaryText?: IRenderFunction<IPersonaProps>;\n\n  /**\n   * Optional custom renderer for the secondary text.\n   */\n  onRenderSecondaryText?: IRenderFunction<IPersonaProps>;\n\n  /**\n   * Optional custom renderer for the tertiary text.\n   */\n  onRenderTertiaryText?: IRenderFunction<IPersonaProps>;\n\n  /**\n   * Optional custom renderer for the optional text.\n   */\n  onRenderOptionalText?: IRenderFunction<IPersonaProps>;\n}\n\n/**\n * {@docCategory Persona}\n */\nexport interface IPersonaStyleProps {\n  /**\n   * Theme provided by High-Order Component.\n   */\n  theme: ITheme;\n\n  /**\n   * Custom class name.\n   */\n  className?: string;\n\n  /**\n   * Optional custom persona coin size in pixel.\n   */\n  coinSize?: number;\n\n  /**\n   * Decides the size of the control.\n   * @defaultvalue PersonaSize.size48\n   */\n  size?: PersonaSize;\n\n  /**\n   * Presence of the person to display - will not display presence if undefined.\n   * @defaultvalue PersonaPresence.none\n   */\n  presence?: PersonaPresence;\n\n  /*\n   * If true, show the secondary text line regardless of the size of the persona\n   */\n  showSecondaryText?: boolean;\n}\n\n/**\n * {@docCategory Persona}\n */\nexport interface IPersonaStyles {\n  root: IStyle;\n  details: IStyle;\n  primaryText: IStyle;\n  secondaryText: IStyle;\n  tertiaryText: IStyle;\n  optionalText: IStyle;\n  textContent: IStyle;\n}\n\n/**\n * {@docCategory Persona}\n */\nexport interface IPersonaCoinProps extends IPersonaSharedProps {\n  /**\n   * Gets the component ref.\n   */\n  componentRef?: IRefObject<{}>;\n\n  /**\n   * Call to provide customized styling that will layer on top of the variant rules\n   */\n  styles?: IStyleFunctionOrObject<IPersonaCoinStyleProps, IPersonaCoinStyles>;\n\n  /**\n   * Additional css class to apply to the PersonaCoin\n   * @defaultvalue undefined\n   */\n  className?: string;\n}\n\n/**\n * {@docCategory Persona}\n */\nexport interface IPersonaCoinStyleProps {\n  /**\n   * Theme provided by High-Order Component.\n   */\n  theme: ITheme;\n\n  /**\n   * Custom class name.\n   */\n  className?: string;\n\n  /**\n   * Decides the size of the control.\n   * @defaultvalue PersonaSize.size48\n   */\n  size?: PersonaSize;\n\n  /**\n   * Optional custom persona coin size in pixel.\n   */\n  coinSize?: number;\n\n  /**\n   * Decides whether to display coin for unknown persona\n   */\n  showUnknownPersonaCoin?: boolean;\n}\n\n/**\n * {@docCategory Persona}\n */\nexport interface IPersonaCoinStyles {\n  coin: IStyle;\n  imageArea: IStyle;\n  image: IStyle;\n  initials: IStyle;\n  size10WithoutPresenceIcon: IStyle;\n}\n\n/**\n * {@docCategory Persona}\n */\nexport interface IPersonaPresenceProps extends IPersonaSharedProps {\n  /**\n   * Gets the component ref.\n   */\n  componentRef?: IRefObject<{}>;\n\n  /**\n   * Call to provide customized styling that will layer on top of the variant rules\n   */\n  styles?: IStyleFunctionOrObject<IPersonaPresenceStyleProps, IPersonaPresenceStyles>;\n}\n\n/**\n * {@docCategory Persona}\n */\nexport type IPersonaPresenceStyleProps = Required<Pick<IPersonaSharedProps, 'theme'>> &\n  Pick<IPersonaSharedProps, 'presence' | 'isOutOfOffice' | 'size' | 'presenceColors'> &\n  Pick<IPersonaProps, 'className'>;\n\n/**\n * {@docCategory Persona}\n */\nexport interface IPersonaPresenceStyles {\n  presence: IStyle;\n  presenceIcon: IStyle;\n}\n\n/**\n * {@docCategory Persona}\n */\nexport enum PersonaSize {\n  /**\n   * Deprecated in favor of standardized numeric sizing.\n   * @deprecated Use `size8` instead.\n   */\n  tiny = 0,\n\n  /**\n   * Deprecated in favor of standardized numeric sizing.\n   * @deprecated Use `size24` instead.\n   */\n  extraExtraSmall = 1,\n\n  /**\n   * Deprecated in favor of standardized numeric sizing.\n   * @deprecated Use `size32` instead.\n   */\n  extraSmall = 2,\n\n  /**\n   * Deprecated in favor of standardized numeric sizing.\n   * @deprecated Use `size40` instead.\n   */\n  small = 3,\n\n  /**\n   * Deprecated in favor of standardized numeric sizing.\n   * @deprecated Use `size48` instead.\n   */\n  regular = 4,\n\n  /**\n   * Deprecated in favor of standardized numeric sizing.\n   * @deprecated Use `size72` instead.\n   */\n  large = 5,\n\n  /**\n   * Deprecated in favor of standardized numeric sizing.\n   * @deprecated Use `size100` instead.\n   */\n  extraLarge = 6,\n\n  /**\n   * No `PersonaCoin` is rendered.\n   */\n  size8 = 17,\n\n  /**\n   * No `PersonaCoin` is rendered. Deprecated to align with design specifications.\n   * @deprecated Use `size8` instead.\n   */\n  size10 = 9,\n\n  /**\n   * Renders a 16px `PersonaCoin`.\n   * @deprecated Deprecated due to not being in the design specification.\n   */\n  size16 = 8,\n\n  /**\n   * Renders a 24px `PersonaCoin`.\n   */\n  size24 = 10,\n\n  /**\n   * Renders a 28px `PersonaCoin`.\n   * @deprecated Deprecated due to not being in the design specification.\n   */\n  size28 = 7,\n\n  /**\n   * Renders a 32px `PersonaCoin`.\n   */\n  size32 = 11,\n\n  /**\n   * Renders a 40px `PersonaCoin`.\n   */\n  size40 = 12,\n\n  /**\n   * Renders a 48px `PersonaCoin`.\n   */\n  size48 = 13,\n\n  /**\n   * Renders a 56px `PersonaCoin`.\n   */\n  size56 = 16,\n\n  /**\n   * Renders a 72px `PersonaCoin`.\n   */\n  size72 = 14,\n\n  /**\n   * Renders a 100px `PersonaCoin`.\n   */\n  size100 = 15,\n\n  /**\n   * Renders a 120px `PersonaCoin`.\n   */\n  size120 = 18,\n}\n\n/**\n * {@docCategory Persona}\n */\nexport enum PersonaPresence {\n  none = 0,\n  offline = 1,\n  online = 2,\n  away = 3,\n  dnd = 4,\n  blocked = 5,\n  busy = 6,\n}\n\n/**\n * {@docCategory Persona}\n */\nexport enum PersonaInitialsColor {\n  lightBlue = 0,\n  blue = 1,\n  darkBlue = 2,\n  teal = 3,\n  lightGreen = 4,\n  green = 5,\n  darkGreen = 6,\n  lightPink = 7,\n  pink = 8,\n  magenta = 9,\n  purple = 10,\n  /**\n   * @deprecated `black` is a color that can result in offensive persona coins with some initials combinations,\n   * so it can only be set with overrides. Will be removed in a future major release.\n   */\n  black = 11,\n  orange = 12,\n  /**\n   * @deprecated `red` is a color that often has a special meaning, so it is considered a reserved color and\n   * can only be set with overrides. Will be removed in a future major release.\n   */\n  red = 13,\n  darkRed = 14,\n  /**\n   * Transparent is not intended to be used with typical initials due to accessibility issues.\n   * Its primary use is for overflow buttons, so it is considered a reserved color and can only be set with overrides.\n   */\n  transparent = 15,\n  violet = 16,\n  lightRed = 17,\n  gold = 18,\n  burgundy = 19,\n  warmGray = 20,\n  coolGray = 21,\n  /**\n   * `gray` is a color that can result in offensive persona coins with some initials combinations,\n   * so it can only be set with overrides.\n   */\n  gray = 22,\n  cyan = 23,\n  rust = 24,\n}\n","import * as React from 'react';\nimport { TooltipBase } from './Tooltip.base';\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport type { ICalloutProps } from '../../Callout';\nimport type { IRenderFunction, IRefObject, IStyleFunctionOrObject } from '../../Utilities';\nimport type { IStyle, ITheme } from '../../Styling';\n\n/**\n * {@docCategory Tooltip}\n */\nexport interface ITooltip {}\n\n/**\n * {@docCategory Tooltip}\n */\nexport interface ITooltipProps extends React.HTMLAttributes<HTMLDivElement | TooltipBase> {\n  /**\n   * Optional callback to access the ITooltip interface. Use this instead of ref for accessing\n   * the public methods and properties of the component.\n   */\n  componentRef?: IRefObject<ITooltip>;\n\n  /**\n   * Properties to pass through for Callout.\n   * @defaultvalue `{ isBeakVisible: true, beakWidth: 16, gapSpace: 0, setInitialFocus: true, doNotLayer: false }`\n   */\n  calloutProps?: ICalloutProps;\n\n  /**\n   * Content to be passed to the tooltip\n   */\n  content?: string | JSX.Element | JSX.Element[];\n\n  /**\n   * Render function to populate tooltip content.\n   */\n  onRenderContent?: IRenderFunction<ITooltipProps>;\n\n  /**\n   * Length of delay. Set to `TooltipDelay.zero` if you do not want a delay.\n   * @defaultvalue TooltipDelay.medium\n   */\n  delay?: TooltipDelay;\n\n  /**\n   * Max width of tooltip\n   * @defaultvalue 364px\n   */\n  maxWidth?: string | null;\n\n  /**\n   * Element to anchor the Tooltip to.\n   */\n  targetElement?: HTMLElement;\n\n  /**\n   * How the tooltip should be anchored to its `targetElement`.\n   * @defaultvalue DirectionalHint.topCenter\n   */\n  directionalHint?: DirectionalHint;\n\n  /**\n   * How the element should be positioned in RTL layouts.\n   * If not specified, a mirror of `directionalHint` will be used instead\n   */\n  directionalHintForRTL?: DirectionalHint;\n\n  /**\n   * Theme provided by higher-order component.\n   */\n  theme?: ITheme;\n\n  /**\n   * Call to provide customized styling that will layer on top of the variant rules.\n   */\n  styles?: IStyleFunctionOrObject<ITooltipStyleProps, ITooltipStyles>;\n}\n\n/**\n * {@docCategory Tooltip}\n */\nexport enum TooltipDelay {\n  zero = 0,\n  /** 300 ms delay before showing the tooltip */\n  medium = 1,\n  /** 500 ms delay before showing the tooltip */\n  long = 2,\n}\n\n/**\n * {@docCategory Tooltip}\n */\nexport interface ITooltipStyleProps {\n  theme: ITheme;\n\n  className?: string;\n\n  /**\n   * Delay before tooltip appears.\n   * @deprecated Delay logic moved to TooltipHost vs relying on animation delay.\n   */\n  delay?: TooltipDelay;\n\n  /**\n   * Maximum width of tooltip.\n   */\n  maxWidth?: string;\n\n  /**\n   * The gap between the Callout and the target\n   * @defaultvalue 0\n   */\n  gapSpace?: number;\n\n  /**\n   * The width of the Callout's beak\n   * @defaultvalue 16\n   */\n  beakWidth?: number;\n}\n\n/**\n * {@docCategory Tooltip}\n */\nexport interface ITooltipStyles {\n  /**\n   * Style for the root element.\n   */\n  root: IStyle;\n\n  /**\n   * Style for the content element.\n   */\n  content: IStyle;\n\n  /**\n   * Style for the subtext element.\n   */\n  subText: IStyle;\n}\n","import * as React from 'react';\nimport { classNamesFunction, divProperties, getNativeProps } from '../../Utilities';\nimport { Callout } from '../../Callout';\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport type { IProcessedStyleSet } from '../../Styling';\nimport type { ITooltipProps, ITooltipStyleProps, ITooltipStyles } from './Tooltip.types';\n\nconst getClassNames = classNamesFunction<ITooltipStyleProps, ITooltipStyles>();\n\nexport class TooltipBase extends React.Component<ITooltipProps, any> {\n  // Specify default props values\n  public static defaultProps: Partial<ITooltipProps> = {\n    directionalHint: DirectionalHint.topCenter,\n    maxWidth: '364px',\n    calloutProps: {\n      isBeakVisible: true,\n      beakWidth: 16,\n      gapSpace: 0,\n      setInitialFocus: true,\n      doNotLayer: false,\n    },\n  };\n\n  private _classNames: IProcessedStyleSet<ITooltipStyles>;\n\n  public render(): JSX.Element {\n    const {\n      className,\n      calloutProps,\n      directionalHint,\n      directionalHintForRTL,\n      styles,\n      id,\n      maxWidth,\n      onRenderContent = this._onRenderContent,\n      targetElement,\n      theme,\n    } = this.props;\n\n    this._classNames = getClassNames(styles!, {\n      theme: theme!,\n      className: className || (calloutProps && calloutProps.className),\n      beakWidth: calloutProps && calloutProps.beakWidth,\n      gapSpace: calloutProps && calloutProps.gapSpace,\n      maxWidth: maxWidth!,\n    });\n\n    return (\n      <Callout\n        target={targetElement}\n        directionalHint={directionalHint}\n        directionalHintForRTL={directionalHintForRTL}\n        {...calloutProps}\n        {...getNativeProps(this.props, divProperties, ['id'])} // omitting ID due to it being used in the div below\n        className={this._classNames.root}\n      >\n        <div\n          className={this._classNames.content}\n          id={id}\n          onMouseEnter={this.props.onMouseEnter}\n          onMouseLeave={this.props.onMouseLeave}\n        >\n          {onRenderContent(this.props, this._onRenderContent)}\n        </div>\n      </Callout>\n    );\n  }\n\n  private _onRenderContent = (props: ITooltipProps): JSX.Element => {\n    if (typeof props.content === 'string') {\n      return <p className={this._classNames.subText}>{props.content}</p>;\n    } else {\n      return <div className={this._classNames.subText}>{props.content}</div>;\n    }\n  };\n}\n","import * as React from 'react';\nimport { styled } from '../../Utilities';\nimport { TooltipBase } from './Tooltip.base';\nimport { getStyles } from './Tooltip.styles';\nimport type { ITooltipProps, ITooltipStyleProps, ITooltipStyles } from './Tooltip.types';\n\nexport const Tooltip: React.FunctionComponent<ITooltipProps> = styled<\n  ITooltipProps,\n  ITooltipStyleProps,\n  ITooltipStyles\n>(TooltipBase, getStyles, undefined, {\n  scope: 'Tooltip',\n});\n","import { AnimationClassNames } from '../../Styling';\nimport type { ITooltipStyleProps, ITooltipStyles } from './Tooltip.types';\n\nexport const getStyles = (props: ITooltipStyleProps): ITooltipStyles => {\n  const { className, beakWidth = 16, gapSpace = 0, maxWidth, theme } = props;\n  const { semanticColors, fonts, effects } = theme;\n\n  // The math here is done to account for the 45 degree rotation of the beak\n  // and sub-pixel rounding that differs across browsers, which is more noticeable when\n  // the device pixel ratio is larger\n  const tooltipGapSpace = -(Math.sqrt((beakWidth * beakWidth) / 2) + gapSpace) + 1 / window.devicePixelRatio;\n\n  return {\n    root: [\n      'ms-Tooltip',\n      theme.fonts.medium,\n      AnimationClassNames.fadeIn200,\n      {\n        background: semanticColors.menuBackground,\n        boxShadow: effects.elevation8,\n        padding: '8px',\n        maxWidth: maxWidth,\n        selectors: {\n          ':after': {\n            content: `''`,\n            position: 'absolute',\n            bottom: tooltipGapSpace,\n            left: tooltipGapSpace,\n            right: tooltipGapSpace,\n            top: tooltipGapSpace,\n            zIndex: 0,\n          },\n        },\n      },\n      className,\n    ],\n    content: [\n      'ms-Tooltip-content',\n      fonts.small,\n      {\n        position: 'relative',\n        zIndex: 1,\n        color: semanticColors.menuItemText,\n        wordWrap: 'break-word',\n        overflowWrap: 'break-word',\n        overflow: 'hidden',\n      },\n    ],\n    subText: [\n      'ms-Tooltip-subtext',\n      {\n        // Using inherit here to avoid unintentional global overrides of the <p> tag.\n        fontSize: 'inherit',\n        fontWeight: 'inherit',\n        color: 'inherit',\n        margin: 0,\n      },\n    ],\n  };\n};\n","import * as React from 'react';\nimport { hiddenContentStyle } from '../../Styling';\nimport {\n  initializeComponentRef,\n  Async,\n  divProperties,\n  getNativeProps,\n  getId,\n  assign,\n  hasOverflow,\n  portalContainsElement,\n  classNamesFunction,\n  KeyCodes,\n} from '../../Utilities';\nimport { TooltipOverflowMode } from './TooltipHost.types';\nimport { Tooltip } from './Tooltip';\nimport { TooltipDelay } from './Tooltip.types';\nimport type { ITooltipHostProps, ITooltipHostStyles, ITooltipHostStyleProps, ITooltipHost } from './TooltipHost.types';\n\nexport interface ITooltipHostState {\n  /** @deprecated No longer used internally */\n  isAriaPlaceholderRendered: boolean;\n  isTooltipVisible: boolean;\n}\n\nconst getClassNames = classNamesFunction<ITooltipHostStyleProps, ITooltipHostStyles>();\n\nexport class TooltipHostBase extends React.Component<ITooltipHostProps, ITooltipHostState> implements ITooltipHost {\n  public static defaultProps = {\n    delay: TooltipDelay.medium,\n  };\n\n  private static _currentVisibleTooltip: ITooltipHost | undefined;\n\n  // The wrapping div that gets the hover events\n  private _tooltipHost = React.createRef<HTMLDivElement>();\n\n  private _classNames: { [key in keyof ITooltipHostStyles]: string };\n  private _async: Async;\n  private _dismissTimerId: number;\n  private _openTimerId: number;\n  private _defaultTooltipId = getId('tooltip');\n  private _ignoreNextFocusEvent: boolean;\n\n  // Constructor\n  constructor(props: ITooltipHostProps) {\n    super(props);\n\n    initializeComponentRef(this);\n\n    this.state = {\n      isAriaPlaceholderRendered: false, // eslint-disable-line react/no-unused-state\n      isTooltipVisible: false,\n    };\n\n    this._async = new Async(this);\n  }\n\n  // Render\n  public render(): JSX.Element {\n    const {\n      calloutProps,\n      children,\n      content,\n      directionalHint,\n      directionalHintForRTL,\n      hostClassName: className,\n      id,\n      // eslint-disable-next-line deprecation/deprecation\n      setAriaDescribedBy = true,\n      tooltipProps,\n      styles,\n      theme,\n    } = this.props;\n\n    this._classNames = getClassNames(styles!, {\n      theme: theme!,\n      className,\n    });\n\n    const { isTooltipVisible } = this.state;\n    const tooltipId = id || this._defaultTooltipId;\n    const isContentPresent = !!(\n      content ||\n      (tooltipProps && tooltipProps.onRenderContent && tooltipProps.onRenderContent())\n    );\n    const showTooltip = isTooltipVisible && isContentPresent;\n    const ariaDescribedBy = setAriaDescribedBy && isTooltipVisible && isContentPresent ? tooltipId : undefined;\n\n    return (\n      <div\n        className={this._classNames.root}\n        ref={this._tooltipHost}\n        {...{ onFocusCapture: this._onTooltipFocus }}\n        {...{ onBlurCapture: this._onTooltipBlur }}\n        onMouseEnter={this._onTooltipMouseEnter}\n        onMouseLeave={this._onTooltipMouseLeave}\n        onKeyDown={this._onTooltipKeyDown}\n        role=\"none\"\n        // WARNING: aria-describedby on this node provides no value, since it isn't allowed generic elements\n        aria-describedby={ariaDescribedBy}\n      >\n        {children}\n        {showTooltip && (\n          <Tooltip\n            id={`${tooltipId}--tooltip`}\n            content={content}\n            targetElement={this._getTargetElement()}\n            directionalHint={directionalHint}\n            directionalHintForRTL={directionalHintForRTL}\n            calloutProps={assign({}, calloutProps, {\n              onDismiss: this._hideTooltip,\n              onMouseEnter: this._onTooltipMouseEnter,\n              onMouseLeave: this._onTooltipMouseLeave,\n            })}\n            onMouseEnter={this._onTooltipMouseEnter}\n            onMouseLeave={this._onTooltipMouseLeave}\n            {...getNativeProps(this.props, divProperties, ['id'])} // Make sure we use the id above\n            {...tooltipProps}\n          />\n        )}\n        <div hidden={true} id={tooltipId} style={hiddenContentStyle as React.CSSProperties}>\n          {content}\n        </div>\n      </div>\n    );\n  }\n\n  public componentWillUnmount(): void {\n    if (TooltipHostBase._currentVisibleTooltip && TooltipHostBase._currentVisibleTooltip === this) {\n      TooltipHostBase._currentVisibleTooltip = undefined;\n    }\n\n    this._async.dispose();\n  }\n\n  public show = (): void => {\n    this._toggleTooltip(true);\n  };\n\n  public dismiss = (): void => {\n    this._hideTooltip();\n  };\n\n  private _getTargetElement = (): HTMLElement | undefined => {\n    if (!this._tooltipHost.current) {\n      return undefined;\n    }\n\n    const { overflowMode } = this.props;\n\n    // Select target element based on overflow mode. For parent mode, you want to position the tooltip relative\n    // to the parent element, otherwise it might look off.\n    if (overflowMode !== undefined) {\n      switch (overflowMode) {\n        case TooltipOverflowMode.Parent:\n          return this._tooltipHost.current.parentElement!;\n\n        case TooltipOverflowMode.Self:\n          return this._tooltipHost.current;\n      }\n    }\n\n    return this._tooltipHost.current;\n  };\n\n  private _onTooltipFocus = (ev: React.FocusEvent<HTMLElement>) => {\n    if (this._ignoreNextFocusEvent) {\n      this._ignoreNextFocusEvent = false;\n      return;\n    }\n\n    this._onTooltipMouseEnter(ev);\n  };\n\n  private _onTooltipBlur = (ev: React.FocusEvent<HTMLElement>) => {\n    // The focused element gets a blur event when the document loses focus\n    // (e.g. switching tabs in the browser), but we don't want to show the\n    // tooltip again when the document gets focus back. Handle this case by\n    // checking if the blurred element is still the document's activeElement,\n    // and ignoring when it next gets focus back.\n    // See https://github.com/microsoft/fluentui/issues/13541\n    this._ignoreNextFocusEvent = document?.activeElement === ev.target;\n\n    this._hideTooltip();\n  };\n\n  // Show Tooltip\n  private _onTooltipMouseEnter = (ev: any): void => {\n    const { overflowMode, delay } = this.props;\n\n    if (TooltipHostBase._currentVisibleTooltip && TooltipHostBase._currentVisibleTooltip !== this) {\n      TooltipHostBase._currentVisibleTooltip.dismiss();\n    }\n    TooltipHostBase._currentVisibleTooltip = this;\n\n    if (overflowMode !== undefined) {\n      const overflowElement = this._getTargetElement();\n      if (overflowElement && !hasOverflow(overflowElement)) {\n        return;\n      }\n    }\n\n    if (ev.target && portalContainsElement(ev.target as HTMLElement, this._getTargetElement())) {\n      // Do not show tooltip when target is inside a portal relative to TooltipHost.\n      return;\n    }\n\n    this._clearDismissTimer();\n    this._clearOpenTimer();\n\n    if (delay !== TooltipDelay.zero) {\n      const delayTime = this._getDelayTime(delay!); // non-null assertion because we set it in `defaultProps`\n\n      this._openTimerId = this._async.setTimeout(() => {\n        this._toggleTooltip(true);\n      }, delayTime);\n    } else {\n      this._toggleTooltip(true);\n    }\n  };\n\n  // Hide Tooltip\n  private _onTooltipMouseLeave = (ev: any): void => {\n    const { closeDelay } = this.props;\n\n    this._clearDismissTimer();\n    this._clearOpenTimer();\n\n    if (closeDelay) {\n      this._dismissTimerId = this._async.setTimeout(() => {\n        this._toggleTooltip(false);\n      }, closeDelay);\n    } else {\n      this._toggleTooltip(false);\n    }\n\n    if (TooltipHostBase._currentVisibleTooltip === this) {\n      TooltipHostBase._currentVisibleTooltip = undefined;\n    }\n  };\n\n  private _onTooltipKeyDown = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    // eslint-disable-next-line deprecation/deprecation\n    if ((ev.which === KeyCodes.escape || ev.ctrlKey) && this.state.isTooltipVisible) {\n      this._hideTooltip();\n      ev.stopPropagation();\n    }\n  };\n\n  private _clearDismissTimer = (): void => {\n    this._async.clearTimeout(this._dismissTimerId);\n  };\n\n  private _clearOpenTimer = (): void => {\n    this._async.clearTimeout(this._openTimerId);\n  };\n\n  // Hide Tooltip\n  private _hideTooltip = (): void => {\n    this._clearOpenTimer();\n    this._clearDismissTimer();\n    this._toggleTooltip(false);\n  };\n\n  private _toggleTooltip = (isTooltipVisible: boolean): void => {\n    if (this.state.isTooltipVisible !== isTooltipVisible) {\n      this.setState(\n        { isTooltipVisible },\n        () => this.props.onTooltipToggle && this.props.onTooltipToggle(isTooltipVisible),\n      );\n    }\n  };\n\n  private _getDelayTime = (delay: TooltipDelay): number => {\n    switch (delay) {\n      case TooltipDelay.medium:\n        return 300;\n      case TooltipDelay.long:\n        return 500;\n      default:\n        return 0;\n    }\n  };\n}\n","/**\n * Detects whether an element's content has horizontal overflow\n *\n * @public\n * @param element - Element to check for overflow\n * @returns True if element's content overflows\n */\nexport function hasHorizontalOverflow(element: HTMLElement): boolean {\n  return element.clientWidth < element.scrollWidth;\n}\n\n/**\n * Detects whether an element's content has vertical overflow\n *\n * @public\n * @param element - Element to check for overflow\n * @returns True if element's content overflows\n */\nexport function hasVerticalOverflow(element: HTMLElement): boolean {\n  return element.clientHeight < element.scrollHeight;\n}\n\n/**\n * Detects whether an element's content has overflow in any direction\n *\n * @public\n * @param element - Element to check for overflow\n * @returns True if element's content overflows\n */\nexport function hasOverflow(element: HTMLElement): boolean {\n  return hasHorizontalOverflow(element) || hasVerticalOverflow(element);\n}\n","import { getGlobalClassNames } from '../../Styling';\nimport type { ITooltipHostStyleProps, ITooltipHostStyles } from './TooltipHost.types';\n\nconst GlobalClassNames = {\n  root: 'ms-TooltipHost',\n  ariaPlaceholder: 'ms-TooltipHost-aria-placeholder',\n};\n\nexport const getStyles = (props: ITooltipHostStyleProps): ITooltipHostStyles => {\n  const { className, theme } = props;\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n\n  return {\n    root: [\n      classNames.root,\n      {\n        display: 'inline',\n      },\n      className,\n    ],\n  };\n};\n","import * as React from 'react';\nimport { styled } from '../../Utilities';\nimport { TooltipHostBase } from './TooltipHost.base';\nimport { getStyles } from './TooltipHost.styles';\nimport type { ITooltipHostProps, ITooltipHostStyleProps, ITooltipHostStyles } from './TooltipHost.types';\n\nexport const TooltipHost: React.FunctionComponent<ITooltipHostProps> = styled<\n  ITooltipHostProps,\n  ITooltipHostStyleProps,\n  ITooltipHostStyles\n>(TooltipHostBase, getStyles, undefined, {\n  scope: 'TooltipHost',\n});\n","import * as React from 'react';\nimport { TooltipHostBase } from './TooltipHost.base';\nimport { TooltipDelay } from './Tooltip.types';\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport type { ITooltipProps } from './Tooltip.types';\nimport type { ICalloutProps } from '../../Callout';\nimport type { IRefObject, IStyleFunctionOrObject } from '../../Utilities';\nimport type { IStyle, ITheme } from '../../Styling';\n\n/**\n * {@docCategory Tooltip}\n */\nexport interface ITooltipHost {\n  /**\n   * Shows the tooltip.\n   */\n  show: () => void;\n\n  /**\n   * Dismisses the tooltip.\n   */\n  dismiss: () => void;\n}\n\n/**\n * {@docCategory Tooltip}\n */\nexport enum TooltipOverflowMode {\n  /** Only show tooltip if parent DOM element is overflowing */\n  Parent,\n\n  /**\n   * Only show tooltip if tooltip host's content is overflowing.\n   * Note that this does not check the children for overflow, only the TooltipHost root.\n   */\n  Self,\n}\n\n/**\n * TooltipHost props. Note that native props (such as `id`, `className`, and `aria-` props) are\n * passed through to the Tooltip itself, rather than being used on the host element.\n * {@docCategory Tooltip}\n */\nexport interface ITooltipHostProps extends React.HTMLAttributes<HTMLDivElement | TooltipHostBase> {\n  /**\n   * Optional callback to access the ITooltipHost interface. Use this instead of ref for accessing\n   * the public methods and properties of the component.\n   */\n  componentRef?: IRefObject<ITooltipHost>;\n\n  /**\n   * Additional properties to pass through for Callout.\n   */\n  calloutProps?: ICalloutProps;\n\n  /**\n   * Number of milliseconds to delay closing the tooltip, so that the user has time to hover over\n   * the tooltip and interact with it. Hovering over the tooltip will count as hovering over the\n   * host, so that the tooltip will stay open if the user is actively interacting with it.\n   */\n  closeDelay?: number;\n\n  /**\n   * Content to display in the Tooltip.\n   */\n  content?: string | JSX.Element | JSX.Element[];\n\n  /**\n   * Length of delay before showing the tooltip on hover.\n   * @defaultvalue TooltipDelay.medium\n   */\n  delay?: TooltipDelay;\n\n  /**\n   * How the tooltip should be anchored to its `targetElement`.\n   * @defaultvalue DirectionalHint.topCenter\n   */\n  directionalHint?: DirectionalHint;\n\n  /**\n   * How the element should be positioned in RTL layouts.\n   * If not specified, a mirror of `directionalHint` will be used.\n   */\n  directionalHintForRTL?: DirectionalHint;\n\n  /**\n   * Class name to apply to tooltip host.\n   */\n  hostClassName?: string;\n\n  /**\n   * Class name to apply to the *tooltip itself*, not the host.\n   * To apply a class to the host, use `hostClassName` or `styles.root`.\n   */\n  className?: string;\n\n  /**\n   * If this is unset (the default), the tooltip is always shown even if there's no overflow.\n   *\n   * If set, only show the tooltip if the specified element (`Self` or `Parent`) has overflow.\n   * When set to `Parent`, the parent element is also used as the tooltip's target element.\n   *\n   * Note that even with `Self` mode, the TooltipHost *does not* check whether any children have overflow.\n   */\n  overflowMode?: TooltipOverflowMode;\n\n  /**\n   * Whether or not to mark the TooltipHost root element as described by the tooltip.\n   * Since this applies aria-describedby to a generic <div>, the description will not be\n   * read by screen readers. Instead, the caller should pass an `id` to the TooltipHost\n   * (to be passed through to the Tooltip) and mark the appropriate element as `aria-describedby`\n   * with the `id`.\n   * @defaultvalue true\n   * @deprecated use aria-describedby on the appropriate element instead\n   */\n  setAriaDescribedBy?: boolean;\n\n  /**\n   * Additional properties to pass through for Tooltip.\n   */\n  tooltipProps?: ITooltipProps;\n\n  /**\n   * Optional ID to pass through to the tooltip (not used on the host itself).\n   * Auto-generated if not provided.\n   */\n  id?: string;\n\n  /**\n   * Call to provide customized styling that will layer on top of the variant rules.\n   */\n  styles?: IStyleFunctionOrObject<ITooltipHostStyleProps, ITooltipHostStyles>;\n\n  /**\n   * Theme provided by higher-order component.\n   */\n  theme?: ITheme;\n\n  /**\n   * Notifies when tooltip becomes visible or hidden, whatever the trigger was.\n   */\n  onTooltipToggle?(isTooltipVisible: boolean): void;\n}\n\n/**\n * {@docCategory Tooltip}\n */\nexport interface ITooltipHostStyleProps {\n  theme: ITheme;\n  className?: string;\n}\n\n/**\n * {@docCategory Tooltip}\n */\nexport interface ITooltipHostStyles {\n  /**\n   * Style for the host wrapper element.\n   */\n  root: IStyle;\n}\n","export namespace CommunicationColors {\n  export const shade30 = '#004578';\n  export const shade20 = '#005a9e';\n  export const shade10 = '#106ebe';\n  export const primary = '#0078d4';\n  export const tint10 = '#2b88d8';\n  export const tint20 = '#c7e0f4';\n  export const tint30 = '#deecf9';\n  export const tint40 = '#eff6fc';\n}\n\nexport namespace NeutralColors {\n  export const black = '#000000';\n  export const gray220 = '#11100f';\n  export const gray210 = '#161514';\n  export const gray200 = '#1b1a19';\n  export const gray190 = '#201f1e';\n  export const gray180 = '#252423';\n  export const gray170 = '#292827';\n  export const gray160 = '#323130';\n  export const gray150 = '#3b3a39';\n  export const gray140 = '#484644';\n  export const gray130 = '#605e5c';\n  export const gray120 = '#797775';\n  export const gray110 = '#8a8886';\n  export const gray100 = '#979593';\n  export const gray90 = '#a19f9d';\n  export const gray80 = '#b3b0ad';\n  export const gray70 = '#bebbb8';\n  export const gray60 = '#c8c6c4';\n  export const gray50 = '#d2d0ce';\n  export const gray40 = '#e1dfdd';\n  export const gray30 = '#edebe9';\n  export const gray20 = '#f3f2f1';\n  export const gray10 = '#faf9f8';\n  export const white = '#ffffff';\n}\n\nexport namespace SharedColors {\n  export const pinkRed10 = '#750b1c';\n  export const red20 = '#a4262c';\n  export const red10 = '#d13438';\n  export const redOrange20 = '#603d30';\n  export const redOrange10 = '#da3b01';\n  export const orange30 = '#8e562e';\n  export const orange20 = '#ca5010';\n  export const orange10 = '#ffaa44';\n  export const yellow10 = '#fce100';\n  export const orangeYellow20 = '#986f0b';\n  export const orangeYellow10 = '#c19c00';\n  export const yellowGreen10 = '#8cbd18';\n  export const green20 = '#0b6a0b';\n  export const green10 = '#498205';\n  export const greenCyan10 = '#00ad56';\n  export const cyan40 = '#005e50';\n  export const cyan30 = '#005b70';\n  export const cyan20 = '#038387';\n  export const cyan10 = '#00b7c3';\n  export const cyanBlue20 = '#004e8c';\n  export const cyanBlue10 = '#0078d4';\n  export const blue10 = '#4f6bed';\n  export const blueMagenta40 = '#373277';\n  export const blueMagenta30 = '#5c2e91';\n  export const blueMagenta20 = '#8764b8';\n  export const blueMagenta10 = '#8378de';\n  export const magenta20 = '#881798';\n  export const magenta10 = '#c239b3';\n  export const magentaPink20 = '#9b0062';\n  export const magentaPink10 = '#e3008c';\n  export const gray40 = '#393939';\n  export const gray30 = '#7a7574';\n  export const gray20 = '#69797e';\n  export const gray10 = '#a0aeb2';\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","'use strict';\n\n/**\n * @typedef {{ [key: string]: any }} Extensions\n * @typedef {Error} Err\n * @property {string} message\n */\n\n/**\n *\n * @param {Error} obj\n * @param {Extensions} props\n * @returns {Error & Extensions}\n */\nfunction assign(obj, props) {\n    for (const key in props) {\n        Object.defineProperty(obj, key, {\n            value: props[key],\n            enumerable: true,\n            configurable: true,\n        });\n    }\n\n    return obj;\n}\n\n/**\n *\n * @param {any} err - An Error\n * @param {string|Extensions} code - A string code or props to set on the error\n * @param {Extensions} [props] - Props to set on the error\n * @returns {Error & Extensions}\n */\nfunction createError(err, code, props) {\n    if (!err || typeof err === 'string') {\n        throw new TypeError('Please pass an Error to err-code');\n    }\n\n    if (!props) {\n        props = {};\n    }\n\n    if (typeof code === 'object') {\n        props = code;\n        code = '';\n    }\n\n    if (code) {\n        props.code = code;\n    }\n\n    try {\n        return assign(err, props);\n    } catch (_) {\n        props.message = err.message;\n        props.stack = err.stack;\n\n        const ErrClass = function () {};\n\n        ErrClass.prototype = Object.create(Object.getPrototypeOf(err));\n\n        // @ts-ignore\n        const output = assign(new ErrClass(), props);\n\n        return output;\n    }\n}\n\nmodule.exports = createError;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","// originally pulled out of simple-peer\n\nmodule.exports = function getBrowserRTC () {\n  if (typeof globalThis === 'undefined') return null\n  var wrtc = {\n    RTCPeerConnection: globalThis.RTCPeerConnection || globalThis.mozRTCPeerConnection ||\n      globalThis.webkitRTCPeerConnection,\n    RTCSessionDescription: globalThis.RTCSessionDescription ||\n      globalThis.mozRTCSessionDescription || globalThis.webkitRTCSessionDescription,\n    RTCIceCandidate: globalThis.RTCIceCandidate || globalThis.mozRTCIceCandidate ||\n      globalThis.webkitRTCIceCandidate\n  }\n  if (!wrtc.RTCPeerConnection) return null\n  return wrtc\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nlet promise\n\nmodule.exports = typeof queueMicrotask === 'function'\n  ? queueMicrotask.bind(typeof window !== 'undefined' ? window : global)\n  // reuse resolved promise, and allocate it lazily\n  : cb => (promise || (promise = Promise.resolve()))\n    .then(cb)\n    .catch(err => setTimeout(() => { throw err }, 0))\n","'use strict'\n\n// limit of Crypto.getRandomValues()\n// https://developer.mozilla.org/en-US/docs/Web/API/Crypto/getRandomValues\nvar MAX_BYTES = 65536\n\n// Node supports requesting up to this number of bytes\n// https://github.com/nodejs/node/blob/master/lib/internal/crypto/random.js#L48\nvar MAX_UINT32 = 4294967295\n\nfunction oldBrowser () {\n  throw new Error('Secure random number generation is not supported by this browser.\\nUse Chrome, Firefox or Internet Explorer 11')\n}\n\nvar Buffer = require('safe-buffer').Buffer\nvar crypto = global.crypto || global.msCrypto\n\nif (crypto && crypto.getRandomValues) {\n  module.exports = randomBytes\n} else {\n  module.exports = oldBrowser\n}\n\nfunction randomBytes (size, cb) {\n  // phantomjs needs to throw\n  if (size > MAX_UINT32) throw new RangeError('requested too many random bytes')\n\n  var bytes = Buffer.allocUnsafe(size)\n\n  if (size > 0) {  // getRandomValues fails on IE if size == 0\n    if (size > MAX_BYTES) { // this is the max bytes crypto.getRandomValues\n      // can do at once see https://developer.mozilla.org/en-US/docs/Web/API/window.crypto.getRandomValues\n      for (var generated = 0; generated < size; generated += MAX_BYTES) {\n        // buffer.slice automatically checks if the end is past the end of\n        // the buffer so we don't have to here\n        crypto.getRandomValues(bytes.slice(generated, generated + MAX_BYTES))\n      }\n    } else {\n      crypto.getRandomValues(bytes)\n    }\n  }\n\n  if (typeof cb === 'function') {\n    return process.nextTick(function () {\n      cb(null, bytes)\n    })\n  }\n\n  return bytes\n}\n","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n'use strict';\n/*<replacement>*/\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n\n  for (var key in obj) {\n    keys.push(key);\n  }\n\n  return keys;\n};\n/*</replacement>*/\n\n\nmodule.exports = Duplex;\n\nvar Readable = require('./_stream_readable');\n\nvar Writable = require('./_stream_writable');\n\nrequire('inherits')(Duplex, Readable);\n\n{\n  // Allow the keys array to be GC'ed.\n  var keys = objectKeys(Writable.prototype);\n\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n}); // the no-half-open enforcer\n\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return; // no more data can be written.\n  // But allow more writes to happen in this tick.\n\n  process.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\nrequire('inherits')(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nmodule.exports = Readable;\n/*<replacement>*/\n\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n/*<replacement>*/\n\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n/*<replacement>*/\n\n\nvar debugUtil = require('util');\n\nvar debug;\n\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\n\nvar BufferList = require('./internal/streams/buffer_list');\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT; // Lazy loaded to improve the startup performance.\n\n\nvar StringDecoder;\nvar createReadableStreamAsyncIterator;\nvar from;\n\nrequire('inherits')(Readable, Stream);\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn); // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode; // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex); // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false; // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n\n  this.sync = true; // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'end' (and potentially 'finish')\n\n  this.autoDestroy = !!options.autoDestroy; // has it been destroyed\n\n  this.destroyed = false; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // the number of writers that are awaiting a drain event in .pipe()s\n\n  this.awaitDrain = 0; // if true, a maybeReadMore has been scheduled\n\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options); // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex); // legacy\n\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\n\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n}; // Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\n\n\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n}; // Unshift should *always* be something directly out of read()\n\n\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n\n    if (er) {\n      errorOrDestroy(stream, er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  } // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n\n\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n\n  return er;\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n}; // backwards compatibility.\n\n\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  var decoder = new StringDecoder(enc);\n  this._readableState.decoder = decoder; // If setEncoding(null), decoder.encoding equals utf8\n\n  this._readableState.encoding = this._readableState.decoder.encoding; // Iterate over current buffer to convert already stored Buffers:\n\n  var p = this._readableState.buffer.head;\n  var content = '';\n\n  while (p !== null) {\n    content += decoder.write(p.data);\n    p = p.next;\n  }\n\n  this._readableState.buffer.clear();\n\n  if (content !== '') this._readableState.buffer.push(content);\n  this._readableState.length = content.length;\n  return this;\n}; // Don't raise the hwm > 1GB\n\n\nvar MAX_HWM = 0x40000000;\n\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    // TODO(ronag): Throw ERR_VALUE_OUT_OF_RANGE.\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n\n  return n;\n} // This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\n\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  } // If we're asking for more than the current hwm, then raise the hwm.\n\n\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n; // Don't have enough\n\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n\n  return state.length;\n} // you can override either this method, or the async _read(n) below.\n\n\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false; // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state); // if we've ended, and we're now clear, then finish it up.\n\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  } // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n  // if we need a readable event, then we need to do some reading.\n\n\n  var doRead = state.needReadable;\n  debug('need readable', doRead); // if we currently have less than the highWaterMark, then also read some\n\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  } // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n\n\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true; // if the length is currently zero, then we *need* a readable event.\n\n    if (state.length === 0) state.needReadable = true; // call internal read method\n\n    this._read(state.highWaterMark);\n\n    state.sync = false; // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true; // If we tried to read() past the EOF, then emit end on the next tick.\n\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk');\n  if (state.ended) return;\n\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n\n  state.ended = true;\n\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n} // Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\n\n\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  debug('emitReadable', state.needReadable, state.emittedReadable);\n  state.needReadable = false;\n\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n    state.emittedReadable = false;\n  } // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n\n\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n} // at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\n\n\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    var len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length) // didn't get any data, stop spinning.\n      break;\n  }\n\n  state.readingMore = false;\n} // abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\n\n\nReadable.prototype._read = function (n) {\n  errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  } // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n\n\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n\n  function cleanup() {\n    debug('cleanup'); // cleanup event handlers once the pipe is broken\n\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true; // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  src.on('data', ondata);\n\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n\n      src.pause();\n    }\n  } // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n\n\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) errorOrDestroy(dest, er);\n  } // Make sure our error handler is attached before userland ones.\n\n\n  prependListener(dest, 'error', onerror); // Both close and finish should trigger unpipe, but only once.\n\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n\n  dest.once('close', onclose);\n\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  } // tell the dest that it's being piped to\n\n\n  dest.emit('pipe', src); // start the flow if it hasn't been started already.\n\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  }; // if we're not piping anywhere, then do nothing.\n\n  if (state.pipesCount === 0) return this; // just one destination.  most common case.\n\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes; // got a match.\n\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  } // slow case. multiple pipe destinations.\n\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      });\n    }\n\n    return this;\n  } // try to find the right one.\n\n\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n}; // set up data events if they are asked for\n// Ensure readable listeners eventually get something\n\n\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n  var state = this._readableState;\n\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0; // Try start flowing on next tick if stream isn't explicitly paused\n\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n\n  return res;\n};\n\nReadable.prototype.addListener = Readable.prototype.on;\n\nReadable.prototype.removeListener = function (ev, fn) {\n  var res = Stream.prototype.removeListener.call(this, ev, fn);\n\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nReadable.prototype.removeAllListeners = function (ev) {\n  var res = Stream.prototype.removeAllListeners.apply(this, arguments);\n\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nfunction updateReadableListening(self) {\n  var state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true; // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n} // pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\n\n\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n\n  if (!state.flowing) {\n    debug('resume'); // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n\n  state.paused = false;\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n\n  if (!state.reading) {\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n\n  this._readableState.paused = true;\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n\n  while (state.flowing && stream.read() !== null) {\n    ;\n  }\n} // wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\n\n\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', function () {\n    debug('wrapped end');\n\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk); // don't skip over falsy values in objectMode\n\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  }); // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  } // proxy certain important events.\n\n\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  } // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n\n\n  this._read = function (n) {\n    debug('wrapped _read', n);\n\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n\n    return createReadableStreamAsyncIterator(this);\n  };\n}\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n}); // exposed for testing purposes only.\n\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.length;\n  }\n}); // Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length); // Check that we didn't get one last unshift.\n\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n\n    if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well\n      var wState = stream._writableState;\n\n      if (!wState || wState.autoDestroy && wState.finished) {\n        stream.destroy();\n      }\n    }\n  }\n}\n\nif (typeof Symbol === 'function') {\n  Readable.from = function (iterable, opts) {\n    if (from === undefined) {\n      from = require('./internal/streams/from');\n    }\n\n    return from(Readable, iterable, opts);\n  };\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n'use strict';\n\nmodule.exports = Transform;\n\nvar _require$codes = require('../errors').codes,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n    ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\n\nvar Duplex = require('./_stream_duplex');\n\nrequire('inherits')(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  }; // start out asking for a readable event once data is transformed.\n\n  this._readableState.needReadable = true; // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  } // When the writable side finishes, then flush out anything remaining.\n\n\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n}; // This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\n\n\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n}; // Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\n\n\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data); // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n'use strict';\n\nmodule.exports = Writable;\n/* <replacement> */\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n} // It seems a linked list but it is not\n// there will be only 2 of these for each stream\n\n\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\n\n\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n/*<replacement>*/\n\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n    ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n    ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n    ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\n\nrequire('inherits')(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode; // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex); // if _final has been called\n\n  this.finalCalled = false; // drain event flag.\n\n  this.needDrain = false; // at the start of calling end()\n\n  this.ending = false; // when end() has been called, and returned\n\n  this.ended = false; // when 'finish' is emitted\n\n  this.finished = false; // has it been destroyed\n\n  this.destroyed = false; // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n\n  this.length = 0; // a flag to see when we're in the middle of a write.\n\n  this.writing = false; // when true all writes will be buffered until .uncork() call\n\n  this.corked = 0; // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n\n  this.sync = true; // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n\n  this.bufferProcessing = false; // the callback that's passed to _write(chunk,cb)\n\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  }; // the callback that the user supplies to write(chunk,encoding,cb)\n\n\n  this.writecb = null; // the amount that is being written when _write is called.\n\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null; // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n\n  this.pendingcb = 0; // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n\n  this.prefinished = false; // True if the error was already emitted and should not be thrown again\n\n  this.errorEmitted = false; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'finish' (and potentially 'end')\n\n  this.autoDestroy = !!options.autoDestroy; // count buffered requests\n\n  this.bufferedRequestCount = 0; // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})(); // Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\n\n\nvar realHasInstance;\n\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex'); // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex); // legacy.\n\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n} // Otherwise people can pipe Writable streams, which is just wrong.\n\n\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END(); // TODO: defer error events consistently everywhere, not just the cb\n\n  errorOrDestroy(stream, er);\n  process.nextTick(cb, er);\n} // Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\n\n\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n\n  if (er) {\n    errorOrDestroy(stream, er);\n    process.nextTick(cb, er);\n    return false;\n  }\n\n  return true;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n}); // if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\n\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark; // we must ensure that previous needDrain will not be reset to false.\n\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er); // this can emit finish, and it will always happen\n    // after error\n\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er); // this can emit finish, but finish must\n    // always follow error\n\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n} // Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\n\n\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n} // if there's something in the buffer waiting, then process it\n\n\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish); // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--; // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding); // .end() fully uncorks\n\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  } // ignore unnecessary end() calls.\n\n\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n\n    if (err) {\n      errorOrDestroy(stream, err);\n    }\n\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n\n  if (need) {\n    prefinish(stream, state);\n\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n\n      if (state.autoDestroy) {\n        // In case of duplex streams we need a way to detect\n        // if the readable side is ready for autoDestroy as well\n        var rState = stream._readableState;\n\n        if (!rState || rState.autoDestroy && rState.endEmitted) {\n          stream.destroy();\n        }\n      }\n    }\n  }\n\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  } // reuse the free corkReq.\n\n\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n\n    return this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\n\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","'use strict';\n\nvar _Object$setPrototypeO;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar finished = require('./end-of-stream');\n\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\n\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\n\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n\n  if (resolve !== null) {\n    var data = iter[kStream].read(); // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\n\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\n\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\n\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n\n  next: function next() {\n    var _this = this;\n\n    // if we have detected an error in the meanwhile\n    // reject straight away\n    var error = this[kError];\n\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    } // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n\n\n    var lastPromise = this[kLastPromise];\n    var promise;\n\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n\n      promise = new Promise(this[kHandlePromise]);\n    }\n\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this;\n\n  // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\n\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject]; // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n\n      iterator[kError] = err;\n      return;\n    }\n\n    var resolve = iterator[kLastResolve];\n\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\n\nmodule.exports = createReadableStreamAsyncIterator;","'use strict';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar _require = require('buffer'),\n    Buffer = _require.Buffer;\n\nvar _require2 = require('util'),\n    inspect = _require2.inspect;\n\nvar custom = inspect && inspect.custom || 'inspect';\n\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\n\nmodule.exports =\n/*#__PURE__*/\nfunction () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  _createClass(BufferList, [{\n    key: \"push\",\n    value: function push(v) {\n      var entry = {\n        data: v,\n        next: null\n      };\n      if (this.length > 0) this.tail.next = entry;else this.head = entry;\n      this.tail = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(v) {\n      var entry = {\n        data: v,\n        next: this.head\n      };\n      if (this.length === 0) this.tail = entry;\n      this.head = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      if (this.length === 0) return;\n      var ret = this.head.data;\n      if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n      --this.length;\n      return ret;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.head = this.tail = null;\n      this.length = 0;\n    }\n  }, {\n    key: \"join\",\n    value: function join(s) {\n      if (this.length === 0) return '';\n      var p = this.head;\n      var ret = '' + p.data;\n\n      while (p = p.next) {\n        ret += s + p.data;\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"concat\",\n    value: function concat(n) {\n      if (this.length === 0) return Buffer.alloc(0);\n      var ret = Buffer.allocUnsafe(n >>> 0);\n      var p = this.head;\n      var i = 0;\n\n      while (p) {\n        copyBuffer(p.data, ret, i);\n        i += p.data.length;\n        p = p.next;\n      }\n\n      return ret;\n    } // Consumes a specified amount of bytes or characters from the buffered data.\n\n  }, {\n    key: \"consume\",\n    value: function consume(n, hasStrings) {\n      var ret;\n\n      if (n < this.head.data.length) {\n        // `slice` is the same for buffers and strings.\n        ret = this.head.data.slice(0, n);\n        this.head.data = this.head.data.slice(n);\n      } else if (n === this.head.data.length) {\n        // First chunk is a perfect match.\n        ret = this.shift();\n      } else {\n        // Result spans more than one buffer.\n        ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      return this.head.data;\n    } // Consumes a specified amount of characters from the buffered data.\n\n  }, {\n    key: \"_getString\",\n    value: function _getString(n) {\n      var p = this.head;\n      var c = 1;\n      var ret = p.data;\n      n -= ret.length;\n\n      while (p = p.next) {\n        var str = p.data;\n        var nb = n > str.length ? str.length : n;\n        if (nb === str.length) ret += str;else ret += str.slice(0, n);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === str.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = str.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Consumes a specified amount of bytes from the buffered data.\n\n  }, {\n    key: \"_getBuffer\",\n    value: function _getBuffer(n) {\n      var ret = Buffer.allocUnsafe(n);\n      var p = this.head;\n      var c = 1;\n      p.data.copy(ret);\n      n -= p.data.length;\n\n      while (p = p.next) {\n        var buf = p.data;\n        var nb = n > buf.length ? buf.length : n;\n        buf.copy(ret, ret.length - n, 0, nb);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === buf.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = buf.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Make sure the linked list only shows the minimal necessary information.\n\n  }, {\n    key: custom,\n    value: function value(_, options) {\n      return inspect(this, _objectSpread({}, options, {\n        // Only inspect one level.\n        depth: 0,\n        // It should not recurse.\n        customInspect: false\n      }));\n    }\n  }]);\n\n  return BufferList;\n}();","'use strict'; // undocumented cb() API, needed for core, not for public API\n\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorNT, this, err);\n      }\n    }\n\n    return this;\n  } // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  } // if this is a duplex stream mark the writable part as destroyed as well\n\n\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      if (!_this._writableState) {\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else if (!_this._writableState.errorEmitted) {\n        _this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else {\n        process.nextTick(emitCloseNT, _this);\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n\n  return this;\n}\n\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\n\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nfunction errorOrDestroy(stream, err) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n  var rState = stream._readableState;\n  var wState = stream._writableState;\n  if (rState && rState.autoDestroy || wState && wState.autoDestroy) stream.destroy(err);else stream.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy,\n  errorOrDestroy: errorOrDestroy\n};","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    callback.apply(this, args);\n  };\n}\n\nfunction noop() {}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n\n  var writableEnded = stream._writableState && stream._writableState.finished;\n\n  var onfinish = function onfinish() {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n\n  var onend = function onend() {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n\n  var onclose = function onclose() {\n    var err;\n\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\n\nmodule.exports = eos;","module.exports = function () {\n  throw new Error('Readable.from is not available in the browser')\n};\n","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar eos;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback.apply(void 0, arguments);\n  };\n}\n\nvar _require$codes = require('../../../errors').codes,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\n\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true; // request.destroy just do .end - .abort is what we want\n\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\n\nfunction call(fn) {\n  fn();\n}\n\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\n\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\n\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n\n  var callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\n\nmodule.exports = pipeline;","'use strict';\n\nvar ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\n\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\n\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      var name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n\n    return Math.floor(hwm);\n  } // Default value\n\n\n  return state.objectMode ? 16 : 16 * 1024;\n}\n\nmodule.exports = {\n  getHighWaterMark: getHighWaterMark\n};","module.exports = require('events').EventEmitter;\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nexports.finished = require('./lib/internal/streams/end-of-stream.js');\nexports.pipeline = require('./lib/internal/streams/pipeline.js');\n","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nconst debug = require('debug')('simple-peer')\nconst getBrowserRTC = require('get-browser-rtc')\nconst randombytes = require('randombytes')\nconst stream = require('readable-stream')\nconst queueMicrotask = require('queue-microtask') // TODO: remove when Node 10 is not supported\nconst errCode = require('err-code')\nconst { Buffer } = require('buffer')\n\nconst MAX_BUFFERED_AMOUNT = 64 * 1024\nconst ICECOMPLETE_TIMEOUT = 5 * 1000\nconst CHANNEL_CLOSING_TIMEOUT = 5 * 1000\n\n// HACK: Filter trickle lines when trickle is disabled #354\nfunction filterTrickle (sdp) {\n  return sdp.replace(/a=ice-options:trickle\\s\\n/g, '')\n}\n\nfunction warn (message) {\n  console.warn(message)\n}\n\n/**\n * WebRTC peer connection. Same API as node core `net.Socket`, plus a few extra methods.\n * Duplex stream.\n * @param {Object} opts\n */\nclass Peer extends stream.Duplex {\n  constructor (opts) {\n    opts = Object.assign({\n      allowHalfOpen: false\n    }, opts)\n\n    super(opts)\n\n    this._id = randombytes(4).toString('hex').slice(0, 7)\n    this._debug('new peer %o', opts)\n\n    this.channelName = opts.initiator\n      ? opts.channelName || randombytes(20).toString('hex')\n      : null\n\n    this.initiator = opts.initiator || false\n    this.channelConfig = opts.channelConfig || Peer.channelConfig\n    this.channelNegotiated = this.channelConfig.negotiated\n    this.config = Object.assign({}, Peer.config, opts.config)\n    this.offerOptions = opts.offerOptions || {}\n    this.answerOptions = opts.answerOptions || {}\n    this.sdpTransform = opts.sdpTransform || (sdp => sdp)\n    this.streams = opts.streams || (opts.stream ? [opts.stream] : []) // support old \"stream\" option\n    this.trickle = opts.trickle !== undefined ? opts.trickle : true\n    this.allowHalfTrickle = opts.allowHalfTrickle !== undefined ? opts.allowHalfTrickle : false\n    this.iceCompleteTimeout = opts.iceCompleteTimeout || ICECOMPLETE_TIMEOUT\n\n    this.destroyed = false\n    this.destroying = false\n    this._connected = false\n\n    this.remoteAddress = undefined\n    this.remoteFamily = undefined\n    this.remotePort = undefined\n    this.localAddress = undefined\n    this.localFamily = undefined\n    this.localPort = undefined\n\n    this._wrtc = (opts.wrtc && typeof opts.wrtc === 'object')\n      ? opts.wrtc\n      : getBrowserRTC()\n\n    if (!this._wrtc) {\n      if (typeof window === 'undefined') {\n        throw errCode(new Error('No WebRTC support: Specify `opts.wrtc` option in this environment'), 'ERR_WEBRTC_SUPPORT')\n      } else {\n        throw errCode(new Error('No WebRTC support: Not a supported browser'), 'ERR_WEBRTC_SUPPORT')\n      }\n    }\n\n    this._pcReady = false\n    this._channelReady = false\n    this._iceComplete = false // ice candidate trickle done (got null candidate)\n    this._iceCompleteTimer = null // send an offer/answer anyway after some timeout\n    this._channel = null\n    this._pendingCandidates = []\n\n    this._isNegotiating = false // is this peer waiting for negotiation to complete?\n    this._firstNegotiation = true\n    this._batchedNegotiation = false // batch synchronous negotiations\n    this._queuedNegotiation = false // is there a queued negotiation request?\n    this._sendersAwaitingStable = []\n    this._senderMap = new Map()\n    this._closingInterval = null\n\n    this._remoteTracks = []\n    this._remoteStreams = []\n\n    this._chunk = null\n    this._cb = null\n    this._interval = null\n\n    try {\n      this._pc = new (this._wrtc.RTCPeerConnection)(this.config)\n    } catch (err) {\n      this.destroy(errCode(err, 'ERR_PC_CONSTRUCTOR'))\n      return\n    }\n\n    // We prefer feature detection whenever possible, but sometimes that's not\n    // possible for certain implementations.\n    this._isReactNativeWebrtc = typeof this._pc._peerConnectionId === 'number'\n\n    this._pc.oniceconnectionstatechange = () => {\n      this._onIceStateChange()\n    }\n    this._pc.onicegatheringstatechange = () => {\n      this._onIceStateChange()\n    }\n    this._pc.onconnectionstatechange = () => {\n      this._onConnectionStateChange()\n    }\n    this._pc.onsignalingstatechange = () => {\n      this._onSignalingStateChange()\n    }\n    this._pc.onicecandidate = event => {\n      this._onIceCandidate(event)\n    }\n\n    // HACK: Fix for odd Firefox behavior, see: https://github.com/feross/simple-peer/pull/783\n    if (typeof this._pc.peerIdentity === 'object') {\n      this._pc.peerIdentity.catch(err => {\n        this.destroy(errCode(err, 'ERR_PC_PEER_IDENTITY'))\n      })\n    }\n\n    // Other spec events, unused by this implementation:\n    // - onconnectionstatechange\n    // - onicecandidateerror\n    // - onfingerprintfailure\n    // - onnegotiationneeded\n\n    if (this.initiator || this.channelNegotiated) {\n      this._setupData({\n        channel: this._pc.createDataChannel(this.channelName, this.channelConfig)\n      })\n    } else {\n      this._pc.ondatachannel = event => {\n        this._setupData(event)\n      }\n    }\n\n    if (this.streams) {\n      this.streams.forEach(stream => {\n        this.addStream(stream)\n      })\n    }\n    this._pc.ontrack = event => {\n      this._onTrack(event)\n    }\n\n    this._debug('initial negotiation')\n    this._needsNegotiation()\n\n    this._onFinishBound = () => {\n      this._onFinish()\n    }\n    this.once('finish', this._onFinishBound)\n  }\n\n  get bufferSize () {\n    return (this._channel && this._channel.bufferedAmount) || 0\n  }\n\n  // HACK: it's possible channel.readyState is \"closing\" before peer.destroy() fires\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=882743\n  get connected () {\n    return (this._connected && this._channel.readyState === 'open')\n  }\n\n  address () {\n    return { port: this.localPort, family: this.localFamily, address: this.localAddress }\n  }\n\n  signal (data) {\n    if (this.destroying) return\n    if (this.destroyed) throw errCode(new Error('cannot signal after peer is destroyed'), 'ERR_DESTROYED')\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data)\n      } catch (err) {\n        data = {}\n      }\n    }\n    this._debug('signal()')\n\n    if (data.renegotiate && this.initiator) {\n      this._debug('got request to renegotiate')\n      this._needsNegotiation()\n    }\n    if (data.transceiverRequest && this.initiator) {\n      this._debug('got request for transceiver')\n      this.addTransceiver(data.transceiverRequest.kind, data.transceiverRequest.init)\n    }\n    if (data.candidate) {\n      if (this._pc.remoteDescription && this._pc.remoteDescription.type) {\n        this._addIceCandidate(data.candidate)\n      } else {\n        this._pendingCandidates.push(data.candidate)\n      }\n    }\n    if (data.sdp) {\n      this._pc.setRemoteDescription(new (this._wrtc.RTCSessionDescription)(data))\n        .then(() => {\n          if (this.destroyed) return\n\n          this._pendingCandidates.forEach(candidate => {\n            this._addIceCandidate(candidate)\n          })\n          this._pendingCandidates = []\n\n          if (this._pc.remoteDescription.type === 'offer') this._createAnswer()\n        })\n        .catch(err => {\n          this.destroy(errCode(err, 'ERR_SET_REMOTE_DESCRIPTION'))\n        })\n    }\n    if (!data.sdp && !data.candidate && !data.renegotiate && !data.transceiverRequest) {\n      this.destroy(errCode(new Error('signal() called with invalid signal data'), 'ERR_SIGNALING'))\n    }\n  }\n\n  _addIceCandidate (candidate) {\n    const iceCandidateObj = new this._wrtc.RTCIceCandidate(candidate)\n    this._pc.addIceCandidate(iceCandidateObj)\n      .catch(err => {\n        if (!iceCandidateObj.address || iceCandidateObj.address.endsWith('.local')) {\n          warn('Ignoring unsupported ICE candidate.')\n        } else {\n          this.destroy(errCode(err, 'ERR_ADD_ICE_CANDIDATE'))\n        }\n      })\n  }\n\n  /**\n   * Send text/binary data to the remote peer.\n   * @param {ArrayBufferView|ArrayBuffer|Buffer|string|Blob} chunk\n   */\n  send (chunk) {\n    if (this.destroying) return\n    if (this.destroyed) throw errCode(new Error('cannot send after peer is destroyed'), 'ERR_DESTROYED')\n    this._channel.send(chunk)\n  }\n\n  /**\n   * Add a Transceiver to the connection.\n   * @param {String} kind\n   * @param {Object} init\n   */\n  addTransceiver (kind, init) {\n    if (this.destroying) return\n    if (this.destroyed) throw errCode(new Error('cannot addTransceiver after peer is destroyed'), 'ERR_DESTROYED')\n    this._debug('addTransceiver()')\n\n    if (this.initiator) {\n      try {\n        this._pc.addTransceiver(kind, init)\n        this._needsNegotiation()\n      } catch (err) {\n        this.destroy(errCode(err, 'ERR_ADD_TRANSCEIVER'))\n      }\n    } else {\n      this.emit('signal', { // request initiator to renegotiate\n        type: 'transceiverRequest',\n        transceiverRequest: { kind, init }\n      })\n    }\n  }\n\n  /**\n   * Add a MediaStream to the connection.\n   * @param {MediaStream} stream\n   */\n  addStream (stream) {\n    if (this.destroying) return\n    if (this.destroyed) throw errCode(new Error('cannot addStream after peer is destroyed'), 'ERR_DESTROYED')\n    this._debug('addStream()')\n\n    stream.getTracks().forEach(track => {\n      this.addTrack(track, stream)\n    })\n  }\n\n  /**\n   * Add a MediaStreamTrack to the connection.\n   * @param {MediaStreamTrack} track\n   * @param {MediaStream} stream\n   */\n  addTrack (track, stream) {\n    if (this.destroying) return\n    if (this.destroyed) throw errCode(new Error('cannot addTrack after peer is destroyed'), 'ERR_DESTROYED')\n    this._debug('addTrack()')\n\n    const submap = this._senderMap.get(track) || new Map() // nested Maps map [track, stream] to sender\n    let sender = submap.get(stream)\n    if (!sender) {\n      sender = this._pc.addTrack(track, stream)\n      submap.set(stream, sender)\n      this._senderMap.set(track, submap)\n      this._needsNegotiation()\n    } else if (sender.removed) {\n      throw errCode(new Error('Track has been removed. You should enable/disable tracks that you want to re-add.'), 'ERR_SENDER_REMOVED')\n    } else {\n      throw errCode(new Error('Track has already been added to that stream.'), 'ERR_SENDER_ALREADY_ADDED')\n    }\n  }\n\n  /**\n   * Replace a MediaStreamTrack by another in the connection.\n   * @param {MediaStreamTrack} oldTrack\n   * @param {MediaStreamTrack} newTrack\n   * @param {MediaStream} stream\n   */\n  replaceTrack (oldTrack, newTrack, stream) {\n    if (this.destroying) return\n    if (this.destroyed) throw errCode(new Error('cannot replaceTrack after peer is destroyed'), 'ERR_DESTROYED')\n    this._debug('replaceTrack()')\n\n    const submap = this._senderMap.get(oldTrack)\n    const sender = submap ? submap.get(stream) : null\n    if (!sender) {\n      throw errCode(new Error('Cannot replace track that was never added.'), 'ERR_TRACK_NOT_ADDED')\n    }\n    if (newTrack) this._senderMap.set(newTrack, submap)\n\n    if (sender.replaceTrack != null) {\n      sender.replaceTrack(newTrack)\n    } else {\n      this.destroy(errCode(new Error('replaceTrack is not supported in this browser'), 'ERR_UNSUPPORTED_REPLACETRACK'))\n    }\n  }\n\n  /**\n   * Remove a MediaStreamTrack from the connection.\n   * @param {MediaStreamTrack} track\n   * @param {MediaStream} stream\n   */\n  removeTrack (track, stream) {\n    if (this.destroying) return\n    if (this.destroyed) throw errCode(new Error('cannot removeTrack after peer is destroyed'), 'ERR_DESTROYED')\n    this._debug('removeSender()')\n\n    const submap = this._senderMap.get(track)\n    const sender = submap ? submap.get(stream) : null\n    if (!sender) {\n      throw errCode(new Error('Cannot remove track that was never added.'), 'ERR_TRACK_NOT_ADDED')\n    }\n    try {\n      sender.removed = true\n      this._pc.removeTrack(sender)\n    } catch (err) {\n      if (err.name === 'NS_ERROR_UNEXPECTED') {\n        this._sendersAwaitingStable.push(sender) // HACK: Firefox must wait until (signalingState === stable) https://bugzilla.mozilla.org/show_bug.cgi?id=1133874\n      } else {\n        this.destroy(errCode(err, 'ERR_REMOVE_TRACK'))\n      }\n    }\n    this._needsNegotiation()\n  }\n\n  /**\n   * Remove a MediaStream from the connection.\n   * @param {MediaStream} stream\n   */\n  removeStream (stream) {\n    if (this.destroying) return\n    if (this.destroyed) throw errCode(new Error('cannot removeStream after peer is destroyed'), 'ERR_DESTROYED')\n    this._debug('removeSenders()')\n\n    stream.getTracks().forEach(track => {\n      this.removeTrack(track, stream)\n    })\n  }\n\n  _needsNegotiation () {\n    this._debug('_needsNegotiation')\n    if (this._batchedNegotiation) return // batch synchronous renegotiations\n    this._batchedNegotiation = true\n    queueMicrotask(() => {\n      this._batchedNegotiation = false\n      if (this.initiator || !this._firstNegotiation) {\n        this._debug('starting batched negotiation')\n        this.negotiate()\n      } else {\n        this._debug('non-initiator initial negotiation request discarded')\n      }\n      this._firstNegotiation = false\n    })\n  }\n\n  negotiate () {\n    if (this.destroying) return\n    if (this.destroyed) throw errCode(new Error('cannot negotiate after peer is destroyed'), 'ERR_DESTROYED')\n\n    if (this.initiator) {\n      if (this._isNegotiating) {\n        this._queuedNegotiation = true\n        this._debug('already negotiating, queueing')\n      } else {\n        this._debug('start negotiation')\n        setTimeout(() => { // HACK: Chrome crashes if we immediately call createOffer\n          this._createOffer()\n        }, 0)\n      }\n    } else {\n      if (this._isNegotiating) {\n        this._queuedNegotiation = true\n        this._debug('already negotiating, queueing')\n      } else {\n        this._debug('requesting negotiation from initiator')\n        this.emit('signal', { // request initiator to renegotiate\n          type: 'renegotiate',\n          renegotiate: true\n        })\n      }\n    }\n    this._isNegotiating = true\n  }\n\n  // TODO: Delete this method once readable-stream is updated to contain a default\n  // implementation of destroy() that automatically calls _destroy()\n  // See: https://github.com/nodejs/readable-stream/issues/283\n  destroy (err) {\n    this._destroy(err, () => {})\n  }\n\n  _destroy (err, cb) {\n    if (this.destroyed || this.destroying) return\n    this.destroying = true\n\n    this._debug('destroying (error: %s)', err && (err.message || err))\n\n    queueMicrotask(() => { // allow events concurrent with the call to _destroy() to fire (see #692)\n      this.destroyed = true\n      this.destroying = false\n\n      this._debug('destroy (error: %s)', err && (err.message || err))\n\n      this.readable = this.writable = false\n\n      if (!this._readableState.ended) this.push(null)\n      if (!this._writableState.finished) this.end()\n\n      this._connected = false\n      this._pcReady = false\n      this._channelReady = false\n      this._remoteTracks = null\n      this._remoteStreams = null\n      this._senderMap = null\n\n      clearInterval(this._closingInterval)\n      this._closingInterval = null\n\n      clearInterval(this._interval)\n      this._interval = null\n      this._chunk = null\n      this._cb = null\n\n      if (this._onFinishBound) this.removeListener('finish', this._onFinishBound)\n      this._onFinishBound = null\n\n      if (this._channel) {\n        try {\n          this._channel.close()\n        } catch (err) {}\n\n        // allow events concurrent with destruction to be handled\n        this._channel.onmessage = null\n        this._channel.onopen = null\n        this._channel.onclose = null\n        this._channel.onerror = null\n      }\n      if (this._pc) {\n        try {\n          this._pc.close()\n        } catch (err) {}\n\n        // allow events concurrent with destruction to be handled\n        this._pc.oniceconnectionstatechange = null\n        this._pc.onicegatheringstatechange = null\n        this._pc.onsignalingstatechange = null\n        this._pc.onicecandidate = null\n        this._pc.ontrack = null\n        this._pc.ondatachannel = null\n      }\n      this._pc = null\n      this._channel = null\n\n      if (err) this.emit('error', err)\n      this.emit('close')\n      cb()\n    })\n  }\n\n  _setupData (event) {\n    if (!event.channel) {\n      // In some situations `pc.createDataChannel()` returns `undefined` (in wrtc),\n      // which is invalid behavior. Handle it gracefully.\n      // See: https://github.com/feross/simple-peer/issues/163\n      return this.destroy(errCode(new Error('Data channel event is missing `channel` property'), 'ERR_DATA_CHANNEL'))\n    }\n\n    this._channel = event.channel\n    this._channel.binaryType = 'arraybuffer'\n\n    if (typeof this._channel.bufferedAmountLowThreshold === 'number') {\n      this._channel.bufferedAmountLowThreshold = MAX_BUFFERED_AMOUNT\n    }\n\n    this.channelName = this._channel.label\n\n    this._channel.onmessage = event => {\n      this._onChannelMessage(event)\n    }\n    this._channel.onbufferedamountlow = () => {\n      this._onChannelBufferedAmountLow()\n    }\n    this._channel.onopen = () => {\n      this._onChannelOpen()\n    }\n    this._channel.onclose = () => {\n      this._onChannelClose()\n    }\n    this._channel.onerror = event => {\n      const err = event.error instanceof Error\n        ? event.error\n        : new Error(`Datachannel error: ${event.message} ${event.filename}:${event.lineno}:${event.colno}`)\n      this.destroy(errCode(err, 'ERR_DATA_CHANNEL'))\n    }\n\n    // HACK: Chrome will sometimes get stuck in readyState \"closing\", let's check for this condition\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=882743\n    let isClosing = false\n    this._closingInterval = setInterval(() => { // No \"onclosing\" event\n      if (this._channel && this._channel.readyState === 'closing') {\n        if (isClosing) this._onChannelClose() // closing timed out: equivalent to onclose firing\n        isClosing = true\n      } else {\n        isClosing = false\n      }\n    }, CHANNEL_CLOSING_TIMEOUT)\n  }\n\n  _read () {}\n\n  _write (chunk, encoding, cb) {\n    if (this.destroyed) return cb(errCode(new Error('cannot write after peer is destroyed'), 'ERR_DATA_CHANNEL'))\n\n    if (this._connected) {\n      try {\n        this.send(chunk)\n      } catch (err) {\n        return this.destroy(errCode(err, 'ERR_DATA_CHANNEL'))\n      }\n      if (this._channel.bufferedAmount > MAX_BUFFERED_AMOUNT) {\n        this._debug('start backpressure: bufferedAmount %d', this._channel.bufferedAmount)\n        this._cb = cb\n      } else {\n        cb(null)\n      }\n    } else {\n      this._debug('write before connect')\n      this._chunk = chunk\n      this._cb = cb\n    }\n  }\n\n  // When stream finishes writing, close socket. Half open connections are not\n  // supported.\n  _onFinish () {\n    if (this.destroyed) return\n\n    // Wait a bit before destroying so the socket flushes.\n    // TODO: is there a more reliable way to accomplish this?\n    const destroySoon = () => {\n      setTimeout(() => this.destroy(), 1000)\n    }\n\n    if (this._connected) {\n      destroySoon()\n    } else {\n      this.once('connect', destroySoon)\n    }\n  }\n\n  _startIceCompleteTimeout () {\n    if (this.destroyed) return\n    if (this._iceCompleteTimer) return\n    this._debug('started iceComplete timeout')\n    this._iceCompleteTimer = setTimeout(() => {\n      if (!this._iceComplete) {\n        this._iceComplete = true\n        this._debug('iceComplete timeout completed')\n        this.emit('iceTimeout')\n        this.emit('_iceComplete')\n      }\n    }, this.iceCompleteTimeout)\n  }\n\n  _createOffer () {\n    if (this.destroyed) return\n\n    this._pc.createOffer(this.offerOptions)\n      .then(offer => {\n        if (this.destroyed) return\n        if (!this.trickle && !this.allowHalfTrickle) offer.sdp = filterTrickle(offer.sdp)\n        offer.sdp = this.sdpTransform(offer.sdp)\n\n        const sendOffer = () => {\n          if (this.destroyed) return\n          const signal = this._pc.localDescription || offer\n          this._debug('signal')\n          this.emit('signal', {\n            type: signal.type,\n            sdp: signal.sdp\n          })\n        }\n\n        const onSuccess = () => {\n          this._debug('createOffer success')\n          if (this.destroyed) return\n          if (this.trickle || this._iceComplete) sendOffer()\n          else this.once('_iceComplete', sendOffer) // wait for candidates\n        }\n\n        const onError = err => {\n          this.destroy(errCode(err, 'ERR_SET_LOCAL_DESCRIPTION'))\n        }\n\n        this._pc.setLocalDescription(offer)\n          .then(onSuccess)\n          .catch(onError)\n      })\n      .catch(err => {\n        this.destroy(errCode(err, 'ERR_CREATE_OFFER'))\n      })\n  }\n\n  _requestMissingTransceivers () {\n    if (this._pc.getTransceivers) {\n      this._pc.getTransceivers().forEach(transceiver => {\n        if (!transceiver.mid && transceiver.sender.track && !transceiver.requested) {\n          transceiver.requested = true // HACK: Safari returns negotiated transceivers with a null mid\n          this.addTransceiver(transceiver.sender.track.kind)\n        }\n      })\n    }\n  }\n\n  _createAnswer () {\n    if (this.destroyed) return\n\n    this._pc.createAnswer(this.answerOptions)\n      .then(answer => {\n        if (this.destroyed) return\n        if (!this.trickle && !this.allowHalfTrickle) answer.sdp = filterTrickle(answer.sdp)\n        answer.sdp = this.sdpTransform(answer.sdp)\n\n        const sendAnswer = () => {\n          if (this.destroyed) return\n          const signal = this._pc.localDescription || answer\n          this._debug('signal')\n          this.emit('signal', {\n            type: signal.type,\n            sdp: signal.sdp\n          })\n          if (!this.initiator) this._requestMissingTransceivers()\n        }\n\n        const onSuccess = () => {\n          if (this.destroyed) return\n          if (this.trickle || this._iceComplete) sendAnswer()\n          else this.once('_iceComplete', sendAnswer)\n        }\n\n        const onError = err => {\n          this.destroy(errCode(err, 'ERR_SET_LOCAL_DESCRIPTION'))\n        }\n\n        this._pc.setLocalDescription(answer)\n          .then(onSuccess)\n          .catch(onError)\n      })\n      .catch(err => {\n        this.destroy(errCode(err, 'ERR_CREATE_ANSWER'))\n      })\n  }\n\n  _onConnectionStateChange () {\n    if (this.destroyed) return\n    if (this._pc.connectionState === 'failed') {\n      this.destroy(errCode(new Error('Connection failed.'), 'ERR_CONNECTION_FAILURE'))\n    }\n  }\n\n  _onIceStateChange () {\n    if (this.destroyed) return\n    const iceConnectionState = this._pc.iceConnectionState\n    const iceGatheringState = this._pc.iceGatheringState\n\n    this._debug(\n      'iceStateChange (connection: %s) (gathering: %s)',\n      iceConnectionState,\n      iceGatheringState\n    )\n    this.emit('iceStateChange', iceConnectionState, iceGatheringState)\n\n    if (iceConnectionState === 'connected' || iceConnectionState === 'completed') {\n      this._pcReady = true\n      this._maybeReady()\n    }\n    if (iceConnectionState === 'failed') {\n      this.destroy(errCode(new Error('Ice connection failed.'), 'ERR_ICE_CONNECTION_FAILURE'))\n    }\n    if (iceConnectionState === 'closed') {\n      this.destroy(errCode(new Error('Ice connection closed.'), 'ERR_ICE_CONNECTION_CLOSED'))\n    }\n  }\n\n  getStats (cb) {\n    // statreports can come with a value array instead of properties\n    const flattenValues = report => {\n      if (Object.prototype.toString.call(report.values) === '[object Array]') {\n        report.values.forEach(value => {\n          Object.assign(report, value)\n        })\n      }\n      return report\n    }\n\n    // Promise-based getStats() (standard)\n    if (this._pc.getStats.length === 0 || this._isReactNativeWebrtc) {\n      this._pc.getStats()\n        .then(res => {\n          const reports = []\n          res.forEach(report => {\n            reports.push(flattenValues(report))\n          })\n          cb(null, reports)\n        }, err => cb(err))\n\n    // Single-parameter callback-based getStats() (non-standard)\n    } else if (this._pc.getStats.length > 0) {\n      this._pc.getStats(res => {\n        // If we destroy connection in `connect` callback this code might happen to run when actual connection is already closed\n        if (this.destroyed) return\n\n        const reports = []\n        res.result().forEach(result => {\n          const report = {}\n          result.names().forEach(name => {\n            report[name] = result.stat(name)\n          })\n          report.id = result.id\n          report.type = result.type\n          report.timestamp = result.timestamp\n          reports.push(flattenValues(report))\n        })\n        cb(null, reports)\n      }, err => cb(err))\n\n    // Unknown browser, skip getStats() since it's anyone's guess which style of\n    // getStats() they implement.\n    } else {\n      cb(null, [])\n    }\n  }\n\n  _maybeReady () {\n    this._debug('maybeReady pc %s channel %s', this._pcReady, this._channelReady)\n    if (this._connected || this._connecting || !this._pcReady || !this._channelReady) return\n\n    this._connecting = true\n\n    // HACK: We can't rely on order here, for details see https://github.com/js-platform/node-webrtc/issues/339\n    const findCandidatePair = () => {\n      if (this.destroyed) return\n\n      this.getStats((err, items) => {\n        if (this.destroyed) return\n\n        // Treat getStats error as non-fatal. It's not essential.\n        if (err) items = []\n\n        const remoteCandidates = {}\n        const localCandidates = {}\n        const candidatePairs = {}\n        let foundSelectedCandidatePair = false\n\n        items.forEach(item => {\n          // TODO: Once all browsers support the hyphenated stats report types, remove\n          // the non-hypenated ones\n          if (item.type === 'remotecandidate' || item.type === 'remote-candidate') {\n            remoteCandidates[item.id] = item\n          }\n          if (item.type === 'localcandidate' || item.type === 'local-candidate') {\n            localCandidates[item.id] = item\n          }\n          if (item.type === 'candidatepair' || item.type === 'candidate-pair') {\n            candidatePairs[item.id] = item\n          }\n        })\n\n        const setSelectedCandidatePair = selectedCandidatePair => {\n          foundSelectedCandidatePair = true\n\n          let local = localCandidates[selectedCandidatePair.localCandidateId]\n\n          if (local && (local.ip || local.address)) {\n            // Spec\n            this.localAddress = local.ip || local.address\n            this.localPort = Number(local.port)\n          } else if (local && local.ipAddress) {\n            // Firefox\n            this.localAddress = local.ipAddress\n            this.localPort = Number(local.portNumber)\n          } else if (typeof selectedCandidatePair.googLocalAddress === 'string') {\n            // TODO: remove this once Chrome 58 is released\n            local = selectedCandidatePair.googLocalAddress.split(':')\n            this.localAddress = local[0]\n            this.localPort = Number(local[1])\n          }\n          if (this.localAddress) {\n            this.localFamily = this.localAddress.includes(':') ? 'IPv6' : 'IPv4'\n          }\n\n          let remote = remoteCandidates[selectedCandidatePair.remoteCandidateId]\n\n          if (remote && (remote.ip || remote.address)) {\n            // Spec\n            this.remoteAddress = remote.ip || remote.address\n            this.remotePort = Number(remote.port)\n          } else if (remote && remote.ipAddress) {\n            // Firefox\n            this.remoteAddress = remote.ipAddress\n            this.remotePort = Number(remote.portNumber)\n          } else if (typeof selectedCandidatePair.googRemoteAddress === 'string') {\n            // TODO: remove this once Chrome 58 is released\n            remote = selectedCandidatePair.googRemoteAddress.split(':')\n            this.remoteAddress = remote[0]\n            this.remotePort = Number(remote[1])\n          }\n          if (this.remoteAddress) {\n            this.remoteFamily = this.remoteAddress.includes(':') ? 'IPv6' : 'IPv4'\n          }\n\n          this._debug(\n            'connect local: %s:%s remote: %s:%s',\n            this.localAddress,\n            this.localPort,\n            this.remoteAddress,\n            this.remotePort\n          )\n        }\n\n        items.forEach(item => {\n          // Spec-compliant\n          if (item.type === 'transport' && item.selectedCandidatePairId) {\n            setSelectedCandidatePair(candidatePairs[item.selectedCandidatePairId])\n          }\n\n          // Old implementations\n          if (\n            (item.type === 'googCandidatePair' && item.googActiveConnection === 'true') ||\n            ((item.type === 'candidatepair' || item.type === 'candidate-pair') && item.selected)\n          ) {\n            setSelectedCandidatePair(item)\n          }\n        })\n\n        // Ignore candidate pair selection in browsers like Safari 11 that do not have any local or remote candidates\n        // But wait until at least 1 candidate pair is available\n        if (!foundSelectedCandidatePair && (!Object.keys(candidatePairs).length || Object.keys(localCandidates).length)) {\n          setTimeout(findCandidatePair, 100)\n          return\n        } else {\n          this._connecting = false\n          this._connected = true\n        }\n\n        if (this._chunk) {\n          try {\n            this.send(this._chunk)\n          } catch (err) {\n            return this.destroy(errCode(err, 'ERR_DATA_CHANNEL'))\n          }\n          this._chunk = null\n          this._debug('sent chunk from \"write before connect\"')\n\n          const cb = this._cb\n          this._cb = null\n          cb(null)\n        }\n\n        // If `bufferedAmountLowThreshold` and 'onbufferedamountlow' are unsupported,\n        // fallback to using setInterval to implement backpressure.\n        if (typeof this._channel.bufferedAmountLowThreshold !== 'number') {\n          this._interval = setInterval(() => this._onInterval(), 150)\n          if (this._interval.unref) this._interval.unref()\n        }\n\n        this._debug('connect')\n        this.emit('connect')\n      })\n    }\n    findCandidatePair()\n  }\n\n  _onInterval () {\n    if (!this._cb || !this._channel || this._channel.bufferedAmount > MAX_BUFFERED_AMOUNT) {\n      return\n    }\n    this._onChannelBufferedAmountLow()\n  }\n\n  _onSignalingStateChange () {\n    if (this.destroyed) return\n\n    if (this._pc.signalingState === 'stable') {\n      this._isNegotiating = false\n\n      // HACK: Firefox doesn't yet support removing tracks when signalingState !== 'stable'\n      this._debug('flushing sender queue', this._sendersAwaitingStable)\n      this._sendersAwaitingStable.forEach(sender => {\n        this._pc.removeTrack(sender)\n        this._queuedNegotiation = true\n      })\n      this._sendersAwaitingStable = []\n\n      if (this._queuedNegotiation) {\n        this._debug('flushing negotiation queue')\n        this._queuedNegotiation = false\n        this._needsNegotiation() // negotiate again\n      } else {\n        this._debug('negotiated')\n        this.emit('negotiated')\n      }\n    }\n\n    this._debug('signalingStateChange %s', this._pc.signalingState)\n    this.emit('signalingStateChange', this._pc.signalingState)\n  }\n\n  _onIceCandidate (event) {\n    if (this.destroyed) return\n    if (event.candidate && this.trickle) {\n      this.emit('signal', {\n        type: 'candidate',\n        candidate: {\n          candidate: event.candidate.candidate,\n          sdpMLineIndex: event.candidate.sdpMLineIndex,\n          sdpMid: event.candidate.sdpMid\n        }\n      })\n    } else if (!event.candidate && !this._iceComplete) {\n      this._iceComplete = true\n      this.emit('_iceComplete')\n    }\n    // as soon as we've received one valid candidate start timeout\n    if (event.candidate) {\n      this._startIceCompleteTimeout()\n    }\n  }\n\n  _onChannelMessage (event) {\n    if (this.destroyed) return\n    let data = event.data\n    if (data instanceof ArrayBuffer) data = Buffer.from(data)\n    this.push(data)\n  }\n\n  _onChannelBufferedAmountLow () {\n    if (this.destroyed || !this._cb) return\n    this._debug('ending backpressure: bufferedAmount %d', this._channel.bufferedAmount)\n    const cb = this._cb\n    this._cb = null\n    cb(null)\n  }\n\n  _onChannelOpen () {\n    if (this._connected || this.destroyed) return\n    this._debug('on channel open')\n    this._channelReady = true\n    this._maybeReady()\n  }\n\n  _onChannelClose () {\n    if (this.destroyed) return\n    this._debug('on channel close')\n    this.destroy()\n  }\n\n  _onTrack (event) {\n    if (this.destroyed) return\n\n    event.streams.forEach(eventStream => {\n      this._debug('on track')\n      this.emit('track', event.track, eventStream)\n\n      this._remoteTracks.push({\n        track: event.track,\n        stream: eventStream\n      })\n\n      if (this._remoteStreams.some(remoteStream => {\n        return remoteStream.id === eventStream.id\n      })) return // Only fire one 'stream' event, even though there may be multiple tracks per stream\n\n      this._remoteStreams.push(eventStream)\n      queueMicrotask(() => {\n        this._debug('on stream')\n        this.emit('stream', eventStream) // ensure all tracks have been added\n      })\n    })\n  }\n\n  _debug () {\n    const args = [].slice.call(arguments)\n    args[0] = '[' + this._id + '] ' + args[0]\n    debug.apply(null, args)\n  }\n}\n\nPeer.WEBRTC_SUPPORT = !!getBrowserRTC()\n\n/**\n * Expose peer and data channel config for overriding all Peer\n * instances. Otherwise, just set opts.config or opts.channelConfig\n * when constructing a Peer.\n */\nPeer.config = {\n  iceServers: [\n    {\n      urls: [\n        'stun:stun.l.google.com:19302',\n        'stun:global.stun.twilio.com:3478'\n      ]\n    }\n  ],\n  sdpSemantics: 'unified-plan'\n}\n\nPeer.channelConfig = {}\n\nmodule.exports = Peer\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n"],"names":["useUnmount","callback","unmountRef","React","current","_a","registerPersistedKeytips","keytipsToRegister","keytipManager","registeredPersistedKeytips","_i","keytip","register","unregisterPersistedKeytips","Object","keys","uniqueID","unregister","OverflowButton","props","KeytipManager","className","overflowItems","keytipSequences","itemSubMenuProvider","onRenderOverflowButton","persistedKeytips","useConst","getSubMenuForItem","item","subMenuProps","items","newKeytipsToRegister","newOverflowItems","forEach","overflowItem","keytipProps","persistedKeytip","content","keySequences","disabled","isDisabled","hasDynamicChildren","hasMenu","onExecute","menuExecute","bind","hasOverflowSubMenu","push","newOverflowItem","overflowSetSequence","modifiedOverflowItems","prevPersistedKeytips","usePrevious","useKeytipRegistrations","getClassNames","classNamesFunction","OverflowSetBase","forwardedRef","divContainer","mergedRef","useMergedRefs","componentRef","focus","focusSucceeded","focusFirstChild","focusElement","childElement","elementContains","document","activeElement","useComponentRef","styles","vertical","role","overflowSide","onRenderItem","classNames","showOverflow","length","getNativeProps","divProperties","undefined","root","ref","__assign","overflowButton","map","i","key","displayName","ResizeGroupDirection","overflowItemStyle","flexShrink","display","OverflowSet","styled","position","flexWrap","flexDirection","scope","getNextResizeGroupStateProvider","measurementCache","measurementsCache","getCachedMeasurement","data","cacheKey","hasOwnProperty","addMeasurementToCache","measurement","getMeasurementCache","_containerDimension","_measurementCache","_getMeasuredDimension","measuredData","getElementToMeasureDimension","cachedDimension","measuredDimension","_shrinkContentsUntilTheyFit","onReduceData","dataToMeasure","nextMeasuredData","renderedData","resizeDirection","getNextState","currentState","newContainerDimension","newDimension","fullDimensionData","onGrowData","nextState","measureContainer","_updateContainerDimension","_growDataUntilItDoesNotFit","shouldRenderDataForMeasurement","getInitialResizeGroupState","MeasuredContext","isMeasured","hiddenDivStyles","visibility","hiddenParentStyles","resizeDataReducer","state","action","type","value","useResizingBehavior","rootRef","nextResizeGroupStateProvider","initialHiddenDiv","updateHiddenDiv","hasRenderedContent","async","useAsync","initialStateData","resizeData","dispatchResizeDataAction","stateRef","useResizeState","updateResizeState","remeasure","dataDidRender","requestAnimationFrame","containerDimension","boundingRect","getBoundingClientRect","direction","height","width","refToMeasure","measuredBoundingRect","win","useWindow","useOnEvent","debounce","leading","dataNeedsMeasuring","isInitialMeasure","measuredContextValue","ResizeGroupBase","mergedRootRef","onRenderData","divProps","style","Provider","ResizeGroup","getStyles","memoizeFunction","theme","customStyles","focusInset","focusColor","baseButtonStyles","getBaseButtonStyles","baseSplitButtonStyles","getSplitButtonStyles","p","semanticColors","commandButtonStyles","getFocusStyle","inset","highContrastStyle","left","top","bottom","right","border","borderColor","fonts","medium","minWidth","backgroundColor","white","color","neutralPrimary","padding","borderRadius","selectors","HighContrastSelector","rootHovered","neutralLighter","neutralDark","_b","ButtonGlobalClassNames","themeDarkAlt","rootPressed","neutralLight","_c","themeDark","rootChecked","_d","rootCheckedHovered","neutralQuaternaryAlt","_e","rootExpanded","_f","rootExpandedHovered","rootDisabled","_g","disabledBodySubtext","_h","getHighContrastNoAdjustStyle","splitButtonContainer","_j","splitButtonDividerDisabled","_k","splitButtonDivider","neutralTertiaryAlt","splitButtonMenuButton","borderTopRightRadius","borderBottomRightRadius","neutralSecondary","_l","_m","splitButtonMenuButtonDisabled","_o","splitButtonMenuButtonChecked","splitButtonMenuButtonExpanded","black","splitButtonMenuIcon","splitButtonMenuIconDisabled","neutralTertiary","label","fontWeight","icon","themePrimary","menuIcon","_p","concatStyleSets","__extends","CommandBarButton","this","BaseButton","variantClassName","onRenderDescription","nullRender","customizable","getCommandButtonStyles","rootStyles","labelStyles","whiteSpace","restCustomStyles","_super","_this","ariaLabel","primaryGroupAriaLabel","farItemsGroupAriaLabel","hasSecondSet","farItems","FocusZone","css","_classNames","FocusZoneDirection","_overflowSet","primarySet","primaryItems","_onRenderItem","_onRenderOverflowButton","secondarySet","onRender","itemText","text","name","commandButtonProps","allowDisabledFocus","buttonStyles","iconOnly","menuProps","onClick","_onButtonClick","tooltipHostProps","TooltipHost","setAriaDescribedBy","_commandButton","ButtonAs","buttonAs","CommandBarButtonAs","commandBarButtonAs","Type","composeComponentAs","overflowButtonProps","combinedOverflowItems","overflowProps","fontSize","menuIconProps","iconName","OverflowButtonType","overflowButtonAs","shiftOnReduce","onDataReduced","movedItem","renderedInOverflow","slice","newData","_computeCacheKey","overflow","onDataGrown","minimumOverflowItems","__spreadArray","initializeComponentRef","CommandBarBase","_onReduceData","_onGrowData","ResizeGroupAs","commandBarData","nativeProps","_resizeGroup","_onRenderData","overflowSet","ev","inactive","reduce","acc","join","CommandBar","bodyBackground","flexGrow","alignItems","FocusTrapZone","firstBumper","lastBumper","id","useId","doc","useDocument","internalState","previouslyFocusedElementOutsideTrapZone","previouslyFocusedElementInTrapZone","disposeFocusHandler","disposeClickHandler","hasFocus","unmodalize","ariaLabelledBy","children","disableFirstFocus","currentDisabledValue","elementToFocusOnDismiss","forceFocusInsideTrap","focusPreviouslyFocusedInnerElement","firstFocusableSelector","firstFocusableTarget","ignoreExternalFocusing","isClickableOutsideFocusTrap","onFocus","onBlur","onFocusCapture","onBlurCapture","enableAriaHiddenSiblings","bumperProps","pointerEvents","tabIndex","focusAsync","focusSelector","firstFocusableChild","querySelector","getNextElement","firstChild","onBumperFocus","isFirstBumper","currentBumper","nextFocusable","getLastTabbable","getFirstTabbable","onRootBlurCapture","relatedTarget","onRootFocusCapture","target","currentTarget","returnFocusToInitiator","focusStack","filter","body","forceFocusInTrap","focusedElement","preventDefault","stopPropagation","forceClickInTrap","clickedElement","updateEventHandlers","on","window","parentRoot","newForceFocusInsideTrap","newDisabled","modalize","previouslyFocusedElement","link","adjustPropsForRootType","RootType","href","restProps","LinkBase","as","underline","mergedRootRefs","useFocusRects","isButton","isUnderlined","rootType","slots","slotProps","useLink","GlobalClassNames","Link","linkColor","linkInteractedColor","linkHovered","linkDisabledColor","disabledText","focusBorderColor","focusBorder","getGlobalClassNames","outline","textDecoration","boxShadow","borderBottom","background","cursor","margin","textAlign","textOverflow","userSelect","forcedColorAdjust","MsHighContrastAdjust","ScrollToMode","SPACER_KEY_PREFIX","EMPTY_RECT","_measurePageRect","element","_measureSurfaceRect","_measureScrollRect","nextProps","previousState","renderCount","startIndex","version","_resetRequiredWindows","_requiredRect","_measureVersion","_invalidatePageCache","_updatePages","surfaceElement","surfaceRef","pageElements","pageProps","defaultRender","onRenderCell","cellRole","cells","index","itemKey","getKey","ignoreScrollingState","isScrolling","pages","getDerivedStateFromProps","_getDerivedStateFromProps","_async","Async","_events","EventGroup","_estimatedPageHeight","_totalEstimates","_requiredWindowsAhead","_requiredWindowsBehind","_onAsyncScroll","maxWait","_onAsyncIdle","_onAsyncResize","_onScrollingDone","_cachedPageHeights","_focusedIndex","_pageCache","List","_pageRefs","measureItem","scrollToMode","endIndex","_getRenderCount","allowedRect","_allowedRect","scrollTop","itemsPerPage","itemIndex","pageSpecification","_getPageSpecification","pageHeight","itemCount","_scrollElement","scrollRect","scrollWindow","itemPositionWithinPage","itemIndexInPage","scrollBottom","page","isSpacer","_scrollTop","rowHeight","Math","floor","totalRowHeight","setState","findScrollableParent","_root","_onFocus","_onScroll","previousProps","finalProps","finalState","pagesVersion","getPageHeight","_updatePageMeasurements","_materializedRect","_hasCompletedFirstRender","onPagesUpdated","dispose","newProps","newState","oldPages","newPages","shouldComponentUpdate","oldPage","newPage","_updateRenderRects","forceUpdate","call","_surfaceRect","onRenderSurface","onRenderRoot","_renderPage","finalOnRenderSurface","composeRenderFunction","_onRenderSurface","_onRenderRoot","_surface","onShouldVirtualize","cachedPage","usePageCache","pageElement","pageStyle","_getPageStyle","onRenderPage","_onRenderPage","newRef","getPageStyle","indexString","getAttribute","Number","getParent","innerRect","outerRect","renderedWindowsAhead","renderedWindowsBehind","requiredWindowsAhead","requiredWindowsBehind","windowsAhead","min","windowsBehind","newListState","_buildPages","oldListPages","_notifyPageChanges","onPageAdded","onPageRemoved","renderedIndexes","_onPageAdded","_onPageRemoved","heightChanged","_shouldVirtualize","_measurePage","hasChangedHeight","cachedHeight","measureVersion","newClientRect","clientWidth","clientHeight","round","materializedRect","pageTop","currentSpacer","focusedIndex","shouldVirtualize","isFirstRender","this_1","pageData","targetRect","newRect","pageBottom","isPageRendered","findIndex","isPageInAllowedRange","isPageInRequiredRange","itemsInPage","_createPage","_visibleRect","isVisible","visibleRect","getPageSpecification","_getItemCountForPage","_getPageHeight","visibileRect","getItemCountForPage","pageKey","count","surfaceRect","scrollHeight","_scrollHeight","abs","visibleTop","max","getWindow","innerHeight","_expandRect","containsFocus","rect","pagesBefore","pagesAfter","animationDuration","AnimationVariables","globalClassNames","main","scrollableContent","isOpen","layer","isDragging","mergeStyles","touchAction","eventMapping","start","move","stop","event","onMouseDown","_currentEventType","_onDragStart","onMouseUp","_onDragStop","onTouchStart","onTouchEnd","button","handleSelector","_matchesSelector","preventDragSelector","_touchId","_getTouchId","_getControlPosition","dragData","_createDragDataFromPosition","onStart","lastPosition","_onDrag","updatedData","_createUpdatedDragData","updatedPosition","onDragChange","baseDragData","onStop","x","y","DraggableZone","prevProps","child","statePosition","transform","_onMouseDown","_onMouseUp","_onTouchStart","_onTouchEnd","touchObj","_getActiveTouch","eventToGetOffset","clientX","clientY","targetTouches","_findTouchInTouchList","changedTouches","touch","identifier","selector","matchesSelectorFn","matches","webkitMatchesSelector","msMatchesSelector","parentElement","touchList","delta","useSetTimeout","timeoutIds","clearTimeout","setTimeout","func","duration","ZERO","DEFAULT_PROPS","isDarkOverlay","containerClassName","ModalBase","propsWithoutDefaults","getPropsWithDefaults","allowTouchBodyScroll","scrollableContentClassName","isBlocking","isAlert","onDismiss","layerProps","overlay","titleAriaId","subtitleAriaId","topOffsetFixed","responsiveMode","onLayerDidMount","isModeless","dragOptions","onDismissed","focusTrapZone","focusTrapZoneElm","modalResponsiveMode","useResponsiveMode","focusTrapZoneId","isModalOpen","setIsModalOpen","setIsVisible","coordinates","setCoordinates","modalRectangleTop","setModalRectangleTop","useBoolean","isModalMenuOpen","toggleModalMenuOpen","setModalMenuClose","onModalCloseTimer","lastSetCoordinates","events","keepInBounds","isAlertRole","layerClassName","hasBeenOpened","windowInnerHeight","isDefaultDragHandle","dragHandleSelector","mergedLayerProps","eventBubblingEnabled","insertFirst","allowScrollOnModal","elt","allowOverscrollOnElement","allowScrollOnElement","off","registerInitialModalPosition","dialogMain","modalRectangle","minPosition","maxPosition","getClampedAxis","axis","handleModalClose","isInKeyboardMoveMode","disposeOnKeyUp","handleDragStart","handleDrag","prevValue","handleDragStop","handleKeyUp","altKey","ctrlKey","keyCode","KeyCodes","registerForKeyUp","parseFloat","modalContent","disposeOnKeyDown","keyboardMoveIconContainer","keyboardMoveIconProps","Icon","keyboardMoveIcon","menu","moveMenuItemText","handleKeyDown","newLocal","handledEvent","delta_1","shiftKey","getMoveDelta","closeMenuItemText","alignTargetEdge","coverTarget","directionalHint","DirectionalHint","directionalHintFixed","shouldFocusOnMount","ResponsiveMode","Layer","Popup","ariaDescribedBy","shouldRestoreFocus","Overlay","isDarkThemed","Modal","palette","effects","justifyContent","opacity","transition","elevation64","roundedCorner2","boxSizing","maxHeight","maxWidth","minHeight","overflowY","zIndex","ZIndexes","xLargePlus","fields","_allowTouchBodyScroll","OverlayBase","disableBodyScroll","enableBodyScroll","isDark","rootDark","isNone","whiteTranslucent40","blackTranslucent40","PanelType","PanelVisibilityState","onRenderNavigation","onRenderNavigationContent","isActive","defaultPrevented","close","_scrollableContent","hasCloseButton","_onRenderNavigationContent","navigation","closeButtonAriaLabel","onRenderHeader","_onRenderHeader","iconButtonStyles","subComponentStyles","closeButton","_hasCustomNavigation","_headerTextId","IconButton","_onPanelClick","title","iconProps","headerTextId","headerText","headerTextProps","header","onRenderFooterContent","footer","footerInner","newVisibilityState","open","onOpen","_animationCallback","_onTransitionComplete","dismiss","_updateFooterPosition","onOpened","closed","warnDeprecations","isFooterSticky","getId","PanelBase","prevState","animatingClosed","animatingOpen","_shouldListenForOuterClick","_dismissOnOuterClick","shouldListenOnOuterClick","previousShouldListenOnOuterClick","_clearExistingAnimationTimer","_animateTo","focusTrapZoneProps","headerClassName","isFooterAtBottom","isLightDismiss","isHiddenOnDismiss","overlayProps","popupProps","customWidth","onLightDismissClick","_onRenderNavigation","onRenderBody","_onRenderBody","onRenderFooter","_onRenderFooter","isLeft","smallFixedNear","customNear","isOnRightSide","getRTL","customWidthStyles","custom","isAnimating","focusTrapZoneClassName","hasCustomNavigation","hiddenPanel","_panel","contentInner","_allowScrollOnPanel","commands","innerHeight_1","panel","onOuterClick","smallFixedFar","smallFluid","large","largeFixed","extraLarge","panelWidth","panelMargin","smallPanelSelectors","ScreenWidthMinMedium","mediumPanelSelectors","ScreenWidthMinLarge","ScreenWidthMinXLarge","largePanelSelectors","ScreenWidthMinUhfMobile","ScreenWidthMinXXLarge","largeFixedPanelSelectors","extraLargePanelSelectors","getPanelBreakpoints","sharedPaddingStyles","paddingLeft","paddingRight","Panel","isCustomPanel","AnimationClassNames","overflowX","WebkitOverflowScrolling","borderLeft","variantBorder","borderRight","paddingTop","marginTop","alignSelf","xLarge","bodyText","lineHeight","overflowWrap","wordWrap","wordBreak","hyphens","paddingBottom","borderTop","borderTopColor","marginRight","IconFontSizes","UNWANTED_ENCLOSURES_REGEX","UNWANTED_CHARS_REGEX","PHONENUMBER_REGEX","MULTIPLE_WHITESPACES_REGEX","UNSUPPORTED_TEXT_REGEX","getInitials","isRtl","allowPhoneInitials","replace","trim","cleanupDisplayName","test","initials","splits","split","charAt","toUpperCase","getInitialsLatin","personaSize","personaPresenceSize","sizeBoolean","size","isSize8","PersonaSize","isSize10","isSize16","isSize24","isSize28","isSize32","isSize40","isSize48","isSize56","isSize72","isSize100","isSize120","sizeToPixels","presenceBoolean","presence","isAvailable","PersonaPresence","isAway","isBlocked","isBusy","isDoNotDisturb","isOffline","cacheSize","PersonaPresenceBase","coinSize","isOutOfOffice","presenceTitle","presenceColors","renderIcon","presenceHeightWidth","presenceMaxSize","coinSizeWithPresenceIconStyle","presenceFontMaxSize","coinSizeWithPresenceStyle","PersonaPresenceEnum","presenceIcon","determineIcon","oofIcon","makeOpenCircleIconStyle","makeBeforeBorderStyle","borderSize","makeSizeStyle","presenceColorAvailable","available","presenceColorAway","away","presenceColorBusy","busy","presenceColorDnd","dnd","presenceColorOffline","offline","presenceColorOof","oof","presenceColorBackground","isOpenCirclePresence","size12","backgroundClip","size8","size6","borderWidth","size16","size20","size28","size32","verticalAlign","small","COLOR_SWATCHES_LOOKUP","PersonaInitialsColor","COLOR_SWATCHES_NUM_ENTRIES","getPersonaInitialsColor","primaryText","initialsColor","personaInitialsColor","personaInitialsColorToHexCode","hashCode","iLen","ch","charCodeAt","shift","getInitialsColorFromName","getInitialsStyles","initialsTextColor","showUnknownPersonaCoin","imageAlt","PersonaCoinBase","onPhotoLoadingStateChange","imageUrl","ImageLoadState","imageLoadState","setImageLoadstate","loadState","useImageLoadState","onLoadingStateChange","renderCoin","getCoinRenderer","coinProps","onRenderCoin","onRenderPersonaCoin","onRenderInitials","renderPersonaCoinInitials","showInitialsUntilImageLoads","divCoinProps","coinSizeStyle","hideImage","personaPresenceProps","shouldRenderInitials","Boolean","coin","imageArea","size10WithoutPresenceIcon","imageShouldFadeIn","imageShouldStartVisible","dimension","Image","image","imageFit","ImageFit","src","alt","shouldFadeIn","shouldStartVisible","imageInitials","isRTL","size10","size24","size40","size48","size56","size72","size100","size120","PersonaCoin","xSmall","flex","perspective","FontWeights","mediumPlus","xxLarge","superLarge","showOverflowTooltip","PersonaBase","getText","renderElement","elementClassNames","renderFunction","defaultRenderFunction","dir","onRenderText","tooltip","overflowMode","TooltipOverflowMode","onInternalRenderPrimaryText","onInternalRenderSecondaryText","secondaryText","onInternalRenderTertiaryText","tertiaryText","onInternalRenderOptionalText","optionalText","hidePersonaDetails","onRenderOptionalText","onRenderPrimaryText","onRenderSecondaryText","onRenderTertiaryText","providedCoinProps","showSecondaryText","personaCoinProps","personaDetails","details","blocked","doNotDisturb","textContent","Persona","showSecondaryTextDefaultHeight","sharedTextStyles","bodySubtext","normalize","noWrap","inputTextHovered","TooltipDelay","subText","TooltipBase","calloutProps","directionalHintForRTL","onRenderContent","_onRenderContent","targetElement","beakWidth","gapSpace","Callout","onMouseEnter","onMouseLeave","isBeakVisible","setInitialFocus","doNotLayer","Tooltip","tooltipGapSpace","sqrt","devicePixelRatio","menuBackground","elevation8","menuItemText","_toggleTooltip","_hideTooltip","_tooltipHost","_ignoreNextFocusEvent","_onTooltipMouseEnter","delay","TooltipHostBase","_currentVisibleTooltip","overflowElement","_getTargetElement","scrollWidth","hasHorizontalOverflow","hasVerticalOverflow","portalContainsElement","_clearDismissTimer","_clearOpenTimer","zero","delayTime","_getDelayTime","_openTimerId","closeDelay","_dismissTimerId","which","isTooltipVisible","onTooltipToggle","long","isAriaPlaceholderRendered","tooltipProps","tooltipId","_defaultTooltipId","isContentPresent","showTooltip","_onTooltipFocus","_onTooltipBlur","_onTooltipMouseLeave","onKeyDown","_onTooltipKeyDown","assign","hidden","hiddenContentStyle","ariaPlaceholder","CommunicationColors","NeutralColors","SharedColors","exports","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","arr","Arr","_byteLength","curByte","len","revLookup","fromByteArray","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","lookup","Uint8Array","Array","code","Error","indexOf","end","num","output","base64","require","ieee754","customInspectSymbol","Symbol","Buffer","SlowBuffer","alloc","INSPECT_MAX_BYTES","K_MAX_LENGTH","createBuffer","RangeError","buf","setPrototypeOf","prototype","arg","encodingOrOffset","TypeError","allocUnsafe","from","string","encoding","isEncoding","actual","write","fromString","ArrayBuffer","isView","arrayView","isInstance","copy","fromArrayBuffer","buffer","byteOffset","fromArrayLike","fromArrayView","SharedArrayBuffer","valueOf","b","obj","isBuffer","checked","numberIsNaN","isArray","fromObject","toPrimitive","assertSize","array","toString","mustMatch","arguments","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","m","bidirectionalIndexOf","val","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","String","read","readUInt16BE","foundIndex","found","j","hexWrite","offset","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","asciiToBytes","base64Write","ucs2Write","units","c","hi","lo","utf16leToBytes","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","apply","decodeCodePointsArray","kMaxLength","TYPED_ARRAY_SUPPORT","proto","foo","e","typedArraySupport","console","error","defineProperty","enumerable","get","poolSize","fill","allocUnsafeSlow","_isBuffer","compare","a","concat","list","pos","set","swap16","swap32","swap64","toLocaleString","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","hexSliceLookupTable","bytes","checkOffset","ext","checkInt","wrtBigUInt64LE","checkIntBI","BigInt","wrtBigUInt64BE","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","first","last","boundsError","readBigUInt64BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","errors","E","sym","getMessage","Base","writable","configurable","stack","message","addNumericalSeparator","range","ERR_OUT_OF_RANGE","checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","input","msg","received","isInteger","INVALID_BASE64_RE","Infinity","leadSurrogate","base64clean","dst","constructor","alphabet","table","i16","fn","BufferBigIntNotDefined","module","err","_","ErrClass","create","getPrototypeOf","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","args","Function","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","NumberIsNaN","isNaN","EventEmitter","init","once","emitter","Promise","resolve","reject","errorListener","removeListener","resolver","eventTargetAgnosticAddListener","handler","flags","addErrorHandlerIfEventEmitter","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","that","_addListener","prepend","existing","warning","newListener","emit","unshift","warned","w","warn","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","addEventListener","wrapListener","removeEventListener","setMaxListeners","getMaxListeners","doError","er","context","listeners","addListener","prependListener","prependOnceListener","originalListener","pop","spliceOne","removeAllListeners","rawListeners","eventNames","globalThis","wrtc","RTCPeerConnection","mozRTCPeerConnection","webkitRTCPeerConnection","RTCSessionDescription","mozRTCSessionDescription","webkitRTCSessionDescription","RTCIceCandidate","mozRTCIceCandidate","webkitRTCIceCandidate","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","d","s","NaN","rt","log","LN2","ctor","superCtor","super_","TempCtor","promise","queueMicrotask","global","cb","then","catch","MAX_BYTES","MAX_UINT32","crypto","msCrypto","getRandomValues","generated","process","nextTick","codes","createErrorType","NodeError","_Base","subClass","superClass","arg1","arg2","arg3","__proto__","oneOf","expected","thing","determiner","search","this_len","substring","endsWith","objectKeys","Duplex","Readable","Writable","v","method","options","allowHalfOpen","readable","onend","_writableState","ended","onEndNT","self","highWaterMark","getBuffer","_readableState","destroyed","PassThrough","Transform","_transform","chunk","ReadableState","EElistenerCount","Stream","OurUint8Array","debug","debugUtil","debuglog","StringDecoder","createReadableStreamAsyncIterator","BufferList","destroyImpl","getHighWaterMark","_require$codes","ERR_STREAM_PUSH_AFTER_EOF","ERR_METHOD_NOT_IMPLEMENTED","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","errorOrDestroy","kProxyEvents","stream","isDuplex","objectMode","readableObjectMode","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","resumeScheduled","paused","emitClose","autoDestroy","defaultEncoding","awaitDrain","readingMore","decoder","_read","destroy","_destroy","readableAddChunk","addToFront","skipChunkCheck","emitReadable","emitReadable_","onEofChunk","chunkInvalid","_uint8ArrayToBuffer","addChunk","maybeReadMore","_undestroy","undestroy","isPaused","setEncoding","enc","head","next","clear","MAX_HWM","howMuchToRead","computeNewHighWaterMark","flow","maybeReadMore_","updateReadableListening","resume","nReadingNextTick","resume_","fromList","consume","endReadable","endReadableNT","wState","finished","xs","l","nOrig","doRead","pipe","dest","pipeOpts","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","onclose","onfinish","ondrain","onerror","ondata","cleanedUp","needDrain","pipeOnDrain","pause","dests","splice","wrap","asyncIterator","_fromList","iterable","opts","ERR_MULTIPLE_CALLBACK","ERR_TRANSFORM_ALREADY_TRANSFORMING","ERR_TRANSFORM_WITH_LENGTH_0","afterTransform","ts","_transformState","transforming","writecb","writechunk","rs","needTransform","writeencoding","flush","_flush","prefinish","done","_write","err2","CorkedRequest","entry","finish","corkReq","pendingcb","corkedRequestsFree","onCorkedFinish","WritableState","internalUtil","deprecate","realHasInstance","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_DESTROYED","ERR_STREAM_NULL_VALUES","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","nop","writableObjectMode","finalCalled","ending","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writelen","onwriteStateUpdate","finishMaybe","errorEmitted","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","bufferedRequestCount","writev","_writev","final","_final","doWrite","onwriteDrain","holder","allBuffers","isBuf","callFinal","need","rState","hasInstance","object","writeAfterEnd","validChunk","newChunk","decodeChunk","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","_Object$setPrototypeO","_defineProperty","kLastResolve","kLastReject","kError","kEnded","kLastPromise","kHandlePromise","kStream","createIterResult","readAndResolve","iter","onReadable","AsyncIteratorPrototype","ReadableStreamAsyncIteratorPrototype","lastPromise","wrapForNext","_this2","_Object$create","iterator","enumerableOnly","symbols","getOwnPropertyDescriptor","_defineProperties","descriptor","instance","Constructor","_classCallCheck","tail","protoProps","staticProps","hasStrings","_getString","_getBuffer","nb","source","getOwnPropertyDescriptors","defineProperties","_objectSpread","depth","customInspect","emitErrorAndCloseNT","emitErrorNT","emitCloseNT","readableDestroyed","writableDestroyed","ERR_STREAM_PREMATURE_CLOSE","noop","eos","called","_len","_key","onlegacyfinish","writableEnded","readableEnded","onrequest","req","setHeader","abort","isRequest","ERR_MISSING_ARGS","destroyer","to","popCallback","streams","destroys","ERR_INVALID_OPT_VALUE","duplexKey","hwm","highWaterMarkFrom","pipeline","copyProps","SafeBuffer","getBrowserRTC","randombytes","errCode","MAX_BUFFERED_AMOUNT","filterTrickle","sdp","Peer","_id","_debug","channelName","initiator","channelConfig","channelNegotiated","negotiated","config","offerOptions","answerOptions","sdpTransform","trickle","allowHalfTrickle","iceCompleteTimeout","destroying","_connected","remoteAddress","remoteFamily","remotePort","localAddress","localFamily","localPort","_wrtc","_pcReady","_channelReady","_iceComplete","_iceCompleteTimer","_channel","_pendingCandidates","_isNegotiating","_firstNegotiation","_batchedNegotiation","_queuedNegotiation","_sendersAwaitingStable","_senderMap","Map","_closingInterval","_remoteTracks","_remoteStreams","_chunk","_cb","_interval","_pc","_isReactNativeWebrtc","_peerConnectionId","oniceconnectionstatechange","_onIceStateChange","onicegatheringstatechange","onconnectionstatechange","_onConnectionStateChange","onsignalingstatechange","_onSignalingStateChange","onicecandidate","_onIceCandidate","peerIdentity","_setupData","channel","createDataChannel","ondatachannel","addStream","ontrack","_onTrack","_needsNegotiation","_onFinishBound","_onFinish","bufferedAmount","readyState","port","family","address","JSON","parse","renegotiate","transceiverRequest","addTransceiver","kind","candidate","remoteDescription","_addIceCandidate","setRemoteDescription","_createAnswer","iceCandidateObj","addIceCandidate","send","getTracks","track","addTrack","submap","sender","removed","oldTrack","newTrack","replaceTrack","removeTrack","negotiate","_createOffer","clearInterval","onmessage","onopen","binaryType","bufferedAmountLowThreshold","_onChannelMessage","onbufferedamountlow","_onChannelBufferedAmountLow","_onChannelOpen","_onChannelClose","filename","lineno","colno","isClosing","setInterval","destroySoon","createOffer","offer","sendOffer","signal","localDescription","setLocalDescription","getTransceivers","transceiver","mid","requested","createAnswer","answer","sendAnswer","_requestMissingTransceivers","connectionState","iceConnectionState","iceGatheringState","_maybeReady","flattenValues","report","values","getStats","reports","result","names","stat","timestamp","_connecting","findCandidatePair","remoteCandidates","localCandidates","candidatePairs","foundSelectedCandidatePair","setSelectedCandidatePair","selectedCandidatePair","local","localCandidateId","ip","ipAddress","portNumber","googLocalAddress","remote","remoteCandidateId","googRemoteAddress","selectedCandidatePairId","googActiveConnection","selected","_onInterval","unref","signalingState","sdpMLineIndex","sdpMid","_startIceCompleteTimeout","eventStream","some","remoteStream","WEBRTC_SUPPORT","iceServers","urls","sdpSemantics","nenc","retried","_normalizeEncoding","normalizeEncoding","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","r","utf8CheckExtraBytes","total","utf8CheckIncomplete","localStorage","trace"],"sourceRoot":""}